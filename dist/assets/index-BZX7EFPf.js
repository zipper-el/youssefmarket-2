(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ph(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var qu={exports:{}},oi={},Bu={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bn=Symbol.for("react.element"),Th=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),Rh=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),Dh=Symbol.for("react.suspense"),Uh=Symbol.for("react.memo"),zh=Symbol.for("react.lazy"),fl=Symbol.iterator;function Mh(t){return t===null||typeof t!="object"?null:(t=fl&&t[fl]||t["@@iterator"],typeof t=="function"?t:null)}var Hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wu=Object.assign,Vu={};function Fr(t,e,r){this.props=t,this.context=e,this.refs=Vu,this.updater=r||Hu}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qu(){}Qu.prototype=Fr.prototype;function fa(t,e,r){this.props=t,this.context=e,this.refs=Vu,this.updater=r||Hu}var ma=fa.prototype=new Qu;ma.constructor=fa;Wu(ma,Fr.prototype);ma.isPureReactComponent=!0;var ml=Array.isArray,Ku=Object.prototype.hasOwnProperty,pa={current:null},Gu={key:!0,ref:!0,__self:!0,__source:!0};function Ju(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ku.call(e,n)&&!Gu.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Bn,type:t,key:i,ref:o,props:s,_owner:pa.current}}function Fh(t,e){return{$$typeof:Bn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ga(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bn}function qh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var pl=/\/+/g;function Ti(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qh(""+t.key):e.toString(36)}function ws(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bn:case Th:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ti(o,0):n,ml(s)?(r="",t!=null&&(r=t.replace(pl,"$&/")+"/"),ws(s,e,r,"",function(c){return c})):s!=null&&(ga(s)&&(s=Fh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(pl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",ml(t))for(var a=0;a<t.length;a++){i=t[a];var u=n+Ti(i,a);o+=ws(i,e,r,u,s)}else if(u=Mh(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=n+Ti(i,a++),o+=ws(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zn(t,e,r){if(t==null)return t;var n=[],s=0;return ws(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Bh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var je={current:null},_s={transition:null},Hh={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:_s,ReactCurrentOwner:pa};function Yu(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Zn,forEach:function(t,e,r){Zn(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Zn(t,function(){e++}),e},toArray:function(t){return Zn(t,function(e){return e})||[]},only:function(t){if(!ga(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=Fr;M.Fragment=Oh;M.Profiler=$h;M.PureComponent=fa;M.StrictMode=Ah;M.Suspense=Dh;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hh;M.act=Yu;M.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Wu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Ku.call(e,u)&&!Gu.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Bn,type:t.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(t){return t={$$typeof:Lh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rh,_context:t},t.Consumer=t};M.createElement=Ju;M.createFactory=function(t){var e=Ju.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:Ih,render:t}};M.isValidElement=ga;M.lazy=function(t){return{$$typeof:zh,_payload:{_status:-1,_result:t},_init:Bh}};M.memo=function(t,e){return{$$typeof:Uh,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=_s.transition;_s.transition={};try{t()}finally{_s.transition=e}};M.unstable_act=Yu;M.useCallback=function(t,e){return je.current.useCallback(t,e)};M.useContext=function(t){return je.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return je.current.useDeferredValue(t)};M.useEffect=function(t,e){return je.current.useEffect(t,e)};M.useId=function(){return je.current.useId()};M.useImperativeHandle=function(t,e,r){return je.current.useImperativeHandle(t,e,r)};M.useInsertionEffect=function(t,e){return je.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return je.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return je.current.useMemo(t,e)};M.useReducer=function(t,e,r){return je.current.useReducer(t,e,r)};M.useRef=function(t){return je.current.useRef(t)};M.useState=function(t){return je.current.useState(t)};M.useSyncExternalStore=function(t,e,r){return je.current.useSyncExternalStore(t,e,r)};M.useTransition=function(){return je.current.useTransition()};M.version="18.3.1";Bu.exports=M;var O=Bu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=O,Vh=Symbol.for("react.element"),Qh=Symbol.for("react.fragment"),Kh=Object.prototype.hasOwnProperty,Gh=Wh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jh={key:!0,ref:!0,__self:!0,__source:!0};function Zu(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Kh.call(e,n)&&!Jh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Vh,type:t,key:i,ref:o,props:s,_owner:Gh.current}}oi.Fragment=Qh;oi.jsx=Zu;oi.jsxs=Zu;qu.exports=oi;var l=qu.exports,Xu={exports:{}},De={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,L){var U=P.length;P.push(L);e:for(;0<U;){var J=U-1>>>1,ie=P[J];if(0<s(ie,L))P[J]=L,P[U]=ie,U=J;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],U=P.pop();if(U!==L){P[0]=U;e:for(var J=0,ie=P.length,$=ie>>>1;J<$;){var R=2*(J+1)-1,I=P[R],F=R+1,Yn=P[F];if(0>s(I,U))F<ie&&0>s(Yn,I)?(P[J]=Yn,P[F]=U,J=F):(P[J]=I,P[R]=U,J=R);else if(F<ie&&0>s(Yn,U))P[J]=Yn,P[F]=U,J=F;else break e}}return L}function s(P,L){var U=P.sortIndex-L.sortIndex;return U!==0?U:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,p=3,y=!1,x=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=P)n(c),L.sortIndex=L.expirationTime,e(u,L);else break;L=r(c)}}function v(P){if(k=!1,g(P),!x)if(r(u)!==null)x=!0,Qr(b);else{var L=r(c);L!==null&&Kr(v,L.startTime-P)}}function b(P,L){x=!1,k&&(k=!1,m(_),_=-1),y=!0;var U=p;try{for(g(L),h=r(u);h!==null&&(!(h.expirationTime>L)||P&&!Q());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var ie=J(h.expirationTime<=L);L=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===r(u)&&n(u),g(L)}else n(u);h=r(u)}if(h!==null)var $=!0;else{var R=r(c);R!==null&&Kr(v,R.startTime-L),$=!1}return $}finally{h=null,p=U,y=!1}}var E=!1,w=null,_=-1,j=5,C=-1;function Q(){return!(t.unstable_now()-C<j)}function ue(){if(w!==null){var P=t.unstable_now();C=P;var L=!0;try{L=w(!0,P)}finally{L?se():(E=!1,w=null)}}else E=!1}var se;if(typeof f=="function")se=function(){f(ue)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Vr=A.port2;A.port1.onmessage=ue,se=function(){Vr.postMessage(null)}}else se=function(){S(ue,0)};function Qr(P){w=P,E||(E=!0,se())}function Kr(P,L){_=S(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Qr(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var U=p;p=L;try{return P()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=p;p=P;try{return L()}finally{p=U}},t.unstable_scheduleCallback=function(P,L,U){var J=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,P){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=U+ie,P={id:d++,callback:L,priorityLevel:P,startTime:U,expirationTime:ie,sortIndex:-1},U>J?(P.sortIndex=U,e(c,P),r(u)===null&&P===r(c)&&(k?(m(_),_=-1):k=!0,Kr(v,U-J))):(P.sortIndex=ie,e(u,P),x||y||(x=!0,Qr(b))),P},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(P){var L=p;return function(){var U=p;p=L;try{return P.apply(this,arguments)}finally{p=U}}}})(tc);ec.exports=tc;var Yh=ec.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=O,Ie=Yh;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rc=new Set,Sn={};function ir(t,e){Ar(t,e),Ar(t+"Capture",e)}function Ar(t,e){for(Sn[t]=e,t=0;t<e.length;t++)rc.add(e[t])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uo=Object.prototype.hasOwnProperty,Xh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gl={},vl={};function ef(t){return uo.call(vl,t)?!0:uo.call(gl,t)?!1:Xh.test(t)?vl[t]=!0:(gl[t]=!0,!1)}function tf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rf(t,e,r,n){if(e===null||typeof e>"u"||tf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function be(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new be(t,5,!1,t.toLowerCase(),null,!1,!1)});var va=/[\-:]([a-z])/g;function ya(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(va,ya);pe[e]=new be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(va,ya);pe[e]=new be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(va,ya);pe[e]=new be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new be(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new be(t,1,!1,t.toLowerCase(),null,!0,!0)});function xa(t,e,r,n){var s=pe.hasOwnProperty(e)?pe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rf(e,r,s,n)&&(r=null),n||s===null?ef(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xt=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xn=Symbol.for("react.element"),mr=Symbol.for("react.portal"),pr=Symbol.for("react.fragment"),wa=Symbol.for("react.strict_mode"),co=Symbol.for("react.profiler"),nc=Symbol.for("react.provider"),sc=Symbol.for("react.context"),_a=Symbol.for("react.forward_ref"),ho=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),ka=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),ic=Symbol.for("react.offscreen"),yl=Symbol.iterator;function Gr(t){return t===null||typeof t!="object"?null:(t=yl&&t[yl]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Oi;function sn(t){if(Oi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Oi=e&&e[1]||""}return`
`+Oi+t}var Ai=!1;function $i(t,e){if(!t||Ai)return"";Ai=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ai=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?sn(t):""}function nf(t){switch(t.tag){case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return sn("Suspense");case 19:return sn("SuspenseList");case 0:case 2:case 15:return t=$i(t.type,!1),t;case 11:return t=$i(t.type.render,!1),t;case 1:return t=$i(t.type,!0),t;default:return""}}function mo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pr:return"Fragment";case mr:return"Portal";case co:return"Profiler";case wa:return"StrictMode";case ho:return"Suspense";case fo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sc:return(t.displayName||"Context")+".Consumer";case nc:return(t._context.displayName||"Context")+".Provider";case _a:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ka:return e=t.displayName||null,e!==null?e:mo(t.type)||"Memo";case kt:e=t._payload,t=t._init;try{return mo(t(e))}catch{}}return null}function sf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mo(e);case 8:return e===wa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ut(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function of(t){var e=oc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function es(t){t._valueTracker||(t._valueTracker=of(t))}function ac(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=oc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function po(t,e){var r=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function xl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ut(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lc(t,e){e=e.checked,e!=null&&xa(t,"checked",e,!1)}function go(t,e){lc(t,e);var r=Ut(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vo(t,e.type,r):e.hasOwnProperty("defaultValue")&&vo(t,e.type,Ut(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function vo(t,e,r){(e!=="number"||$s(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var on=Array.isArray;function Nr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _l(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(on(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ut(r)}}function uc(t,e){var r=Ut(e.value),n=Ut(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function kl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ts,dc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},af=["Webkit","ms","Moz","O"];Object.keys(cn).forEach(function(t){af.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cn[e]=cn[t]})});function hc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cn.hasOwnProperty(t)&&cn[t]?(""+e).trim():e+"px"}function fc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=hc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var lf=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wo(t,e){if(e){if(lf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function _o(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=null;function Sa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var So=null,Er=null,Cr=null;function Sl(t){if(t=Vn(t)){if(typeof So!="function")throw Error(N(280));var e=t.stateNode;e&&(e=di(e),So(t.stateNode,t.type,e))}}function mc(t){Er?Cr?Cr.push(t):Cr=[t]:Er=t}function pc(){if(Er){var t=Er,e=Cr;if(Cr=Er=null,Sl(t),e)for(t=0;t<e.length;t++)Sl(e[t])}}function gc(t,e){return t(e)}function vc(){}var Ri=!1;function yc(t,e,r){if(Ri)return t(e,r);Ri=!0;try{return gc(t,e,r)}finally{Ri=!1,(Er!==null||Cr!==null)&&(vc(),pc())}}function bn(t,e){var r=t.stateNode;if(r===null)return null;var n=di(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var jo=!1;if(mt)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){jo=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{jo=!1}function uf(t,e,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var dn=!1,Rs=null,Ls=!1,bo=null,cf={onError:function(t){dn=!0,Rs=t}};function df(t,e,r,n,s,i,o,a,u){dn=!1,Rs=null,uf.apply(cf,arguments)}function hf(t,e,r,n,s,i,o,a,u){if(df.apply(this,arguments),dn){if(dn){var c=Rs;dn=!1,Rs=null}else throw Error(N(198));Ls||(Ls=!0,bo=c)}}function or(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function xc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jl(t){if(or(t)!==t)throw Error(N(188))}function ff(t){var e=t.alternate;if(!e){if(e=or(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return jl(s),t;if(i===n)return jl(s),e;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function wc(t){return t=ff(t),t!==null?_c(t):null}function _c(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_c(t);if(e!==null)return e;t=t.sibling}return null}var kc=Ie.unstable_scheduleCallback,bl=Ie.unstable_cancelCallback,mf=Ie.unstable_shouldYield,pf=Ie.unstable_requestPaint,ne=Ie.unstable_now,gf=Ie.unstable_getCurrentPriorityLevel,ja=Ie.unstable_ImmediatePriority,Sc=Ie.unstable_UserBlockingPriority,Is=Ie.unstable_NormalPriority,vf=Ie.unstable_LowPriority,jc=Ie.unstable_IdlePriority,ai=null,it=null;function yf(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(ai,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:_f,xf=Math.log,wf=Math.LN2;function _f(t){return t>>>=0,t===0?32:31-(xf(t)/wf|0)|0}var rs=64,ns=4194304;function an(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ds(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=an(a):(i&=o,i!==0&&(n=an(i)))}else o=r&~s,o!==0?n=an(o):i!==0&&(n=an(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xe(e),s=1<<r,n|=t[r],e&=~s;return n}function kf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=kf(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function No(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bc(){var t=rs;return rs<<=1,!(rs&4194240)&&(rs=64),t}function Li(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=r}function jf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Xe(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ba(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xe(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var B=0;function Nc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ec,Na,Cc,Pc,Tc,Eo=!1,ss=[],Tt=null,Ot=null,At=null,Nn=new Map,En=new Map,bt=[],bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nl(t,e){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(e.pointerId)}}function Yr(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vn(e),e!==null&&Na(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Nf(t,e,r,n,s){switch(e){case"focusin":return Tt=Yr(Tt,t,e,r,n,s),!0;case"dragenter":return Ot=Yr(Ot,t,e,r,n,s),!0;case"mouseover":return At=Yr(At,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Nn.set(i,Yr(Nn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,En.set(i,Yr(En.get(i)||null,t,e,r,n,s)),!0}return!1}function Oc(t){var e=Gt(t.target);if(e!==null){var r=or(e);if(r!==null){if(e=r.tag,e===13){if(e=xc(r),e!==null){t.blockedOn=e,Tc(t.priority,function(){Cc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Co(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ko=n,r.target.dispatchEvent(n),ko=null}else return e=Vn(r),e!==null&&Na(e),t.blockedOn=r,!1;e.shift()}return!0}function El(t,e,r){ks(t)&&r.delete(e)}function Ef(){Eo=!1,Tt!==null&&ks(Tt)&&(Tt=null),Ot!==null&&ks(Ot)&&(Ot=null),At!==null&&ks(At)&&(At=null),Nn.forEach(El),En.forEach(El)}function Zr(t,e){t.blockedOn===e&&(t.blockedOn=null,Eo||(Eo=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,Ef)))}function Cn(t){function e(s){return Zr(s,t)}if(0<ss.length){Zr(ss[0],t);for(var r=1;r<ss.length;r++){var n=ss[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Tt!==null&&Zr(Tt,t),Ot!==null&&Zr(Ot,t),At!==null&&Zr(At,t),Nn.forEach(e),En.forEach(e),r=0;r<bt.length;r++)n=bt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<bt.length&&(r=bt[0],r.blockedOn===null);)Oc(r),r.blockedOn===null&&bt.shift()}var Pr=xt.ReactCurrentBatchConfig,Us=!0;function Cf(t,e,r,n){var s=B,i=Pr.transition;Pr.transition=null;try{B=1,Ea(t,e,r,n)}finally{B=s,Pr.transition=i}}function Pf(t,e,r,n){var s=B,i=Pr.transition;Pr.transition=null;try{B=4,Ea(t,e,r,n)}finally{B=s,Pr.transition=i}}function Ea(t,e,r,n){if(Us){var s=Co(t,e,r,n);if(s===null)Wi(t,e,n,zs,r),Nl(t,n);else if(Nf(s,t,e,r,n))n.stopPropagation();else if(Nl(t,n),e&4&&-1<bf.indexOf(t)){for(;s!==null;){var i=Vn(s);if(i!==null&&Ec(i),i=Co(t,e,r,n),i===null&&Wi(t,e,n,zs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Wi(t,e,n,null,r)}}var zs=null;function Co(t,e,r,n){if(zs=null,t=Sa(n),t=Gt(t),t!==null)if(e=or(t),e===null)t=null;else if(r=e.tag,r===13){if(t=xc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zs=t,null}function Ac(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gf()){case ja:return 1;case Sc:return 4;case Is:case vf:return 16;case jc:return 536870912;default:return 16}default:return 16}}var Ct=null,Ca=null,Ss=null;function $c(){if(Ss)return Ss;var t,e=Ca,r=e.length,n,s="value"in Ct?Ct.value:Ct.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ss=s.slice(t,1<n?1-n:void 0)}function js(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function is(){return!0}function Cl(){return!1}function Ue(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?is:Cl,this.isPropagationStopped=Cl,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),e}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Ue(qr),Wn=te({},qr,{view:0,detail:0}),Tf=Ue(Wn),Ii,Di,Xr,li=te({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xr&&(Xr&&t.type==="mousemove"?(Ii=t.screenX-Xr.screenX,Di=t.screenY-Xr.screenY):Di=Ii=0,Xr=t),Ii)},movementY:function(t){return"movementY"in t?t.movementY:Di}}),Pl=Ue(li),Of=te({},li,{dataTransfer:0}),Af=Ue(Of),$f=te({},Wn,{relatedTarget:0}),Ui=Ue($f),Rf=te({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lf=Ue(Rf),If=te({},qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Df=Ue(If),Uf=te({},qr,{data:0}),Tl=Ue(Uf),zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ff={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ff[t])?!!e[t]:!1}function Ta(){return qf}var Bf=te({},Wn,{key:function(t){if(t.key){var e=zf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(t){return t.type==="keypress"?js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hf=Ue(Bf),Wf=te({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=Ue(Wf),Vf=te({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),Qf=Ue(Vf),Kf=te({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gf=Ue(Kf),Jf=te({},li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yf=Ue(Jf),Zf=[9,13,27,32],Oa=mt&&"CompositionEvent"in window,hn=null;mt&&"documentMode"in document&&(hn=document.documentMode);var Xf=mt&&"TextEvent"in window&&!hn,Rc=mt&&(!Oa||hn&&8<hn&&11>=hn),Al=" ",$l=!1;function Lc(t,e){switch(t){case"keyup":return Zf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ic(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gr=!1;function em(t,e){switch(t){case"compositionend":return Ic(e);case"keypress":return e.which!==32?null:($l=!0,Al);case"textInput":return t=e.data,t===Al&&$l?null:t;default:return null}}function tm(t,e){if(gr)return t==="compositionend"||!Oa&&Lc(t,e)?(t=$c(),Ss=Ca=Ct=null,gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rc&&e.locale!=="ko"?null:e.data;default:return null}}var rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rm[t.type]:e==="textarea"}function Dc(t,e,r,n){mc(n),e=Ms(e,"onChange"),0<e.length&&(r=new Pa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var fn=null,Pn=null;function nm(t){Kc(t,0)}function ui(t){var e=xr(t);if(ac(e))return t}function sm(t,e){if(t==="change")return e}var Uc=!1;if(mt){var zi;if(mt){var Mi="oninput"in document;if(!Mi){var Ll=document.createElement("div");Ll.setAttribute("oninput","return;"),Mi=typeof Ll.oninput=="function"}zi=Mi}else zi=!1;Uc=zi&&(!document.documentMode||9<document.documentMode)}function Il(){fn&&(fn.detachEvent("onpropertychange",zc),Pn=fn=null)}function zc(t){if(t.propertyName==="value"&&ui(Pn)){var e=[];Dc(e,Pn,t,Sa(t)),yc(nm,e)}}function im(t,e,r){t==="focusin"?(Il(),fn=e,Pn=r,fn.attachEvent("onpropertychange",zc)):t==="focusout"&&Il()}function om(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ui(Pn)}function am(t,e){if(t==="click")return ui(e)}function lm(t,e){if(t==="input"||t==="change")return ui(e)}function um(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tt=typeof Object.is=="function"?Object.is:um;function Tn(t,e){if(tt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!uo.call(e,s)||!tt(t[s],e[s]))return!1}return!0}function Dl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ul(t,e){var r=Dl(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dl(r)}}function Mc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fc(){for(var t=window,e=$s();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$s(t.document)}return e}function Aa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cm(t){var e=Fc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Mc(r.ownerDocument.documentElement,r)){if(n!==null&&Aa(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Ul(r,i);var o=Ul(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dm=mt&&"documentMode"in document&&11>=document.documentMode,vr=null,Po=null,mn=null,To=!1;function zl(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;To||vr==null||vr!==$s(n)||(n=vr,"selectionStart"in n&&Aa(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mn&&Tn(mn,n)||(mn=n,n=Ms(Po,"onSelect"),0<n.length&&(e=new Pa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vr)))}function os(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var yr={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},Fi={},qc={};mt&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function ci(t){if(Fi[t])return Fi[t];if(!yr[t])return t;var e=yr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in qc)return Fi[t]=e[r];return t}var Bc=ci("animationend"),Hc=ci("animationiteration"),Wc=ci("animationstart"),Vc=ci("transitionend"),Qc=new Map,Ml="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mt(t,e){Qc.set(t,e),ir(e,[t])}for(var qi=0;qi<Ml.length;qi++){var Bi=Ml[qi],hm=Bi.toLowerCase(),fm=Bi[0].toUpperCase()+Bi.slice(1);Mt(hm,"on"+fm)}Mt(Bc,"onAnimationEnd");Mt(Hc,"onAnimationIteration");Mt(Wc,"onAnimationStart");Mt("dblclick","onDoubleClick");Mt("focusin","onFocus");Mt("focusout","onBlur");Mt(Vc,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ln));function Fl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,hf(n,e,void 0,t),t.currentTarget=null}function Kc(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Fl(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Fl(s,a,c),i=u}}}if(Ls)throw t=bo,Ls=!1,bo=null,t}function K(t,e){var r=e[Lo];r===void 0&&(r=e[Lo]=new Set);var n=t+"__bubble";r.has(n)||(Gc(e,t,2,!1),r.add(n))}function Hi(t,e,r){var n=0;e&&(n|=4),Gc(r,t,n,e)}var as="_reactListening"+Math.random().toString(36).slice(2);function On(t){if(!t[as]){t[as]=!0,rc.forEach(function(r){r!=="selectionchange"&&(mm.has(r)||Hi(r,!1,t),Hi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[as]||(e[as]=!0,Hi("selectionchange",!1,e))}}function Gc(t,e,r,n){switch(Ac(e)){case 1:var s=Cf;break;case 4:s=Pf;break;default:s=Ea}r=s.bind(null,e,r,t),s=void 0,!jo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Wi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gt(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}yc(function(){var c=i,d=Sa(r),h=[];e:{var p=Qc.get(t);if(p!==void 0){var y=Pa,x=t;switch(t){case"keypress":if(js(r)===0)break e;case"keydown":case"keyup":y=Hf;break;case"focusin":x="focus",y=Ui;break;case"focusout":x="blur",y=Ui;break;case"beforeblur":case"afterblur":y=Ui;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Qf;break;case Bc:case Hc:case Wc:y=Lf;break;case Vc:y=Gf;break;case"scroll":y=Tf;break;case"wheel":y=Yf;break;case"copy":case"cut":case"paste":y=Df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ol}var k=(e&4)!==0,S=!k&&t==="scroll",m=k?p!==null?p+"Capture":null:p;k=[];for(var f=c,g;f!==null;){g=f;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,m!==null&&(v=bn(f,m),v!=null&&k.push(An(f,v,g)))),S)break;f=f.return}0<k.length&&(p=new y(p,x,null,r,d),h.push({event:p,listeners:k}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&r!==ko&&(x=r.relatedTarget||r.fromElement)&&(Gt(x)||x[pt]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=c,x=x?Gt(x):null,x!==null&&(S=or(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(k=Pl,v="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(k=Ol,v="onPointerLeave",m="onPointerEnter",f="pointer"),S=y==null?p:xr(y),g=x==null?p:xr(x),p=new k(v,f+"leave",y,r,d),p.target=S,p.relatedTarget=g,v=null,Gt(d)===c&&(k=new k(m,f+"enter",x,r,d),k.target=g,k.relatedTarget=S,v=k),S=v,y&&x)t:{for(k=y,m=x,f=0,g=k;g;g=lr(g))f++;for(g=0,v=m;v;v=lr(v))g++;for(;0<f-g;)k=lr(k),f--;for(;0<g-f;)m=lr(m),g--;for(;f--;){if(k===m||m!==null&&k===m.alternate)break t;k=lr(k),m=lr(m)}k=null}else k=null;y!==null&&ql(h,p,y,k,!1),x!==null&&S!==null&&ql(h,S,x,k,!0)}}e:{if(p=c?xr(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var b=sm;else if(Rl(p))if(Uc)b=lm;else{b=om;var E=im}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=am);if(b&&(b=b(t,c))){Dc(h,b,r,d);break e}E&&E(t,p,c),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&vo(p,"number",p.value)}switch(E=c?xr(c):window,t){case"focusin":(Rl(E)||E.contentEditable==="true")&&(vr=E,Po=c,mn=null);break;case"focusout":mn=Po=vr=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,zl(h,r,d);break;case"selectionchange":if(dm)break;case"keydown":case"keyup":zl(h,r,d)}var w;if(Oa)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else gr?Lc(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Rc&&r.locale!=="ko"&&(gr||_!=="onCompositionStart"?_==="onCompositionEnd"&&gr&&(w=$c()):(Ct=d,Ca="value"in Ct?Ct.value:Ct.textContent,gr=!0)),E=Ms(c,_),0<E.length&&(_=new Tl(_,t,null,r,d),h.push({event:_,listeners:E}),w?_.data=w:(w=Ic(r),w!==null&&(_.data=w)))),(w=Xf?em(t,r):tm(t,r))&&(c=Ms(c,"onBeforeInput"),0<c.length&&(d=new Tl("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=w))}Kc(h,e)})}function An(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ms(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=bn(t,r),i!=null&&n.unshift(An(t,i,s)),i=bn(t,e),i!=null&&n.push(An(t,i,s))),t=t.return}return n}function lr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ql(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=bn(r,i),u!=null&&o.unshift(An(r,u,a))):s||(u=bn(r,i),u!=null&&o.push(An(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var pm=/\r\n?/g,gm=/\u0000|\uFFFD/g;function Bl(t){return(typeof t=="string"?t:""+t).replace(pm,`
`).replace(gm,"")}function ls(t,e,r){if(e=Bl(e),Bl(t)!==e&&r)throw Error(N(425))}function Fs(){}var Oo=null,Ao=null;function $o(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ro=typeof setTimeout=="function"?setTimeout:void 0,vm=typeof clearTimeout=="function"?clearTimeout:void 0,Hl=typeof Promise=="function"?Promise:void 0,ym=typeof queueMicrotask=="function"?queueMicrotask:typeof Hl<"u"?function(t){return Hl.resolve(null).then(t).catch(xm)}:Ro;function xm(t){setTimeout(function(){throw t})}function Vi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Cn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Cn(e)}function $t(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Br=Math.random().toString(36).slice(2),st="__reactFiber$"+Br,$n="__reactProps$"+Br,pt="__reactContainer$"+Br,Lo="__reactEvents$"+Br,wm="__reactListeners$"+Br,_m="__reactHandles$"+Br;function Gt(t){var e=t[st];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pt]||r[st]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Wl(t);t!==null;){if(r=t[st])return r;t=Wl(t)}return e}t=r,r=t.parentNode}return null}function Vn(t){return t=t[st]||t[pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function di(t){return t[$n]||null}var Io=[],wr=-1;function Ft(t){return{current:t}}function G(t){0>wr||(t.current=Io[wr],Io[wr]=null,wr--)}function W(t,e){wr++,Io[wr]=t.current,t.current=e}var zt={},we=Ft(zt),Te=Ft(!1),er=zt;function $r(t,e){var r=t.type.contextTypes;if(!r)return zt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(t){return t=t.childContextTypes,t!=null}function qs(){G(Te),G(we)}function Vl(t,e,r){if(we.current!==zt)throw Error(N(168));W(we,e),W(Te,r)}function Jc(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(N(108,sf(t)||"Unknown",s));return te({},r,n)}function Bs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zt,er=we.current,W(we,t),W(Te,Te.current),!0}function Ql(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=Jc(t,e,er),n.__reactInternalMemoizedMergedChildContext=t,G(Te),G(we),W(we,t)):G(Te),W(Te,r)}var ct=null,hi=!1,Qi=!1;function Yc(t){ct===null?ct=[t]:ct.push(t)}function km(t){hi=!0,Yc(t)}function qt(){if(!Qi&&ct!==null){Qi=!0;var t=0,e=B;try{var r=ct;for(B=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ct=null,hi=!1}catch(s){throw ct!==null&&(ct=ct.slice(t+1)),kc(ja,qt),s}finally{B=e,Qi=!1}}return null}var _r=[],kr=0,Hs=null,Ws=0,Me=[],Fe=0,tr=null,dt=1,ht="";function Wt(t,e){_r[kr++]=Ws,_r[kr++]=Hs,Hs=t,Ws=e}function Zc(t,e,r){Me[Fe++]=dt,Me[Fe++]=ht,Me[Fe++]=tr,tr=t;var n=dt;t=ht;var s=32-Xe(n)-1;n&=~(1<<s),r+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,dt=1<<32-Xe(e)+s|r<<s|n,ht=i+t}else dt=1<<i|r<<s|n,ht=t}function $a(t){t.return!==null&&(Wt(t,1),Zc(t,1,0))}function Ra(t){for(;t===Hs;)Hs=_r[--kr],_r[kr]=null,Ws=_r[--kr],_r[kr]=null;for(;t===tr;)tr=Me[--Fe],Me[Fe]=null,ht=Me[--Fe],Me[Fe]=null,dt=Me[--Fe],Me[Fe]=null}var Le=null,Re=null,Z=!1,Ze=null;function Xc(t,e){var r=qe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Kl(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,Re=$t(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,Re=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=tr!==null?{id:dt,overflow:ht}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=qe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Le=t,Re=null,!0):!1;default:return!1}}function Do(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uo(t){if(Z){var e=Re;if(e){var r=e;if(!Kl(t,e)){if(Do(t))throw Error(N(418));e=$t(r.nextSibling);var n=Le;e&&Kl(t,e)?Xc(n,r):(t.flags=t.flags&-4097|2,Z=!1,Le=t)}}else{if(Do(t))throw Error(N(418));t.flags=t.flags&-4097|2,Z=!1,Le=t}}}function Gl(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function us(t){if(t!==Le)return!1;if(!Z)return Gl(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$o(t.type,t.memoizedProps)),e&&(e=Re)){if(Do(t))throw ed(),Error(N(418));for(;e;)Xc(t,e),e=$t(e.nextSibling)}if(Gl(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Re=$t(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Re=null}}else Re=Le?$t(t.stateNode.nextSibling):null;return!0}function ed(){for(var t=Re;t;)t=$t(t.nextSibling)}function Rr(){Re=Le=null,Z=!1}function La(t){Ze===null?Ze=[t]:Ze.push(t)}var Sm=xt.ReactCurrentBatchConfig;function en(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function cs(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jl(t){var e=t._init;return e(t._payload)}function td(t){function e(m,f){if(t){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function r(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function n(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Dt(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,v){return f===null||f.tag!==6?(f=eo(g,m.mode,v),f.return=m,f):(f=s(f,g),f.return=m,f)}function u(m,f,g,v){var b=g.type;return b===pr?d(m,f,g.props.children,v,g.key):f!==null&&(f.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===kt&&Jl(b)===f.type)?(v=s(f,g.props),v.ref=en(m,f,g),v.return=m,v):(v=Os(g.type,g.key,g.props,null,m.mode,v),v.ref=en(m,f,g),v.return=m,v)}function c(m,f,g,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=to(g,m.mode,v),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function d(m,f,g,v,b){return f===null||f.tag!==7?(f=Xt(g,m.mode,v,b),f.return=m,f):(f=s(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=eo(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Xn:return g=Os(f.type,f.key,f.props,null,m.mode,g),g.ref=en(m,null,f),g.return=m,g;case mr:return f=to(f,m.mode,g),f.return=m,f;case kt:var v=f._init;return h(m,v(f._payload),g)}if(on(f)||Gr(f))return f=Xt(f,m.mode,g,null),f.return=m,f;cs(m,f)}return null}function p(m,f,g,v){var b=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:a(m,f,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xn:return g.key===b?u(m,f,g,v):null;case mr:return g.key===b?c(m,f,g,v):null;case kt:return b=g._init,p(m,f,b(g._payload),v)}if(on(g)||Gr(g))return b!==null?null:d(m,f,g,v,null);cs(m,g)}return null}function y(m,f,g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(g)||null,a(f,m,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xn:return m=m.get(v.key===null?g:v.key)||null,u(f,m,v,b);case mr:return m=m.get(v.key===null?g:v.key)||null,c(f,m,v,b);case kt:var E=v._init;return y(m,f,g,E(v._payload),b)}if(on(v)||Gr(v))return m=m.get(g)||null,d(f,m,v,b,null);cs(f,v)}return null}function x(m,f,g,v){for(var b=null,E=null,w=f,_=f=0,j=null;w!==null&&_<g.length;_++){w.index>_?(j=w,w=null):j=w.sibling;var C=p(m,w,g[_],v);if(C===null){w===null&&(w=j);break}t&&w&&C.alternate===null&&e(m,w),f=i(C,f,_),E===null?b=C:E.sibling=C,E=C,w=j}if(_===g.length)return r(m,w),Z&&Wt(m,_),b;if(w===null){for(;_<g.length;_++)w=h(m,g[_],v),w!==null&&(f=i(w,f,_),E===null?b=w:E.sibling=w,E=w);return Z&&Wt(m,_),b}for(w=n(m,w);_<g.length;_++)j=y(w,m,_,g[_],v),j!==null&&(t&&j.alternate!==null&&w.delete(j.key===null?_:j.key),f=i(j,f,_),E===null?b=j:E.sibling=j,E=j);return t&&w.forEach(function(Q){return e(m,Q)}),Z&&Wt(m,_),b}function k(m,f,g,v){var b=Gr(g);if(typeof b!="function")throw Error(N(150));if(g=b.call(g),g==null)throw Error(N(151));for(var E=b=null,w=f,_=f=0,j=null,C=g.next();w!==null&&!C.done;_++,C=g.next()){w.index>_?(j=w,w=null):j=w.sibling;var Q=p(m,w,C.value,v);if(Q===null){w===null&&(w=j);break}t&&w&&Q.alternate===null&&e(m,w),f=i(Q,f,_),E===null?b=Q:E.sibling=Q,E=Q,w=j}if(C.done)return r(m,w),Z&&Wt(m,_),b;if(w===null){for(;!C.done;_++,C=g.next())C=h(m,C.value,v),C!==null&&(f=i(C,f,_),E===null?b=C:E.sibling=C,E=C);return Z&&Wt(m,_),b}for(w=n(m,w);!C.done;_++,C=g.next())C=y(w,m,_,C.value,v),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?_:C.key),f=i(C,f,_),E===null?b=C:E.sibling=C,E=C);return t&&w.forEach(function(ue){return e(m,ue)}),Z&&Wt(m,_),b}function S(m,f,g,v){if(typeof g=="object"&&g!==null&&g.type===pr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Xn:e:{for(var b=g.key,E=f;E!==null;){if(E.key===b){if(b=g.type,b===pr){if(E.tag===7){r(m,E.sibling),f=s(E,g.props.children),f.return=m,m=f;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===kt&&Jl(b)===E.type){r(m,E.sibling),f=s(E,g.props),f.ref=en(m,E,g),f.return=m,m=f;break e}r(m,E);break}else e(m,E);E=E.sibling}g.type===pr?(f=Xt(g.props.children,m.mode,v,g.key),f.return=m,m=f):(v=Os(g.type,g.key,g.props,null,m.mode,v),v.ref=en(m,f,g),v.return=m,m=v)}return o(m);case mr:e:{for(E=g.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){r(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{r(m,f);break}else e(m,f);f=f.sibling}f=to(g,m.mode,v),f.return=m,m=f}return o(m);case kt:return E=g._init,S(m,f,E(g._payload),v)}if(on(g))return x(m,f,g,v);if(Gr(g))return k(m,f,g,v);cs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(r(m,f.sibling),f=s(f,g),f.return=m,m=f):(r(m,f),f=eo(g,m.mode,v),f.return=m,m=f),o(m)):r(m,f)}return S}var Lr=td(!0),rd=td(!1),Vs=Ft(null),Qs=null,Sr=null,Ia=null;function Da(){Ia=Sr=Qs=null}function Ua(t){var e=Vs.current;G(Vs),t._currentValue=e}function zo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Tr(t,e){Qs=t,Ia=Sr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pe=!0),t.firstContext=null)}function We(t){var e=t._currentValue;if(Ia!==t)if(t={context:t,memoizedValue:e,next:null},Sr===null){if(Qs===null)throw Error(N(308));Sr=t,Qs.dependencies={lanes:0,firstContext:t}}else Sr=Sr.next=t;return e}var Jt=null;function za(t){Jt===null?Jt=[t]:Jt.push(t)}function nd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,za(e)):(r.next=s.next,s.next=r),e.interleaved=r,gt(t,n)}function gt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var St=!1;function Ma(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ft(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,gt(t,r)}return s=n.interleaved,s===null?(e.next=e,za(n)):(e.next=s.next,s.next=e),n.interleaved=e,gt(t,r)}function bs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ba(t,r)}}function Yl(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ks(t,e,r,n){var s=t.updateQueue;St=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var p=a.lane,y=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,k=a;switch(p=e,y=r,k.tag){case 1:if(x=k.payload,typeof x=="function"){h=x.call(y,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,p=typeof x=="function"?x.call(y,h,p):x,p==null)break e;h=te({},h,p);break e;case 2:St=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);nr|=o,t.lanes=o,t.memoizedState=h}}function Zl(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var Qn={},ot=Ft(Qn),Rn=Ft(Qn),Ln=Ft(Qn);function Yt(t){if(t===Qn)throw Error(N(174));return t}function Fa(t,e){switch(W(Ln,e),W(Rn,t),W(ot,Qn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xo(e,t)}G(ot),W(ot,e)}function Ir(){G(ot),G(Rn),G(Ln)}function id(t){Yt(Ln.current);var e=Yt(ot.current),r=xo(e,t.type);e!==r&&(W(Rn,t),W(ot,r))}function qa(t){Rn.current===t&&(G(ot),G(Rn))}var X=Ft(0);function Gs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ki=[];function Ba(){for(var t=0;t<Ki.length;t++)Ki[t]._workInProgressVersionPrimary=null;Ki.length=0}var Ns=xt.ReactCurrentDispatcher,Gi=xt.ReactCurrentBatchConfig,rr=0,ee=null,ae=null,de=null,Js=!1,pn=!1,In=0,jm=0;function ge(){throw Error(N(321))}function Ha(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!tt(t[r],e[r]))return!1;return!0}function Wa(t,e,r,n,s,i){if(rr=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ns.current=t===null||t.memoizedState===null?Cm:Pm,t=r(n,s),pn){i=0;do{if(pn=!1,In=0,25<=i)throw Error(N(301));i+=1,de=ae=null,e.updateQueue=null,Ns.current=Tm,t=r(n,s)}while(pn)}if(Ns.current=Ys,e=ae!==null&&ae.next!==null,rr=0,de=ae=ee=null,Js=!1,e)throw Error(N(300));return t}function Va(){var t=In!==0;return In=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?ee.memoizedState=de=t:de=de.next=t,de}function Ve(){if(ae===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=de===null?ee.memoizedState:de.next;if(e!==null)de=e,ae=t;else{if(t===null)throw Error(N(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},de===null?ee.memoizedState=de=t:de=de.next=t}return de}function Dn(t,e){return typeof e=="function"?e(t):e}function Ji(t){var e=Ve(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((rr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,ee.lanes|=d,nr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,tt(n,e.memoizedState)||(Pe=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ee.lanes|=i,nr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Yi(t){var e=Ve(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);tt(i,e.memoizedState)||(Pe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function od(){}function ad(t,e){var r=ee,n=Ve(),s=e(),i=!tt(n.memoizedState,s);if(i&&(n.memoizedState=s,Pe=!0),n=n.queue,Qa(cd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||de!==null&&de.memoizedState.tag&1){if(r.flags|=2048,Un(9,ud.bind(null,r,n,s,e),void 0,null),he===null)throw Error(N(349));rr&30||ld(r,e,s)}return s}function ld(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ud(t,e,r,n){e.value=r,e.getSnapshot=n,dd(e)&&hd(t)}function cd(t,e,r){return r(function(){dd(e)&&hd(t)})}function dd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!tt(t,r)}catch{return!0}}function hd(t){var e=gt(t,1);e!==null&&et(e,t,1,-1)}function Xl(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:t},e.queue=t,t=t.dispatch=Em.bind(null,ee,t),[e.memoizedState,t]}function Un(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function fd(){return Ve().memoizedState}function Es(t,e,r,n){var s=nt();ee.flags|=t,s.memoizedState=Un(1|e,r,void 0,n===void 0?null:n)}function fi(t,e,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,n!==null&&Ha(n,o.deps)){s.memoizedState=Un(e,r,i,n);return}}ee.flags|=t,s.memoizedState=Un(1|e,r,i,n)}function eu(t,e){return Es(8390656,8,t,e)}function Qa(t,e){return fi(2048,8,t,e)}function md(t,e){return fi(4,2,t,e)}function pd(t,e){return fi(4,4,t,e)}function gd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vd(t,e,r){return r=r!=null?r.concat([t]):null,fi(4,4,gd.bind(null,e,t),r)}function Ka(){}function yd(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ha(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function xd(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ha(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function wd(t,e,r){return rr&21?(tt(r,e)||(r=bc(),ee.lanes|=r,nr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pe=!0),t.memoizedState=r)}function bm(t,e){var r=B;B=r!==0&&4>r?r:4,t(!0);var n=Gi.transition;Gi.transition={};try{t(!1),e()}finally{B=r,Gi.transition=n}}function _d(){return Ve().memoizedState}function Nm(t,e,r){var n=It(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kd(t))Sd(e,r);else if(r=nd(t,e,r,n),r!==null){var s=Se();et(r,t,n,s),jd(r,e,n)}}function Em(t,e,r){var n=It(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kd(t))Sd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,tt(a,o)){var u=e.interleaved;u===null?(s.next=s,za(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=nd(t,e,s,n),r!==null&&(s=Se(),et(r,t,n,s),jd(r,e,n))}}function kd(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function Sd(t,e){pn=Js=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function jd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ba(t,r)}}var Ys={readContext:We,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Cm={readContext:We,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:We,useEffect:eu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Es(4194308,4,gd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Es(4194308,4,t,e)},useInsertionEffect:function(t,e){return Es(4,2,t,e)},useMemo:function(t,e){var r=nt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Nm.bind(null,ee,t),[n.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:Xl,useDebugValue:Ka,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=Xl(!1),e=t[0];return t=bm.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ee,s=nt();if(Z){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),he===null)throw Error(N(349));rr&30||ld(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,eu(cd.bind(null,n,i,t),[t]),n.flags|=2048,Un(9,ud.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=nt(),e=he.identifierPrefix;if(Z){var r=ht,n=dt;r=(n&~(1<<32-Xe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=In++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=jm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pm={readContext:We,useCallback:yd,useContext:We,useEffect:Qa,useImperativeHandle:vd,useInsertionEffect:md,useLayoutEffect:pd,useMemo:xd,useReducer:Ji,useRef:fd,useState:function(){return Ji(Dn)},useDebugValue:Ka,useDeferredValue:function(t){var e=Ve();return wd(e,ae.memoizedState,t)},useTransition:function(){var t=Ji(Dn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ad,useId:_d,unstable_isNewReconciler:!1},Tm={readContext:We,useCallback:yd,useContext:We,useEffect:Qa,useImperativeHandle:vd,useInsertionEffect:md,useLayoutEffect:pd,useMemo:xd,useReducer:Yi,useRef:fd,useState:function(){return Yi(Dn)},useDebugValue:Ka,useDeferredValue:function(t){var e=Ve();return ae===null?e.memoizedState=t:wd(e,ae.memoizedState,t)},useTransition:function(){var t=Yi(Dn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:od,useSyncExternalStore:ad,useId:_d,unstable_isNewReconciler:!1};function Ge(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Mo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:te({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mi={isMounted:function(t){return(t=t._reactInternals)?or(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Se(),s=It(t),i=ft(n,s);i.payload=e,r!=null&&(i.callback=r),e=Rt(t,i,s),e!==null&&(et(e,t,s,n),bs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Se(),s=It(t),i=ft(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Rt(t,i,s),e!==null&&(et(e,t,s,n),bs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Se(),n=It(t),s=ft(r,n);s.tag=2,e!=null&&(s.callback=e),e=Rt(t,s,n),e!==null&&(et(e,t,n,r),bs(e,t,n))}};function tu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Tn(r,n)||!Tn(s,i):!0}function bd(t,e,r){var n=!1,s=zt,i=e.contextType;return typeof i=="object"&&i!==null?i=We(i):(s=Oe(e)?er:we.current,n=e.contextTypes,i=(n=n!=null)?$r(t,s):zt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ru(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&mi.enqueueReplaceState(e,e.state,null)}function Fo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Ma(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=We(i):(i=Oe(e)?er:we.current,s.context=$r(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Mo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mi.enqueueReplaceState(s,s.state,null),Ks(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dr(t,e){try{var r="",n=e;do r+=nf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Zi(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function qo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Om=typeof WeakMap=="function"?WeakMap:Map;function Nd(t,e,r){r=ft(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Xs||(Xs=!0,Zo=n),qo(t,e)},r}function Ed(t,e,r){r=ft(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){qo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){qo(t,e),typeof n!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function nu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Om;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Wm.bind(null,t,e,r),e.then(t,t))}function su(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ft(-1,1),e.tag=2,Rt(r,e,1))),r.lanes|=1),t)}var Am=xt.ReactCurrentOwner,Pe=!1;function ke(t,e,r,n){e.child=t===null?rd(e,null,r,n):Lr(e,t.child,r,n)}function ou(t,e,r,n,s){r=r.render;var i=e.ref;return Tr(e,s),n=Wa(t,e,r,n,i,s),r=Va(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vt(t,e,s)):(Z&&r&&$a(e),e.flags|=1,ke(t,e,n,s),e.child)}function au(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!rl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Cd(t,e,i,n,s)):(t=Os(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Tn,r(o,n)&&t.ref===e.ref)return vt(t,e,s)}return e.flags|=1,t=Dt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Cd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Tn(i,n)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Pe=!0);else return e.lanes=t.lanes,vt(t,e,s)}return Bo(t,e,r,n,s)}function Pd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(br,$e),$e|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W(br,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,W(br,$e),$e|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,W(br,$e),$e|=n;return ke(t,e,s,r),e.child}function Td(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Bo(t,e,r,n,s){var i=Oe(r)?er:we.current;return i=$r(e,i),Tr(e,s),r=Wa(t,e,r,n,i,s),n=Va(),t!==null&&!Pe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vt(t,e,s)):(Z&&n&&$a(e),e.flags|=1,ke(t,e,r,s),e.child)}function lu(t,e,r,n,s){if(Oe(r)){var i=!0;Bs(e)}else i=!1;if(Tr(e,s),e.stateNode===null)Cs(t,e),bd(e,r,n),Fo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=We(c):(c=Oe(r)?er:we.current,c=$r(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&ru(e,o,n,c),St=!1;var p=e.memoizedState;o.state=p,Ks(e,n,o,s),u=e.memoizedState,a!==n||p!==u||Te.current||St?(typeof d=="function"&&(Mo(e,r,d,n),u=e.memoizedState),(a=St||tu(e,r,a,n,p,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,sd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ge(e.type,a),o.props=c,h=e.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=We(u):(u=Oe(r)?er:we.current,u=$r(e,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==u)&&ru(e,o,n,u),St=!1,p=e.memoizedState,o.state=p,Ks(e,n,o,s);var x=e.memoizedState;a!==h||p!==x||Te.current||St?(typeof y=="function"&&(Mo(e,r,y,n),x=e.memoizedState),(c=St||tu(e,r,c,n,p,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Ho(t,e,r,n,i,s)}function Ho(t,e,r,n,s,i){Td(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Ql(e,r,!1),vt(t,e,i);n=e.stateNode,Am.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Lr(e,t.child,null,i),e.child=Lr(e,null,a,i)):ke(t,e,a,i),e.memoizedState=n.state,s&&Ql(e,r,!0),e.child}function Od(t){var e=t.stateNode;e.pendingContext?Vl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vl(t,e.context,!1),Fa(t,e.containerInfo)}function uu(t,e,r,n,s){return Rr(),La(s),e.flags|=256,ke(t,e,r,n),e.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function Vo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ad(t,e,r){var n=e.pendingProps,s=X.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),W(X,s&1),t===null)return Uo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vi(o,n,0,null),t=Xt(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vo(r),e.memoizedState=Wo,t):Ga(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return $m(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Dt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Dt(a,i):(i=Xt(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Vo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Wo,n}return i=t.child,t=i.sibling,n=Dt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ga(t,e){return e=vi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ds(t,e,r,n){return n!==null&&La(n),Lr(e,t.child,null,r),t=Ga(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $m(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Zi(Error(N(422))),ds(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=vi({mode:"visible",children:n.children},s,0,null),i=Xt(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Lr(e,t.child,null,o),e.child.memoizedState=Vo(o),e.memoizedState=Wo,i);if(!(e.mode&1))return ds(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(N(419)),n=Zi(i,n,void 0),ds(t,e,o,n)}if(a=(o&t.childLanes)!==0,Pe||a){if(n=he,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gt(t,s),et(n,t,s,-1))}return tl(),n=Zi(Error(N(421))),ds(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Vm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Re=$t(s.nextSibling),Le=e,Z=!0,Ze=null,t!==null&&(Me[Fe++]=dt,Me[Fe++]=ht,Me[Fe++]=tr,dt=t.id,ht=t.overflow,tr=e),e=Ga(e,n.children),e.flags|=4096,e)}function cu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zo(t.return,e,r)}function Xi(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function $d(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ke(t,e,n.children,r),n=X.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cu(t,r,e);else if(t.tag===19)cu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(W(X,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Gs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Xi(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Xi(e,!0,r,null,i);break;case"together":Xi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),nr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=Dt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Dt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Rm(t,e,r){switch(e.tag){case 3:Od(e),Rr();break;case 5:id(e);break;case 1:Oe(e.type)&&Bs(e);break;case 4:Fa(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;W(Vs,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(W(X,X.current&1),e.flags|=128,null):r&e.child.childLanes?Ad(t,e,r):(W(X,X.current&1),t=vt(t,e,r),t!==null?t.sibling:null);W(X,X.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return $d(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(X,X.current),n)break;return null;case 22:case 23:return e.lanes=0,Pd(t,e,r)}return vt(t,e,r)}var Rd,Qo,Ld,Id;Rd=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qo=function(){};Ld=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Yt(ot.current);var i=null;switch(r){case"input":s=po(t,s),n=po(t,n),i=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":s=yo(t,s),n=yo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fs)}wo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&K("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Id=function(t,e,r,n){r!==n&&(e.flags|=4)};function tn(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Lm(t,e,r){var n=e.pendingProps;switch(Ra(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Oe(e.type)&&qs(),ve(e),null;case 3:return n=e.stateNode,Ir(),G(Te),G(we),Ba(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(us(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ze!==null&&(ta(Ze),Ze=null))),Qo(t,e),ve(e),null;case 5:qa(e);var s=Yt(Ln.current);if(r=e.type,t!==null&&e.stateNode!=null)Ld(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return ve(e),null}if(t=Yt(ot.current),us(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[st]=e,n[$n]=i,t=(e.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(s=0;s<ln.length;s++)K(ln[s],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":xl(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":_l(n,i),K("invalid",n)}wo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ls(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ls(n.textContent,a,t),s=["children",""+a]):Sn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&K("scroll",n)}switch(r){case"input":es(n),wl(n,i,!0);break;case"textarea":es(n),kl(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[st]=e,t[$n]=n,Rd(t,e,!1,!1),e.stateNode=t;e:{switch(o=_o(r,n),r){case"dialog":K("cancel",t),K("close",t),s=n;break;case"iframe":case"object":case"embed":K("load",t),s=n;break;case"video":case"audio":for(s=0;s<ln.length;s++)K(ln[s],t);s=n;break;case"source":K("error",t),s=n;break;case"img":case"image":case"link":K("error",t),K("load",t),s=n;break;case"details":K("toggle",t),s=n;break;case"input":xl(t,n),s=po(t,n),K("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),K("invalid",t);break;case"textarea":_l(t,n),s=yo(t,n),K("invalid",t);break;default:s=n}wo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?fc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&dc(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&jn(t,u):typeof u=="number"&&jn(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&K("scroll",t):u!=null&&xa(t,i,u,o))}switch(r){case"input":es(t),wl(t,n,!1);break;case"textarea":es(t),kl(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ut(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Nr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Nr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)Id(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=Yt(Ln.current),Yt(ot.current),us(e)){if(n=e.stateNode,r=e.memoizedProps,n[st]=e,(i=n.nodeValue!==r)&&(t=Le,t!==null))switch(t.tag){case 3:ls(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ls(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[st]=e,e.stateNode=n}return ve(e),null;case 13:if(G(X),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&Re!==null&&e.mode&1&&!(e.flags&128))ed(),Rr(),e.flags|=98560,i=!1;else if(i=us(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[st]=e}else Rr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),i=!1}else Ze!==null&&(ta(Ze),Ze=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?le===0&&(le=3):tl())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return Ir(),Qo(t,e),t===null&&On(e.stateNode.containerInfo),ve(e),null;case 10:return Ua(e.type._context),ve(e),null;case 17:return Oe(e.type)&&qs(),ve(e),null;case 19:if(G(X),i=e.memoizedState,i===null)return ve(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)tn(i,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gs(t),o!==null){for(e.flags|=128,tn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return W(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>Ur&&(e.flags|=128,n=!0,tn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Gs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),tn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Z)return ve(e),null}else 2*ne()-i.renderingStartTime>Ur&&r!==1073741824&&(e.flags|=128,n=!0,tn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,r=X.current,W(X,n?r&1|2:r&1),e):(ve(e),null);case 22:case 23:return el(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$e&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Im(t,e){switch(Ra(e),e.tag){case 1:return Oe(e.type)&&qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ir(),G(Te),G(we),Ba(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qa(e),null;case 13:if(G(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Rr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(X),null;case 4:return Ir(),null;case 10:return Ua(e.type._context),null;case 22:case 23:return el(),null;case 24:return null;default:return null}}var hs=!1,xe=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,T=null;function jr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(t,e,n)}else r.current=null}function Ko(t,e,r){try{r()}catch(n){re(t,e,n)}}var du=!1;function Um(t,e){if(Oo=Us,t=Fc(),Aa(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===r&&++c===s&&(a=o),p===i&&++d===n&&(u=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ao={focusedElem:t,selectionRange:r},Us=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,S=x.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?k:Ge(e.type,k),S);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(v){re(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return x=du,du=!1,x}function gn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ko(e,r,i)}s=s.next}while(s!==n)}}function pi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Go(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Dd(t){var e=t.alternate;e!==null&&(t.alternate=null,Dd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[$n],delete e[Lo],delete e[wm],delete e[_m])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ud(t){return t.tag===5||t.tag===3||t.tag===4}function hu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ud(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Fs));else if(n!==4&&(t=t.child,t!==null))for(Jo(t,e,r),t=t.sibling;t!==null;)Jo(t,e,r),t=t.sibling}function Yo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Yo(t,e,r),t=t.sibling;t!==null;)Yo(t,e,r),t=t.sibling}var fe=null,Je=!1;function wt(t,e,r){for(r=r.child;r!==null;)zd(t,e,r),r=r.sibling}function zd(t,e,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(ai,r)}catch{}switch(r.tag){case 5:xe||jr(r,e);case 6:var n=fe,s=Je;fe=null,wt(t,e,r),fe=n,Je=s,fe!==null&&(Je?(t=fe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):fe.removeChild(r.stateNode));break;case 18:fe!==null&&(Je?(t=fe,r=r.stateNode,t.nodeType===8?Vi(t.parentNode,r):t.nodeType===1&&Vi(t,r),Cn(t)):Vi(fe,r.stateNode));break;case 4:n=fe,s=Je,fe=r.stateNode.containerInfo,Je=!0,wt(t,e,r),fe=n,Je=s;break;case 0:case 11:case 14:case 15:if(!xe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ko(r,e,o),s=s.next}while(s!==n)}wt(t,e,r);break;case 1:if(!xe&&(jr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){re(r,e,a)}wt(t,e,r);break;case 21:wt(t,e,r);break;case 22:r.mode&1?(xe=(n=xe)||r.memoizedState!==null,wt(t,e,r),xe=n):wt(t,e,r);break;default:wt(t,e,r)}}function fu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Dm),e.forEach(function(n){var s=Qm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:fe=a.stateNode,Je=!1;break e;case 3:fe=a.stateNode.containerInfo,Je=!0;break e;case 4:fe=a.stateNode.containerInfo,Je=!0;break e}a=a.return}if(fe===null)throw Error(N(160));zd(i,o,s),fe=null,Je=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){re(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Md(e,t),e=e.sibling}function Md(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qe(e,t),rt(t),n&4){try{gn(3,t,t.return),pi(3,t)}catch(k){re(t,t.return,k)}try{gn(5,t,t.return)}catch(k){re(t,t.return,k)}}break;case 1:Qe(e,t),rt(t),n&512&&r!==null&&jr(r,r.return);break;case 5:if(Qe(e,t),rt(t),n&512&&r!==null&&jr(r,r.return),t.flags&32){var s=t.stateNode;try{jn(s,"")}catch(k){re(t,t.return,k)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&lc(s,i),_o(a,o);var c=_o(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?fc(s,h):d==="dangerouslySetInnerHTML"?dc(s,h):d==="children"?jn(s,h):xa(s,d,h,c)}switch(a){case"input":go(s,i);break;case"textarea":uc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Nr(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Nr(s,!!i.multiple,i.defaultValue,!0):Nr(s,!!i.multiple,i.multiple?[]:"",!1))}s[$n]=i}catch(k){re(t,t.return,k)}}break;case 6:if(Qe(e,t),rt(t),n&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){re(t,t.return,k)}}break;case 3:if(Qe(e,t),rt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cn(e.containerInfo)}catch(k){re(t,t.return,k)}break;case 4:Qe(e,t),rt(t);break;case 13:Qe(e,t),rt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Za=ne())),n&4&&fu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(xe=(c=xe)||d,Qe(e,t),xe=c):Qe(e,t),rt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(p=T,y=p.child,p.tag){case 0:case 11:case 14:case 15:gn(4,p,p.return);break;case 1:jr(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(k){re(n,r,k)}}break;case 5:jr(p,p.return);break;case 22:if(p.memoizedState!==null){pu(h);continue}}y!==null?(y.return=p,T=y):pu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=hc("display",o))}catch(k){re(t,t.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){re(t,t.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qe(e,t),rt(t),n&4&&fu(t);break;case 21:break;default:Qe(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ud(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(jn(s,""),n.flags&=-33);var i=hu(t);Yo(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=hu(t);Jo(t,a,o);break;default:throw Error(N(161))}}catch(u){re(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zm(t,e,r){T=t,Fd(t)}function Fd(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||hs;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||xe;a=hs;var c=xe;if(hs=o,(xe=u)&&!c)for(T=s;T!==null;)o=T,u=o.child,o.tag===22&&o.memoizedState!==null?gu(s):u!==null?(u.return=o,T=u):gu(s);for(;i!==null;)T=i,Fd(i),i=i.sibling;T=s,hs=a,xe=c}mu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):mu(t)}}function mu(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xe||pi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!xe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ge(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zl(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Zl(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Cn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}xe||e.flags&512&&Go(e)}catch(p){re(e,e.return,p)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function pu(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function gu(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{pi(4,e)}catch(u){re(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){re(e,s,u)}}var i=e.return;try{Go(e)}catch(u){re(e,i,u)}break;case 5:var o=e.return;try{Go(e)}catch(u){re(e,o,u)}}}catch(u){re(e,e.return,u)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var Mm=Math.ceil,Zs=xt.ReactCurrentDispatcher,Ja=xt.ReactCurrentOwner,Be=xt.ReactCurrentBatchConfig,q=0,he=null,oe=null,me=0,$e=0,br=Ft(0),le=0,zn=null,nr=0,gi=0,Ya=0,vn=null,Ee=null,Za=0,Ur=1/0,lt=null,Xs=!1,Zo=null,Lt=null,fs=!1,Pt=null,ei=0,yn=0,Xo=null,Ps=-1,Ts=0;function Se(){return q&6?ne():Ps!==-1?Ps:Ps=ne()}function It(t){return t.mode&1?q&2&&me!==0?me&-me:Sm.transition!==null?(Ts===0&&(Ts=bc()),Ts):(t=B,t!==0||(t=window.event,t=t===void 0?16:Ac(t.type)),t):1}function et(t,e,r,n){if(50<yn)throw yn=0,Xo=null,Error(N(185));Hn(t,r,n),(!(q&2)||t!==he)&&(t===he&&(!(q&2)&&(gi|=r),le===4&&Nt(t,me)),Ae(t,n),r===1&&q===0&&!(e.mode&1)&&(Ur=ne()+500,hi&&qt()))}function Ae(t,e){var r=t.callbackNode;Sf(t,e);var n=Ds(t,t===he?me:0);if(n===0)r!==null&&bl(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&bl(r),e===1)t.tag===0?km(vu.bind(null,t)):Yc(vu.bind(null,t)),ym(function(){!(q&6)&&qt()}),r=null;else{switch(Nc(n)){case 1:r=ja;break;case 4:r=Sc;break;case 16:r=Is;break;case 536870912:r=jc;break;default:r=Is}r=Gd(r,qd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function qd(t,e){if(Ps=-1,Ts=0,q&6)throw Error(N(327));var r=t.callbackNode;if(Or()&&t.callbackNode!==r)return null;var n=Ds(t,t===he?me:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ti(t,n);else{e=n;var s=q;q|=2;var i=Hd();(he!==t||me!==e)&&(lt=null,Ur=ne()+500,Zt(t,e));do try{Bm();break}catch(a){Bd(t,a)}while(!0);Da(),Zs.current=i,q=s,oe!==null?e=0:(he=null,me=0,e=le)}if(e!==0){if(e===2&&(s=No(t),s!==0&&(n=s,e=ea(t,s))),e===1)throw r=zn,Zt(t,0),Nt(t,n),Ae(t,ne()),r;if(e===6)Nt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Fm(s)&&(e=ti(t,n),e===2&&(i=No(t),i!==0&&(n=i,e=ea(t,i))),e===1))throw r=zn,Zt(t,0),Nt(t,n),Ae(t,ne()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:Vt(t,Ee,lt);break;case 3:if(Nt(t,n),(n&130023424)===n&&(e=Za+500-ne(),10<e)){if(Ds(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Se(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ro(Vt.bind(null,t,Ee,lt),e);break}Vt(t,Ee,lt);break;case 4:if(Nt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Xe(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mm(n/1960))-n,10<n){t.timeoutHandle=Ro(Vt.bind(null,t,Ee,lt),n);break}Vt(t,Ee,lt);break;case 5:Vt(t,Ee,lt);break;default:throw Error(N(329))}}}return Ae(t,ne()),t.callbackNode===r?qd.bind(null,t):null}function ea(t,e){var r=vn;return t.current.memoizedState.isDehydrated&&(Zt(t,e).flags|=256),t=ti(t,e),t!==2&&(e=Ee,Ee=r,e!==null&&ta(e)),t}function ta(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function Fm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!tt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nt(t,e){for(e&=~Ya,e&=~gi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xe(e),n=1<<r;t[r]=-1,e&=~n}}function vu(t){if(q&6)throw Error(N(327));Or();var e=Ds(t,0);if(!(e&1))return Ae(t,ne()),null;var r=ti(t,e);if(t.tag!==0&&r===2){var n=No(t);n!==0&&(e=n,r=ea(t,n))}if(r===1)throw r=zn,Zt(t,0),Nt(t,e),Ae(t,ne()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vt(t,Ee,lt),Ae(t,ne()),null}function Xa(t,e){var r=q;q|=1;try{return t(e)}finally{q=r,q===0&&(Ur=ne()+500,hi&&qt())}}function sr(t){Pt!==null&&Pt.tag===0&&!(q&6)&&Or();var e=q;q|=1;var r=Be.transition,n=B;try{if(Be.transition=null,B=1,t)return t()}finally{B=n,Be.transition=r,q=e,!(q&6)&&qt()}}function el(){$e=br.current,G(br)}function Zt(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,vm(r)),oe!==null)for(r=oe.return;r!==null;){var n=r;switch(Ra(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qs();break;case 3:Ir(),G(Te),G(we),Ba();break;case 5:qa(n);break;case 4:Ir();break;case 13:G(X);break;case 19:G(X);break;case 10:Ua(n.type._context);break;case 22:case 23:el()}r=r.return}if(he=t,oe=t=Dt(t.current,null),me=$e=e,le=0,zn=null,Ya=gi=nr=0,Ee=vn=null,Jt!==null){for(e=0;e<Jt.length;e++)if(r=Jt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Jt=null}return t}function Bd(t,e){do{var r=oe;try{if(Da(),Ns.current=Ys,Js){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Js=!1}if(rr=0,de=ae=ee=null,pn=!1,In=0,Ja.current=null,r===null||r.return===null){le=1,zn=e,oe=null;break}e:{var i=t,o=r.return,a=r,u=e;if(e=me,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=su(o);if(y!==null){y.flags&=-257,iu(y,o,a,i,e),y.mode&1&&nu(i,c,e),e=y,u=c;var x=e.updateQueue;if(x===null){var k=new Set;k.add(u),e.updateQueue=k}else x.add(u);break e}else{if(!(e&1)){nu(i,c,e),tl();break e}u=Error(N(426))}}else if(Z&&a.mode&1){var S=su(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),iu(S,o,a,i,e),La(Dr(u,a));break e}}i=u=Dr(u,a),le!==4&&(le=2),vn===null?vn=[i]:vn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Nd(i,u,e);Yl(i,m);break e;case 1:a=u;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Lt===null||!Lt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=Ed(i,a,e);Yl(i,v);break e}}i=i.return}while(i!==null)}Vd(r)}catch(b){e=b,oe===r&&r!==null&&(oe=r=r.return);continue}break}while(!0)}function Hd(){var t=Zs.current;return Zs.current=Ys,t===null?Ys:t}function tl(){(le===0||le===3||le===2)&&(le=4),he===null||!(nr&268435455)&&!(gi&268435455)||Nt(he,me)}function ti(t,e){var r=q;q|=2;var n=Hd();(he!==t||me!==e)&&(lt=null,Zt(t,e));do try{qm();break}catch(s){Bd(t,s)}while(!0);if(Da(),q=r,Zs.current=n,oe!==null)throw Error(N(261));return he=null,me=0,le}function qm(){for(;oe!==null;)Wd(oe)}function Bm(){for(;oe!==null&&!mf();)Wd(oe)}function Wd(t){var e=Kd(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?Vd(t):oe=e,Ja.current=null}function Vd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Im(r,e),r!==null){r.flags&=32767,oe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,oe=null;return}}else if(r=Lm(r,e,$e),r!==null){oe=r;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);le===0&&(le=5)}function Vt(t,e,r){var n=B,s=Be.transition;try{Be.transition=null,B=1,Hm(t,e,r,n)}finally{Be.transition=s,B=n}return null}function Hm(t,e,r,n){do Or();while(Pt!==null);if(q&6)throw Error(N(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(jf(t,i),t===he&&(oe=he=null,me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fs||(fs=!0,Gd(Is,function(){return Or(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var o=B;B=1;var a=q;q|=4,Ja.current=null,Um(t,r),Md(r,t),cm(Ao),Us=!!Oo,Ao=Oo=null,t.current=r,zm(r),pf(),q=a,B=o,Be.transition=i}else t.current=r;if(fs&&(fs=!1,Pt=t,ei=s),i=t.pendingLanes,i===0&&(Lt=null),yf(r.stateNode),Ae(t,ne()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Xs)throw Xs=!1,t=Zo,Zo=null,t;return ei&1&&t.tag!==0&&Or(),i=t.pendingLanes,i&1?t===Xo?yn++:(yn=0,Xo=t):yn=0,qt(),null}function Or(){if(Pt!==null){var t=Nc(ei),e=Be.transition,r=B;try{if(Be.transition=null,B=16>t?16:t,Pt===null)var n=!1;else{if(t=Pt,Pt=null,ei=0,q&6)throw Error(N(331));var s=q;for(q|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:gn(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var p=d.sibling,y=d.return;if(Dd(d),d===c){T=null;break}if(p!==null){p.return=y,T=p;break}T=y}}}var x=i.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var f=t.current;for(T=f;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=f;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pi(9,a)}}catch(b){re(a,a.return,b)}if(a===o){T=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,T=v;break e}T=a.return}}if(q=s,qt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(ai,t)}catch{}n=!0}return n}finally{B=r,Be.transition=e}}return!1}function yu(t,e,r){e=Dr(r,e),e=Nd(t,e,1),t=Rt(t,e,1),e=Se(),t!==null&&(Hn(t,1,e),Ae(t,e))}function re(t,e,r){if(t.tag===3)yu(t,t,r);else for(;e!==null;){if(e.tag===3){yu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lt===null||!Lt.has(n))){t=Dr(r,t),t=Ed(e,t,1),e=Rt(e,t,1),t=Se(),e!==null&&(Hn(e,1,t),Ae(e,t));break}}e=e.return}}function Wm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&r,he===t&&(me&r)===r&&(le===4||le===3&&(me&130023424)===me&&500>ne()-Za?Zt(t,0):Ya|=r),Ae(t,e)}function Qd(t,e){e===0&&(t.mode&1?(e=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):e=1);var r=Se();t=gt(t,e),t!==null&&(Hn(t,e,r),Ae(t,r))}function Vm(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Qd(t,r)}function Qm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),Qd(t,r)}var Kd;Kd=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Pe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pe=!1,Rm(t,e,r);Pe=!!(t.flags&131072)}else Pe=!1,Z&&e.flags&1048576&&Zc(e,Ws,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Cs(t,e),t=e.pendingProps;var s=$r(e,we.current);Tr(e,r),s=Wa(null,e,n,t,s,r);var i=Va();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Oe(n)?(i=!0,Bs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ma(e),s.updater=mi,e.stateNode=s,s._reactInternals=e,Fo(e,n,t,r),e=Ho(null,e,n,!0,i,r)):(e.tag=0,Z&&i&&$a(e),ke(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Cs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Gm(n),t=Ge(n,t),s){case 0:e=Bo(null,e,n,t,r);break e;case 1:e=lu(null,e,n,t,r);break e;case 11:e=ou(null,e,n,t,r);break e;case 14:e=au(null,e,n,Ge(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),Bo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),lu(t,e,n,s,r);case 3:e:{if(Od(e),t===null)throw Error(N(387));n=e.pendingProps,i=e.memoizedState,s=i.element,sd(t,e),Ks(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dr(Error(N(423)),e),e=uu(t,e,n,r,s);break e}else if(n!==s){s=Dr(Error(N(424)),e),e=uu(t,e,n,r,s);break e}else for(Re=$t(e.stateNode.containerInfo.firstChild),Le=e,Z=!0,Ze=null,r=rd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rr(),n===s){e=vt(t,e,r);break e}ke(t,e,n,r)}e=e.child}return e;case 5:return id(e),t===null&&Uo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,$o(n,s)?o=null:i!==null&&$o(n,i)&&(e.flags|=32),Td(t,e),ke(t,e,o,r),e.child;case 6:return t===null&&Uo(e),null;case 13:return Ad(t,e,r);case 4:return Fa(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Lr(e,null,n,r):ke(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),ou(t,e,n,s,r);case 7:return ke(t,e,e.pendingProps,r),e.child;case 8:return ke(t,e,e.pendingProps.children,r),e.child;case 12:return ke(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,W(Vs,n._currentValue),n._currentValue=o,i!==null)if(tt(i.value,o)){if(i.children===s.children&&!Te.current){e=vt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=ft(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),zo(i.return,r,e),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),zo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ke(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Tr(e,r),s=We(s),n=n(s),e.flags|=1,ke(t,e,n,r),e.child;case 14:return n=e.type,s=Ge(n,e.pendingProps),s=Ge(n.type,s),au(t,e,n,s,r);case 15:return Cd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ge(n,s),Cs(t,e),e.tag=1,Oe(n)?(t=!0,Bs(e)):t=!1,Tr(e,r),bd(e,n,s),Fo(e,n,s,r),Ho(null,e,n,!0,t,r);case 19:return $d(t,e,r);case 22:return Pd(t,e,r)}throw Error(N(156,e.tag))};function Gd(t,e){return kc(t,e)}function Km(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,r,n){return new Km(t,e,r,n)}function rl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gm(t){if(typeof t=="function")return rl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_a)return 11;if(t===ka)return 14}return 2}function Dt(t,e){var r=t.alternate;return r===null?(r=qe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Os(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")rl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pr:return Xt(r.children,s,i,e);case wa:o=8,s|=8;break;case co:return t=qe(12,r,e,s|2),t.elementType=co,t.lanes=i,t;case ho:return t=qe(13,r,e,s),t.elementType=ho,t.lanes=i,t;case fo:return t=qe(19,r,e,s),t.elementType=fo,t.lanes=i,t;case ic:return vi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nc:o=10;break e;case sc:o=9;break e;case _a:o=11;break e;case ka:o=14;break e;case kt:o=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=qe(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Xt(t,e,r,n){return t=qe(7,t,n,e),t.lanes=r,t}function vi(t,e,r,n){return t=qe(22,t,n,e),t.elementType=ic,t.lanes=r,t.stateNode={isHidden:!1},t}function eo(t,e,r){return t=qe(6,t,null,e),t.lanes=r,t}function to(t,e,r){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Li(0),this.expirationTimes=Li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nl(t,e,r,n,s,i,o,a,u){return t=new Jm(t,e,r,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(i),t}function Ym(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Jd(t){if(!t)return zt;t=t._reactInternals;e:{if(or(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Oe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(Oe(r))return Jc(t,r,e)}return e}function Yd(t,e,r,n,s,i,o,a,u){return t=nl(r,n,!0,t,s,i,o,a,u),t.context=Jd(null),r=t.current,n=Se(),s=It(r),i=ft(n,s),i.callback=e??null,Rt(r,i,s),t.current.lanes=s,Hn(t,s,n),Ae(t,n),t}function yi(t,e,r,n){var s=e.current,i=Se(),o=It(s);return r=Jd(r),e.context===null?e.context=r:e.pendingContext=r,e=ft(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Rt(s,e,o),t!==null&&(et(t,s,o,i),bs(t,s,o)),o}function ri(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function sl(t,e){xu(t,e),(t=t.alternate)&&xu(t,e)}function Zm(){return null}var Zd=typeof reportError=="function"?reportError:function(t){console.error(t)};function il(t){this._internalRoot=t}xi.prototype.render=il.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));yi(t,e,null,null)};xi.prototype.unmount=il.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sr(function(){yi(null,t,null,null)}),e[pt]=null}};function xi(t){this._internalRoot=t}xi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<bt.length&&e!==0&&e<bt[r].priority;r++);bt.splice(r,0,t),r===0&&Oc(t)}};function ol(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wu(){}function Xm(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ri(o);i.call(c)}}var o=Yd(e,n,t,0,null,!1,!1,"",wu);return t._reactRootContainer=o,t[pt]=o.current,On(t.nodeType===8?t.parentNode:t),sr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ri(u);a.call(c)}}var u=nl(t,0,!1,null,null,!1,!1,"",wu);return t._reactRootContainer=u,t[pt]=u.current,On(t.nodeType===8?t.parentNode:t),sr(function(){yi(e,u,r,n)}),u}function _i(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=ri(o);a.call(u)}}yi(e,o,t,s)}else o=Xm(r,e,t,s,n);return ri(o)}Ec=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=an(e.pendingLanes);r!==0&&(ba(e,r|1),Ae(e,ne()),!(q&6)&&(Ur=ne()+500,qt()))}break;case 13:sr(function(){var n=gt(t,1);if(n!==null){var s=Se();et(n,t,1,s)}}),sl(t,1)}};Na=function(t){if(t.tag===13){var e=gt(t,134217728);if(e!==null){var r=Se();et(e,t,134217728,r)}sl(t,134217728)}};Cc=function(t){if(t.tag===13){var e=It(t),r=gt(t,e);if(r!==null){var n=Se();et(r,t,e,n)}sl(t,e)}};Pc=function(){return B};Tc=function(t,e){var r=B;try{return B=t,e()}finally{B=r}};So=function(t,e,r){switch(e){case"input":if(go(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=di(n);if(!s)throw Error(N(90));ac(n),go(n,s)}}}break;case"textarea":uc(t,r);break;case"select":e=r.value,e!=null&&Nr(t,!!r.multiple,e,!1)}};gc=Xa;vc=sr;var ep={usingClientEntryPoint:!1,Events:[Vn,xr,di,mc,pc,Xa]},rn={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tp={bundleType:rn.bundleType,version:rn.version,rendererPackageName:rn.rendererPackageName,rendererConfig:rn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wc(t),t===null?null:t.stateNode},findFiberByHostInstance:rn.findFiberByHostInstance||Zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{ai=ms.inject(tp),it=ms}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ep;De.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(N(200));return Ym(t,e,null,r)};De.createRoot=function(t,e){if(!ol(t))throw Error(N(299));var r=!1,n="",s=Zd;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nl(t,1,!1,null,null,r,!1,n,s),t[pt]=e.current,On(t.nodeType===8?t.parentNode:t),new il(e)};De.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=wc(e),t=t===null?null:t.stateNode,t};De.flushSync=function(t){return sr(t)};De.hydrate=function(t,e,r){if(!wi(e))throw Error(N(200));return _i(null,t,e,!0,r)};De.hydrateRoot=function(t,e,r){if(!ol(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Zd;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Yd(e,null,t,1,r??null,s,!1,i,o),t[pt]=e.current,On(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new xi(e)};De.render=function(t,e,r){if(!wi(e))throw Error(N(200));return _i(null,t,e,!1,r)};De.unmountComponentAtNode=function(t){if(!wi(t))throw Error(N(40));return t._reactRootContainer?(sr(function(){_i(null,null,t,!1,function(){t._reactRootContainer=null,t[pt]=null})}),!0):!1};De.unstable_batchedUpdates=Xa;De.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!wi(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return _i(t,e,r,!1,n)};De.version="18.3.1-next-f1338f8080-20240426";function Xd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xd)}catch(t){console.error(t)}}Xd(),Xu.exports=De;var rp=Xu.exports,eh,_u=rp;eh=_u.createRoot,_u.hydrateRoot;const np="modulepreload",sp=function(t){return"/"+t},ku={},Kn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=sp(u),u in ku)return;ku[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":np,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},ip=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Kn(async()=>{const{default:n}=await Promise.resolve().then(()=>Hr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class al extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class op extends al{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Su extends al{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ju extends al{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ra;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ra||(ra={}));var ap=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class lp{constructor(e,{headers:r={},customFetch:n,region:s=ra.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=ip(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return ap(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(k=>{throw new op(k)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Su(h);if(!h.ok)throw new ju(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield h.json():y==="application/octet-stream"?x=yield h.blob():y==="text/event-stream"?x=h:y==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof ju||s instanceof Su?s.context:void 0}}})}}var Ce={},ll={},ki={},Gn={},Si={},ji={},up=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zr=up();const cp=zr.fetch,th=zr.fetch.bind(zr),rh=zr.Headers,dp=zr.Request,hp=zr.Response,Hr=Object.freeze(Object.defineProperty({__proto__:null,Headers:rh,Request:dp,Response:hp,default:th,fetch:cp},Symbol.toStringTag,{value:"Module"})),fp=Ph(Hr);var bi={};Object.defineProperty(bi,"__esModule",{value:!0});let mp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};bi.default=mp;var nh=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ji,"__esModule",{value:!0});const pp=nh(fp),gp=nh(bi);let vp=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=pp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u;let c=null,d=null,h=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{c=JSON.parse(k),Array.isArray(c)&&i.status===404&&(d=[],c=null,p=200,y="OK")}catch{i.status===404&&k===""?(p=204,y="No Content"):c={message:k}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,y="OK"),c&&this.shouldThrowOnError)throw new gp.default(c)}return{error:c,data:d,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};ji.default=vp;var yp=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Si,"__esModule",{value:!0});const xp=yp(ji);let wp=class extends xp.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Si.default=wp;var _p=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gn,"__esModule",{value:!0});const kp=_p(Si);let Sp=class extends kp.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Gn.default=Sp;var jp=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ki,"__esModule",{value:!0});const nn=jp(Gn);let bp=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new nn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new nn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new nn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ki.default=bp;var Ni={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.version=void 0;Ei.version="0.0.0-automated";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.DEFAULT_HEADERS=void 0;const Np=Ei;Ni.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Np.version}`};var sh=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ll,"__esModule",{value:!0});const Ep=sh(ki),Cp=sh(Gn),Pp=Ni;let Tp=class ih{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Pp.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Ep.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ih(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Cp.default({method:o,url:a,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};ll.default=Tp;var Wr=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const oh=Wr(ll);Ce.PostgrestClient=oh.default;const ah=Wr(ki);Ce.PostgrestQueryBuilder=ah.default;const lh=Wr(Gn);Ce.PostgrestFilterBuilder=lh.default;const uh=Wr(Si);Ce.PostgrestTransformBuilder=uh.default;const ch=Wr(ji);Ce.PostgrestBuilder=ch.default;const dh=Wr(bi);Ce.PostgrestError=dh.default;var Op=Ce.default={PostgrestClient:oh.default,PostgrestQueryBuilder:ah.default,PostgrestFilterBuilder:lh.default,PostgrestTransformBuilder:uh.default,PostgrestBuilder:ch.default,PostgrestError:dh.default};const{PostgrestClient:Ap,PostgrestQueryBuilder:av,PostgrestFilterBuilder:lv,PostgrestTransformBuilder:uv,PostgrestBuilder:cv,PostgrestError:dv}=Op;function $p(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Rp=$p(),Lp="2.11.15",Ip=`realtime-js/${Lp}`,Dp="1.0.0",hh=1e4,Up=1e3;var xn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xn||(xn={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var Ye;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ye||(Ye={}));var na;(function(t){t.websocket="websocket"})(na||(na={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class zp{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const u=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class fh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const bu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Mp(o,t,e,s),i),{})},Mp=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?mh(i,o):sa(o)},mh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Hp(e,r)}switch(t){case H.bool:return Fp(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return qp(e);case H.json:case H.jsonb:return Bp(e);case H.timestamp:return Wp(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return sa(e);default:return sa(e)}},sa=t=>t,Fp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Hp=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>mh(e,a))}return t},Wp=t=>typeof t=="string"?t.replace(" ","T"):t,ph=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ro{constructor(e,r,n={},s=hh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nu||(Nu={}));class wn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=wn.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(S=>S.presence_ref),y=h.map(S=>S.presence_ref),x=d.filter(S=>y.indexOf(S.presence_ref)<0),k=h.filter(S=>p.indexOf(S.presence_ref)<0);x.length>0&&(a[c]=x),k.length>0&&(u[c]=k)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),d.length>0){const h=e[a].map(y=>y.presence_ref),p=d.filter(y=>h.indexOf(y.presence_ref)<0);e[a].unshift(...p)}n(a,d,u)}),this.map(o,(a,u)=>{let c=e[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,u),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Eu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Eu||(Eu={}));var Cu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cu||(Cu={}));var ut;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ut||(ut={}));class ul{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ro(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new fh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new wn(this),this.broadcastEndpointURL=ph(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(ut.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ut.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(ut.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,x=[];for(let k=0;k<y;k++){const S=p[k],{filter:{event:m,schema:f,table:g,filter:v}}=S,b=d&&d[k];if(b&&b.event===m&&b.schema===f&&b.table===g&&b.filter===v)x.push(Object.assign(Object.assign({},S),{id:b.id}));else{this.unsubscribe(),this.state=ye.errored,e==null||e(ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(ut.SUBSCRIBED);return}}).receive("error",d=>{this.state=ye.errored,e==null||e(ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ro(this,Ye.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ro(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=Ye;if(n&&[a,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,k,S;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(k=y.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,k,S,m,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,b=(x=y.filter)===null||x===void 0?void 0:x.event;return v&&((k=r.ids)===null||k===void 0?void 0:k.includes(v))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const v=(f=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:k,table:S,commit_timestamp:m,type:f,errors:g}=x;p=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:m,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(x))}y.callback(p,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ul.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ye.close,{},e)}_onError(e){this._on(Ye.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=bu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=bu(e.columns,e.old_record)),r}}const Pu=()=>{},Vp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qp{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pu,this.ref=0,this.logger=Pu,this.conn=null,this.sendBuffer=[],this.serializer=new zp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Kn(async()=>{const{default:u}=await Promise.resolve().then(()=>Hr);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${na.websocket}`,this.httpEndpoint=ph(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Rp),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dp}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xn.connecting:return Kt.Connecting;case xn.open:return Kt.Open;case xn.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ul(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Ip};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ye.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Up,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ye.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Vp],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class cl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Kp extends cl{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ia extends cl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Gp=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const gh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Kn(async()=>{const{default:n}=await Promise.resolve().then(()=>Hr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Jp=()=>Gp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kn(()=>Promise.resolve().then(()=>Hr),void 0)).Response:Response}),oa=t=>{if(Array.isArray(t))return t.map(r=>oa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=oa(n)}),e};var ar=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const no=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Yp=(t,e,r)=>ar(void 0,void 0,void 0,function*(){const n=yield Jp();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new Kp(no(s),t.status||500))}).catch(s=>{e(new ia(no(s),s))}):e(new ia(no(t),t))}),Zp=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Jn(t,e,r,n,s,i){return ar(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Zp(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Yp(u,a,n))})})}function ni(t,e,r,n){return ar(this,void 0,void 0,function*(){return Jn(t,"GET",e,r,n)})}function jt(t,e,r,n,s){return ar(this,void 0,void 0,function*(){return Jn(t,"POST",e,n,s,r)})}function Xp(t,e,r,n,s){return ar(this,void 0,void 0,function*(){return Jn(t,"PUT",e,n,s,r)})}function eg(t,e,r,n){return ar(this,void 0,void 0,function*(){return Jn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vh(t,e,r,n,s){return ar(this,void 0,void 0,function*(){return Jn(t,"DELETE",e,n,s,r)})}var Ne=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const tg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=gh(s)}uploadOrUpdate(e,r,n,s){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Tu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Tu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:d}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(u){if(ce(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield jt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new cl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield jt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ne(this,void 0,void 0,function*(){try{const s=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}download(e,r){return Ne(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ni(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}info(e){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ni(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:oa(n),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}exists(e){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield eg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ce(n)&&n instanceof ia){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tg),r),{prefix:e||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const ng="2.7.1",sg={"X-Client-Info":`storage-js/${ng}`};var ur=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class ig{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},sg),r),this.fetch=gh(n)}listBuckets(){return ur(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ce(e))return{data:null,error:e};throw e}})}getBucket(e){return ur(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ur(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ur(this,void 0,void 0,function*(){try{return{data:yield Xp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ur(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ur(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}}class og extends ig{constructor(e,r={},n){super(e,r,n)}from(e){return new rg(this.url,this.headers,e,this.fetch)}}const ag="2.50.5";let un="";typeof Deno<"u"?un="deno":typeof document<"u"?un="web":typeof navigator<"u"&&navigator.product==="ReactNative"?un="react-native":un="node";const lg={"X-Client-Info":`supabase-js-${un}/${ag}`},ug={headers:lg},cg={schema:"public"},dg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hg={};var fg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const mg=t=>{let e;return t?e=t:typeof fetch>"u"?e=th:e=fetch,(...r)=>e(...r)},pg=()=>typeof Headers>"u"?rh:Headers,gg=(t,e,r)=>{const n=mg(r),s=pg();return(i,o)=>fg(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var vg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};function yg(t){return t.endsWith("/")?t:t+"/"}function xg(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:u,auth:c,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>vg(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const yh="2.70.0",fr=30*1e3,aa=3,so=aa*fr,wg="http://localhost:9999",_g="supabase.auth.token",kg={"X-Client-Info":`gotrue-js/${yh}`},la="X-Supabase-Api-Version",xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jg=6e5;class dl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bg extends dl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ng(t){return D(t)&&t.name==="AuthApiError"}class wh extends dl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bt extends dl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class _t extends Bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Eg(t){return D(t)&&t.name==="AuthSessionMissingError"}class ps extends Bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gs extends Bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vs extends Bt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cg(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ou extends Bt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ua extends Bt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function io(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Au extends Bt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class _n extends Bt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$u=` 	
\r=`.split(""),Pg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$u.length;e+=1)t[$u[e].charCodeAt(0)]=-2;for(let e=0;e<si.length;e+=1)t[si[e].charCodeAt(0)]=e;return t})();function Ru(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(si[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(si[n]),e.queuedBits-=6}}function _h(t,e,r){const n=Pg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Ag(o,n,r)};for(let o=0;o<t.length;o+=1)_h(t.charCodeAt(o),s,i);return e.join("")}function Tg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Og(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Tg(n,e)}}function Ag(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function $g(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)_h(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Rg(t){const e=[];return Og(t,r=>e.push(r)),new Uint8Array(e)}function Lg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Ru(s,r,n)),Ru(null,r,n),e.join("")}function Ig(t){return Math.round(Date.now()/1e3)+t}function Dg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Ht={tested:!1,writable:!1},kn=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ht.tested)return Ht.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ht.tested=!0,Ht.writable=!0}catch{Ht.tested=!0,Ht.writable=!1}return Ht.writable};function Ug(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const kh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Kn(async()=>{const{default:n}=await Promise.resolve().then(()=>Hr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},zg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Sh=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ys=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xs=async(t,e)=>{await t.removeItem(e)};class Ci{constructor(){this.promise=new Ci.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ci.promiseConstructor=Promise;function oo(t){const e=t.split(".");if(e.length!==3)throw new _n("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Sg.test(e[n]))throw new _n("JWT not in base64url format");return{header:JSON.parse(Lu(e[0])),payload:JSON.parse(Lu(e[1])),signature:$g(e[2]),raw:{header:e[0],payload:e[1]}}}async function Mg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Fg(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function qg(t){return("0"+t.toString(16)).substr(-2)}function Bg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,qg).join("")}async function Hg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Wg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Hg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cr(t,e,r=!1){const n=Bg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Sh(t,`${e}-code-verifier`,s);const i=await Wg(n);return[i,n===i?"plain":"s256"]}const Vg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qg(t){const e=t.headers.get(la);if(!e||!e.match(Vg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Kg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Gg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dr(t){if(!Jg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Yg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zg=[502,503,504];async function Iu(t){var e;if(!zg(t))throw new ua(Qt(t),0);if(Zg.includes(t.status))throw new ua(Qt(t),t.status);let r;try{r=await t.json()}catch(i){throw new wh(Qt(i),i)}let n;const s=Qg(t);if(s&&s.getTime()>=xh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Au(Qt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new _t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Au(Qt(r),t.status,r.weak_password.reasons);throw new bg(Qt(r),t.status||500,n)}const Xg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[la]||(i[la]=xh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await e0(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function e0(t,e,r,n,s,i){const o=Xg(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new ua(Qt(u),0)}if(a.ok||await Iu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Iu(u)}}function at(t){var e;let r=null;s0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Ig(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Du(t){const e=at(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Et(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function t0(t){return{data:t,error:null}}function r0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Yg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function n0(t){return t}function s0(t){return t.access_token&&t.refresh_token&&t.expires_in}const ao=["global","local","others"];var i0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class o0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=kh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ao[0]){if(ao.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ao.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Et})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=i0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:r0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Et})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:n0});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);c[`${S}Page`]=k}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){dr(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Et})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){dr(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Et})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){dr(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Et})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){dr(e.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(e){dr(e.userId),dr(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}const a0={getItem:t=>kn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{kn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{kn()&&globalThis.localStorage.removeItem(t)}};function Uu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function l0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hr={debug:!!(globalThis&&kn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class u0 extends jh{}async function c0(t,e,r){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new u0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}l0();const d0={url:wg,storageKey:_g,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zu(t,e,r){return await r()}class Mn{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mn.nextInstanceID,Mn.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},d0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new o0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=kh(s.fetch),this.lock=s.lock||zu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=c0:this.lock=zu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:kn()?this.storage=a0:(this.memoryStorage={},this.storage=Uu(this.memoryStorage)):(this.memoryStorage={},this.storage=Uu(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ug(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Cg(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?{error:r}:{error:new wh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:at}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await cr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:x},xform:at})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:at})}else throw new gs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Du})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Du})}else throw new gs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ps}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,u,c,d,h,p,y;let x,k;if("message"in e)x=e.message,k=e.signature;else{const{chain:S,wallet:m,statement:f,options:g}=e;let v;if(Ke())if(typeof m=="object")v=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))v=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=m}const b=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const E=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),f?{statement:f}:null));let w;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")w=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)w=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)x=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),k=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${b.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const E=await v.signMessage(new TextEncoder().encode(x),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=E}}try{const{data:S,error:m}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Lg(k)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:at});if(m)throw m;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new ps}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:m})}catch(S){if(D(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const r=await ys(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:at});if(await xs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ps}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:at}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ps}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await cr(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new gs("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:at});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:t0})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new _t;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new gs("You must provide either an email or phone number and a type")}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<so:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Et}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(r){if(D(r))return Eg(r)&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new _t;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await cr(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Et});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _t;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=oo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(D(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new _t;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ke())throw new vs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ou("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ou("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!o||!c)throw new vs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;u&&(p=parseInt(u));const y=p-d;y*1e3<=fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=p-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,d);const{data:k,error:S}=await this._getUser(i);if(S)throw S;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(D(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ys(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Ng(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await xs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Dg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await cr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ke()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(D(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Fg(async s=>(s>0&&await Mg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:at})),(s,i)=>{const o=200*Math.pow(2,s);return i&&io(i)&&Date.now()+o-n<fr})}catch(n){if(this._debug(r,"error",n),D(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ys(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<so;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${so}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),io(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ci;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return io(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Sh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await xs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fr}ms, refresh threshold is ${aa} ticks`),s<=aa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await cr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=oo(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+jg>Date.now()))return n;const{data:s,error:i}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new _n("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new _n("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=oo(n);if(Kg(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=Gg(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Rg(`${a}.${u}`)))throw new _n("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}Mn.nextInstanceID=0;const h0=Mn;class f0 extends h0{constructor(e){super(e)}}var m0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class p0{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=yg(e),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:cg,realtime:hg,auth:Object.assign(Object.assign({},dg),{storageKey:c}),global:ug},h=xg(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=gg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Ap(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new lp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new og(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return m0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Qp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const g0=(t,e,r)=>new p0(t,e,r),v0="https://placeholder.supabase.co",y0="placeholder-anon-key",x0=v0,w0=y0,Y=g0(x0,w0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),_0=()=>{const[t,e]=O.useState(!1),[r,n]=O.useState(null);return{loading:t,error:r,fetchCategories:async()=>{e(!0),n(null);try{const{data:w,error:_}=await Y.from("categories").select("*").order("name");if(_)throw _;return w.map(j=>({id:j.id,name:j.name,description:j.description,image:j.image,productCount:0}))}catch(w){return n(w instanceof Error?w.message:"Error fetching categories"),[]}finally{e(!1)}},addCategory:async w=>{e(!0),n(null);try{const{data:_,error:j}=await Y.from("categories").insert({name:w.name,description:w.description,image:w.image}).select().single();if(j)throw j;return _}catch(_){throw n(_ instanceof Error?_.message:"Error adding category"),_}finally{e(!1)}},updateCategory:async(w,_)=>{e(!0),n(null);try{const{data:j,error:C}=await Y.from("categories").update({name:_.name,description:_.description,image:_.image}).eq("id",w).select().single();if(C)throw C;return j}catch(j){throw n(j instanceof Error?j.message:"Error updating category"),j}finally{e(!1)}},deleteCategory:async w=>{e(!0),n(null);try{const{error:_}=await Y.from("categories").delete().eq("id",w);if(_)throw _}catch(_){throw n(_ instanceof Error?_.message:"Error deleting category"),_}finally{e(!1)}},fetchProducts:async()=>{e(!0),n(null);try{const{data:w,error:_}=await Y.from("products").select(`
          *,
          categories (name)
        `).order("created_at",{ascending:!1});if(_)throw _;return w.map(j=>{var C;return{id:j.id,name:j.name,description:j.description,price:j.price,unit:j.unit,category:((C=j.categories)==null?void 0:C.name)||"",image:j.image,inStock:j.in_stock,visible:j.visible,createdAt:j.created_at,updatedAt:j.updated_at}})}catch(w){return n(w instanceof Error?w.message:"Error fetching products"),[]}finally{e(!1)}},addProduct:async w=>{e(!0),n(null);try{const{data:_,error:j}=await Y.from("categories").select("id").eq("name",w.category).single();if(j)throw j;const{data:C,error:Q}=await Y.from("products").insert({name:w.name,description:w.description,price:w.price,unit:w.unit,category_id:_.id,image:w.image,in_stock:w.inStock,visible:w.visible}).select().single();if(Q)throw Q;return C}catch(_){throw n(_ instanceof Error?_.message:"Error adding product"),_}finally{e(!1)}},updateProduct:async(w,_)=>{e(!0),n(null);try{let j;if(_.category){const{data:se,error:A}=await Y.from("categories").select("id").eq("name",_.category).single();if(A)throw A;j=se.id}const C={};_.name&&(C.name=_.name),_.description&&(C.description=_.description),_.price!==void 0&&(C.price=_.price),_.unit&&(C.unit=_.unit),j&&(C.category_id=j),_.image&&(C.image=_.image),_.inStock!==void 0&&(C.in_stock=_.inStock),_.visible!==void 0&&(C.visible=_.visible);const{data:Q,error:ue}=await Y.from("products").update(C).eq("id",w).select().single();if(ue)throw ue;return Q}catch(j){throw n(j instanceof Error?j.message:"Error updating product"),j}finally{e(!1)}},deleteProduct:async w=>{e(!0),n(null);try{const{error:_}=await Y.from("products").delete().eq("id",w);if(_)throw _}catch(_){throw n(_ instanceof Error?_.message:"Error deleting product"),_}finally{e(!1)}},signUp:async(w,_,j)=>{e(!0),n(null);try{const{data:C,error:Q}=await Y.auth.signUp({email:w,password:_,options:{data:{name:j}}});if(Q)throw Q;if(C.user){const{error:ue}=await Y.from("profiles").insert({id:C.user.id,name:j,email:w,role:"client"});if(ue)throw ue}return C}catch(C){throw n(C instanceof Error?C.message:"Error signing up"),C}finally{e(!1)}},signIn:async(w,_)=>{e(!0),n(null);try{const{data:j,error:C}=await Y.auth.signInWithPassword({email:w,password:_});if(C)throw C;return j}catch(j){throw n(j instanceof Error?j.message:"Error signing in"),j}finally{e(!1)}},signOut:async()=>{e(!0),n(null);try{const{error:w}=await Y.auth.signOut();if(w)throw w}catch(w){throw n(w instanceof Error?w.message:"Error signing out"),w}finally{e(!1)}},getCurrentUser:async()=>{try{const{data:{user:w}}=await Y.auth.getUser();if(!w)return null;const{data:_,error:j}=await Y.from("profiles").select("*").eq("id",w.id).single();if(j)throw j;return{id:_.id,name:_.name,email:_.email,role:_.role,createdAt:_.created_at}}catch(w){return n(w instanceof Error?w.message:"Error getting current user"),null}},fetchUserFavorites:async w=>{try{const{data:_,error:j}=await Y.from("user_favorites").select("product_id").eq("user_id",w);if(j)throw j;return _.map(C=>C.product_id)}catch(_){return n(_ instanceof Error?_.message:"Error fetching favorites"),[]}},addToFavorites:async(w,_)=>{try{const{error:j}=await Y.from("user_favorites").insert({user_id:w,product_id:_});if(j)throw j}catch(j){throw n(j instanceof Error?j.message:"Error adding to favorites"),j}},removeFromFavorites:async(w,_)=>{try{const{error:j}=await Y.from("user_favorites").delete().eq("user_id",w).eq("product_id",_);if(j)throw j}catch(j){throw n(j instanceof Error?j.message:"Error removing from favorites"),j}},submitQuoteRequest:async w=>{try{const{data:_,error:j}=await Y.from("quote_requests").insert({product_id:w.productId,product_name:w.productName,client_name:w.clientName,client_email:w.clientEmail,client_phone:w.clientPhone,quantity:w.quantity,message:w.message}).select().single();if(j)throw j;return _}catch(_){throw n(_ instanceof Error?_.message:"Error submitting quote request"),_}},fetchOrders:async()=>{e(!0),n(null);try{const{data:w,error:_}=await Y.from("orders").select(`
          *,
          order_items (
            id,
            product_id,
            product_name,
            quantity,
            unit_price,
            total_price,
            created_at
          )
        `).order("created_at",{ascending:!1});if(_)throw _;return w.map(j=>({id:j.id,clientName:j.client_name,clientPhone:j.client_phone,clientEmail:j.client_email,totalAmount:j.total_amount,notes:j.notes,status:j.status,createdAt:j.created_at,updatedAt:j.updated_at,items:j.order_items.map(C=>({id:C.id,orderId:j.id,productId:C.product_id,productName:C.product_name,quantity:C.quantity,unitPrice:C.unit_price,totalPrice:C.total_price,createdAt:C.created_at}))}))}catch(w){return n(w instanceof Error?w.message:"Error fetching orders"),[]}finally{e(!1)}},createOrder:async w=>{e(!0),n(null);try{const _=w.items.reduce((se,A)=>se+A.product.price*A.quantity,0),{data:j,error:C}=await Y.from("orders").insert({client_name:w.clientName,client_phone:w.clientPhone,client_email:w.clientEmail,notes:w.notes,total_amount:_}).select().single();if(C)throw C;const Q=w.items.map(se=>({order_id:j.id,product_id:se.product.id,product_name:se.product.name,quantity:se.quantity,unit_price:se.product.price,total_price:se.product.price*se.quantity})),{error:ue}=await Y.from("order_items").insert(Q);if(ue)throw ue;return j}catch(_){throw n(_ instanceof Error?_.message:"Error creating order"),_}finally{e(!1)}},updateOrderStatus:async(w,_)=>{e(!0),n(null);try{const{data:j,error:C}=await Y.from("orders").update({status:_,updated_at:new Date().toISOString()}).eq("id",w).select().single();if(C)throw C;return j}catch(j){throw n(j instanceof Error?j.message:"Error updating order status"),j}finally{e(!1)}}}},k0={fr:{"nav.products":"Produits","nav.categories":"Catgories","nav.admin":"Admin","nav.login":"Connexion","nav.logout":"Dconnexion","nav.register":"S'inscrire","store.name":"YoussefMarket","store.tagline":"Dcouvrez nos produits frais et de qualit","catalog.title":"Catalogue Produits","catalog.description":"Dcouvrez nos produits frais et de qualit","catalog.search":"Rechercher des produits...","catalog.allCategories":"Toutes les Catgories","catalog.noProducts":"Aucun produit trouv","catalog.noProductsDesc":"Essayez d'ajuster vos critres de recherche ou de filtre.","categories.title":"Catgories de Produits","categories.description":"Parcourez notre large gamme de catgories de produits","categories.viewProducts":"Voir les Produits ","categories.products":"produits","product.inStock":"En Stock","product.onRequest":"Sur Demande","product.requestQuote":"Demander un Devis","product.addToFavorites":"Ajouter aux Favoris","product.removeFromFavorites":"Retirer des Favoris","quote.title":"Demander un Devis","quote.name":"Nom","quote.email":"Email","quote.phone":"Tlphone","quote.quantity":"Quantit","quote.message":"Message Supplmentaire","quote.messagePlaceholder":"Exigences spcifiques ou questions...","quote.send":"Envoyer la Demande","quote.whatsapp":"WhatsApp","quote.success":"Demande de devis envoye avec succs ! Nous vous contacterons bientt.","auth.welcomeBack":"Bon Retour","auth.signIn":"Connectez-vous  votre compte","auth.createAccount":"Crer un Compte","auth.joinUs":"Rejoignez YoussefMarket","auth.email":"Adresse Email","auth.password":"Mot de Passe","auth.confirmPassword":"Confirmer le Mot de Passe","auth.fullName":"Nom Complet","auth.signInButton":"Se Connecter","auth.registerButton":"S'inscrire","auth.noAccount":"Pas de compte ?","auth.hasAccount":"Dj un compte ?","auth.registerLink":"Inscrivez-vous","auth.loginLink":"Connectez-vous","auth.loginAsClient":"Connexion Client","auth.loginAsAdmin":"Connexion Admin","admin.dashboard":"Tableau de Bord Admin","admin.addProduct":"Ajouter Produit","admin.addCategory":"Ajouter Catgorie","admin.totalProducts":"Total Produits","admin.visibleProducts":"Produits Visibles","admin.categories":"Catgories","admin.inStock":"En Stock","admin.products":"Produits","admin.product":"Produit","admin.category":"Catgorie","admin.price":"Prix","admin.status":"Statut","admin.actions":"Actions","admin.visible":"Visible","admin.hidden":"Masqu","admin.edit":"Modifier","admin.delete":"Supprimer","admin.show":"Afficher","admin.hide":"Masquer","form.productName":"Nom du Produit","form.description":"Description","form.price":"Prix (MAD)","form.unit":"Unit","form.category":"Catgorie","form.image":"URL de l'Image","form.inStock":"En Stock","form.visible":"Visible pour les Clients","form.save":"Sauvegarder","form.cancel":"Annuler","form.saving":"Sauvegarde...","form.addProduct":"Ajouter un Produit","form.editProduct":"Modifier le Produit","form.addCategory":"Ajouter une Catgorie","form.editCategory":"Modifier la Catgorie","form.categoryName":"Nom de la Catgorie","form.selectCategory":"Slectionner une Catgorie","validation.required":"Ce champ est requis","validation.email":"Adresse email invalide","validation.password":"Le mot de passe doit contenir au moins 6 caractres","validation.passwordMatch":"Les mots de passe ne correspondent pas","validation.pricePositive":"Le prix doit tre suprieur  0","message.productAdded":"Produit ajout avec succs","message.productUpdated":"Produit modifi avec succs","message.productDeleted":"Produit supprim avec succs","message.categoryAdded":"Catgorie ajoute avec succs","message.categoryUpdated":"Catgorie modifie avec succs","message.categoryDeleted":"Catgorie supprime avec succs","message.productHidden":"Produit masqu avec succs","message.productShown":"Produit affich avec succs","message.loginSuccess":"Connexion russie","message.registerSuccess":"Inscription russie","message.addedToFavorites":"Ajout aux favoris","message.removedFromFavorites":"Retir des favoris","currency.mad":"MAD","currency.symbol":".","common.loading":"Chargement...","common.error":"Erreur","common.success":"Succs","common.close":"Fermer","common.confirm":"Confirmer","common.yes":"Oui","common.no":"Non","common.required":"Requis","demo.credentials":"Identifiants de Dmonstration","demo.adminEmail":"Email: admin@youssefmarket.com","demo.adminPassword":"Mot de passe: admin123","demo.clientEmail":"Email: client@example.com","demo.clientPassword":"Mot de passe: client123","order.title":"Passer Commande","order.clientName":"Nom du Client","order.clientPhone":"Tlphone","order.clientEmail":"Email (optionnel)","order.notes":"Notes","order.notesPlaceholder":"Instructions spciales ou commentaires...","order.placeOrder":"Passer la Commande","order.addToCart":"Ajouter au Panier","order.cart":"Panier","order.cartEmpty":"Votre panier est vide","order.cartItems":"Articles dans le panier","order.quantity":"Quantit","order.remove":"Retirer","order.total":"Total","order.success":"Commande passe avec succs ! Nous vous contacterons bientt.","order.viewCart":"Voir le Panier","order.checkout":"Finaliser","order.continueShopping":"Continuer les Achats","order.orderSummary":"Rsum de la Commande","order.orderNumber":"Numro de Commande","order.orderDate":"Date de Commande","order.orderStatus":"Statut","order.orderTotal":"Total de la Commande","orderStatus.pending":"En Attente","orderStatus.confirmed":"Confirme","orderStatus.preparing":"En Prparation","orderStatus.ready":"Prte","orderStatus.delivered":"Livre","orderStatus.cancelled":"Annule","admin.orders":"Commandes","admin.orderManagement":"Gestion des Commandes","admin.totalOrders":"Total Commandes","admin.pendingOrders":"Commandes en Attente","admin.totalRevenue":"Revenus Total","admin.orderDetails":"Dtails de la Commande","admin.updateStatus":"Mettre  Jour le Statut","admin.orderItems":"Articles de la Commande","admin.clientInfo":"Informations Client","admin.orderNotes":"Notes de la Commande"},en:{"nav.products":"Products","nav.categories":"Categories","nav.admin":"Admin","nav.login":"Login","nav.logout":"Logout","nav.register":"Register","store.name":"YoussefMarket","store.tagline":"Discover our fresh, quality products","catalog.title":"Product Catalog","catalog.description":"Discover our fresh, quality products","catalog.search":"Search products...","catalog.allCategories":"All Categories","catalog.noProducts":"No products found","catalog.noProductsDesc":"Try adjusting your search or filter criteria.","categories.title":"Product Categories","categories.description":"Browse our wide range of product categories","categories.viewProducts":"View Products ","categories.products":"products","product.inStock":"In Stock","product.onRequest":"On Request","product.requestQuote":"Request Quote","product.addToFavorites":"Add to Favorites","product.removeFromFavorites":"Remove from Favorites","quote.title":"Request Quote","quote.name":"Name","quote.email":"Email","quote.phone":"Phone","quote.quantity":"Quantity","quote.message":"Additional Message","quote.messagePlaceholder":"Any specific requirements or questions...","quote.send":"Send Quote Request","quote.whatsapp":"WhatsApp","quote.success":"Quote request sent successfully! We will contact you soon.","auth.welcomeBack":"Welcome Back","auth.signIn":"Sign in to your account","auth.createAccount":"Create Account","auth.joinUs":"Join YoussefMarket","auth.email":"Email Address","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.fullName":"Full Name","auth.signInButton":"Sign In","auth.registerButton":"Register","auth.noAccount":"No account?","auth.hasAccount":"Already have an account?","auth.registerLink":"Sign up","auth.loginLink":"Sign in","auth.loginAsClient":"Client Login","auth.loginAsAdmin":"Admin Login","admin.dashboard":"Admin Dashboard","admin.addProduct":"Add Product","admin.addCategory":"Add Category","admin.totalProducts":"Total Products","admin.visibleProducts":"Visible Products","admin.categories":"Categories","admin.inStock":"In Stock","admin.products":"Products","admin.product":"Product","admin.category":"Category","admin.price":"Price","admin.status":"Status","admin.actions":"Actions","admin.visible":"Visible","admin.hidden":"Hidden","admin.edit":"Edit","admin.delete":"Delete","admin.show":"Show","admin.hide":"Hide","form.productName":"Product Name","form.description":"Description","form.price":"Price (MAD)","form.unit":"Unit","form.category":"Category","form.image":"Image URL","form.inStock":"In Stock","form.visible":"Visible to Clients","form.save":"Save","form.cancel":"Cancel","form.saving":"Saving...","form.addProduct":"Add Product","form.editProduct":"Edit Product","form.addCategory":"Add Category","form.editCategory":"Edit Category","form.categoryName":"Category Name","form.selectCategory":"Select Category","validation.required":"This field is required","validation.email":"Invalid email address","validation.password":"Password must be at least 6 characters","validation.passwordMatch":"Passwords do not match","validation.pricePositive":"Price must be greater than 0","message.productAdded":"Product added successfully","message.productUpdated":"Product updated successfully","message.productDeleted":"Product deleted successfully","message.categoryAdded":"Category added successfully","message.categoryUpdated":"Category updated successfully","message.categoryDeleted":"Category deleted successfully","message.productHidden":"Product hidden successfully","message.productShown":"Product shown successfully","message.loginSuccess":"Login successful","message.registerSuccess":"Registration successful","message.addedToFavorites":"Added to favorites","message.removedFromFavorites":"Removed from favorites","currency.mad":"MAD","currency.symbol":".","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.close":"Close","common.confirm":"Confirm","common.yes":"Yes","common.no":"No","common.required":"Required","demo.credentials":"Demo Credentials","demo.adminEmail":"Email: admin@youssefmarket.com","demo.adminPassword":"Password: admin123","demo.clientEmail":"Email: client@example.com","demo.clientPassword":"Password: client123","order.title":"Place Order","order.clientName":"Client Name","order.clientPhone":"Phone Number","order.clientEmail":"Email (optional)","order.notes":"Notes","order.notesPlaceholder":"Special instructions or comments...","order.placeOrder":"Place Order","order.addToCart":"Add to Cart","order.cart":"Cart","order.cartEmpty":"Your cart is empty","order.cartItems":"Items in cart","order.quantity":"Quantity","order.remove":"Remove","order.total":"Total","order.success":"Order placed successfully! We will contact you soon.","order.viewCart":"View Cart","order.checkout":"Checkout","order.continueShopping":"Continue Shopping","order.orderSummary":"Order Summary","order.orderNumber":"Order Number","order.orderDate":"Order Date","order.orderStatus":"Status","order.orderTotal":"Order Total","orderStatus.pending":"Pending","orderStatus.confirmed":"Confirmed","orderStatus.preparing":"Preparing","orderStatus.ready":"Ready","orderStatus.delivered":"Delivered","orderStatus.cancelled":"Cancelled","admin.orders":"Orders","admin.orderManagement":"Order Management","admin.totalOrders":"Total Orders","admin.pendingOrders":"Pending Orders","admin.totalRevenue":"Total Revenue","admin.orderDetails":"Order Details","admin.updateStatus":"Update Status","admin.orderItems":"Order Items","admin.clientInfo":"Client Information","admin.orderNotes":"Order Notes"}},bh=O.createContext(void 0),_e=()=>{const t=O.useContext(bh);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t},S0=({children:t})=>{const[e,r]=O.useState("fr"),n=s=>k0[e][s]||s;return l.jsx(bh.Provider,{value:{language:e,setLanguage:r,t:n},children:t})},j0=[{id:"1",name:"Epicerie",description:"Produits alimentaires de base et conserves",image:"https://images.pexels.com/photos/4110251/pexels-photo-4110251.jpeg",productCount:15},{id:"2",name:"Hygine & Beaut",description:"Produits de soins personnels et cosmtiques",image:"https://images.pexels.com/photos/3735657/pexels-photo-3735657.jpeg",productCount:12},{id:"3",name:"Produits Frais",description:"Viandes, poissons et produits frais",image:"https://images.pexels.com/photos/65175/pexels-photo-65175.jpeg",productCount:18},{id:"4",name:"Boissons Froides",description:"Boissons rafrachissantes et jus",image:"https://images.pexels.com/photos/544961/pexels-photo-544961.jpeg",productCount:14},{id:"5",name:"Gateaux Dessert",description:"Ptisseries et desserts sucrs",image:"https://images.pexels.com/photos/298217/pexels-photo-298217.jpeg",productCount:10},{id:"6",name:"Chocolats & Confiseries",description:"Chocolats fins et bonbons",image:"https://images.pexels.com/photos/918327/pexels-photo-918327.jpeg",productCount:12},{id:"7",name:"Boissons Chaudes",description:"Caf, th et boissons chaudes",image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg",productCount:9},{id:"8",name:"Produits Laitiers",description:"Lait, fromages et produits laitiers",image:"https://images.pexels.com/photos/236010/pexels-photo-236010.jpeg",productCount:16},{id:"9",name:"Entretien & Nettoyage",description:"Produits mnagers et nettoyage",image:"https://images.pexels.com/photos/4239091/pexels-photo-4239091.jpeg",productCount:11},{id:"10",name:"Asiatique",description:"Spcialits et produits asiatiques",image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",productCount:13}],b0=[{id:"1",name:"Riz Basmati Premium",description:"Riz basmati de qualit suprieure, grain long",price:49.9,unit:"1kg",category:"Epicerie",image:"https://images.pexels.com/photos/723198/pexels-photo-723198.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"2",name:"Shampoing Doux",description:"Shampoing pour cheveux normaux, formule douce",price:69.9,unit:"250ml",category:"Hygine & Beaut",image:"https://images.pexels.com/photos/3735657/pexels-photo-3735657.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:35:00Z",updatedAt:"2024-01-15T10:35:00Z"},{id:"3",name:"Saumon Frais",description:"Filet de saumon frais de Norvge",price:189.9,unit:"500g",category:"Produits Frais",image:"https://images.pexels.com/photos/65175/pexels-photo-65175.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:40:00Z",updatedAt:"2024-01-15T10:40:00Z"},{id:"4",name:"Coca-Cola",description:"Boisson gazeuse rafrachissante",price:29.9,unit:"500ml",category:"Boissons Froides",image:"https://images.pexels.com/photos/544961/pexels-photo-544961.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:45:00Z",updatedAt:"2024-01-15T10:45:00Z"},{id:"5",name:"Tarte aux Pommes",description:"Tarte aux pommes artisanale",price:89.9,unit:"1 pice",category:"Gateaux Dessert",image:"https://images.pexels.com/photos/298217/pexels-photo-298217.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:55:00Z",updatedAt:"2024-01-15T10:55:00Z"},{id:"6",name:"Chocolat Noir 70%",description:"Tablette de chocolat noir intense",price:49.9,unit:"100g",category:"Chocolats & Confiseries",image:"https://images.pexels.com/photos/918327/pexels-photo-918327.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:00:00Z",updatedAt:"2024-01-15T11:00:00Z"},{id:"7",name:"Caf Arabica",description:"Caf en grains 100% Arabica",price:129.9,unit:"500g",category:"Boissons Chaudes",image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:05:00Z",updatedAt:"2024-01-15T11:05:00Z"},{id:"8",name:"Lait Entier Bio",description:"Lait entier biologique de ferme",price:39.9,unit:"1L",category:"Produits Laitiers",image:"https://images.pexels.com/photos/236010/pexels-photo-236010.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:10:00Z",updatedAt:"2024-01-15T11:10:00Z"},{id:"9",name:"Liquide Vaisselle",description:"Liquide vaisselle concentr citron",price:29.9,unit:"500ml",category:"Entretien & Nettoyage",image:"https://images.pexels.com/photos/4239091/pexels-photo-4239091.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:15:00Z",updatedAt:"2024-01-15T11:15:00Z"},{id:"10",name:"Sauce Soja",description:"Sauce soja traditionnelle japonaise",price:44.9,unit:"250ml",category:"Asiatique",image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:20:00Z",updatedAt:"2024-01-15T11:20:00Z"},{id:"11",name:"Fromage Camembert",description:"Camembert de Normandie AOP",price:59.9,unit:"250g",category:"Produits Laitiers",image:"https://images.pexels.com/photos/773253/pexels-photo-773253.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:25:00Z",updatedAt:"2024-01-15T11:25:00Z"}],Nh=O.createContext(void 0),ze=()=>{const t=O.useContext(Nh);if(!t)throw new Error("useApp must be used within AppProvider");return t},N0=({children:t})=>{_e();const[e,r]=O.useState([]),[n,s]=O.useState([]),[i,o]=O.useState([]),[a,u]=O.useState([]),[c,d]=O.useState("all"),[h,p]=O.useState(""),[y,x]=O.useState(null),[k,S]=O.useState([]),[m,f]=O.useState(!0);_0();const g=(y==null?void 0:y.role)==="admin",v=(y==null?void 0:y.role)==="client",b=e.filter($=>{const R=c==="all"||$.category===c,I=$.name.toLowerCase().includes(h.toLowerCase())||$.description.toLowerCase().includes(h.toLowerCase()),F=g||$.visible;return R&&I&&F}),E=async $=>{{const R={id:Date.now().toString(),clientName:$.clientName,clientPhone:$.clientPhone,clientEmail:$.clientEmail,notes:$.notes,items:$.items.map(I=>({id:Date.now().toString()+Math.random(),orderId:Date.now().toString(),productId:I.product.id,productName:I.product.name,quantity:I.quantity,unitPrice:I.product.price,totalPrice:I.product.price*I.quantity,createdAt:new Date().toISOString()})),totalAmount:$.items.reduce((I,F)=>I+F.product.price*F.quantity,0),status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};u(I=>[...I,R]);return}},w=async()=>a,_=async($,R)=>{{u(I=>I.map(F=>F.id===$?{...F,status:R,updatedAt:new Date().toISOString()}:F));return}},j=async $=>{{const R={id:Date.now().toString(),name:$.name,email:$.email,role:"client"};return x(R),!0}},C=async($,R)=>{{let I;if($==="admin@youssefmarket.com"&&R==="admin123")I={id:"admin-1",name:"Admin User",email:"admin@youssefmarket.com",role:"admin"};else if($==="client@example.com"&&R==="client123")I={id:"client-1",name:"Client User",email:"client@example.com",role:"client"};else return!1;return x(I),!0}},Q=async $=>{{const R={...$,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(I=>[...I,R]);return}},ue=async($,R)=>{{r(I=>I.map(F=>F.id===$?{...F,...R,updatedAt:new Date().toISOString()}:F));return}},se=async $=>{{r(R=>R.filter(I=>I.id!==$));return}},A=async $=>{{const R={...$,id:Date.now().toString(),productCount:0};s(I=>[...I,R]);return}},Vr=async($,R)=>{{s(I=>I.map(F=>F.id===$?{...F,...R}:F));return}},Qr=async $=>{{s(R=>R.filter(I=>I.id!==$));return}};O.useEffect(()=>((async()=>{f(!0);{r(b0),s(j0),f(!1);return}})(),()=>{}),[]),O.useEffect(()=>{if(n.length>0&&e.length>0){const $=n.map(R=>({...R,productCount:e.filter(I=>I.category===R.name).length}));s($)}},[e]);const Kr=async $=>{if(y){S(R=>[...R,$]);return}},P=async $=>{if(y){S(R=>R.filter(I=>I!==$));return}},L=$=>{o(R=>R.find(F=>F.product.id===$.id)?R.map(F=>F.product.id===$.id?{...F,quantity:F.quantity+1}:F):[...R,{product:$,quantity:1}])},U=($,R)=>{if(R<=0){J($);return}o(I=>I.map(F=>F.product.id===$?{...F,quantity:R}:F))},J=$=>{o(R=>R.filter(I=>I.product.id!==$))},ie=()=>{o([])};return l.jsx(Nh.Provider,{value:{products:e,categories:n,cart:i,orders:a,selectedCategory:c,searchQuery:h,user:y,isAdmin:g,isClient:v,favorites:k,loading:m,setSelectedCategory:d,setSearchQuery:p,setUser:x,addToFavorites:Kr,addToCart:L,updateCartQuantity:U,removeFromCart:J,clearCart:ie,removeFromFavorites:P,registerUser:j,loginUser:C,addProduct:Q,updateProduct:ue,deleteProduct:se,addCategory:A,updateCategory:Vr,deleteCategory:Qr,createOrder:E,fetchOrders:w,updateOrderStatus:_,filteredProducts:b},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(t,e)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>O.createElement("svg",{ref:d,...E0,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${C0(t)}`,a].join(" "),...c},[...e.map(([h,p])=>O.createElement(h,p)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=V("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=V("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=V("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=V("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=V("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=V("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=V("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=V("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=V("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=V("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),M0=()=>{var n;const{language:t,setLanguage:e}=_e(),r=[{code:"fr",name:"Franais",flag:""},{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}];return l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 text-gray-700 hover:text-emerald-600 transition-colors",children:[l.jsx(T0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:(n=r.find(s=>s.code===t))==null?void 0:n.flag})]}),l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:l.jsx("div",{className:"py-2",children:r.map(s=>l.jsxs("button",{onClick:()=>e(s.code),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center space-x-3 ${t===s.code?"bg-emerald-50 text-emerald-600":"text-gray-700"}`,children:[l.jsx("span",{className:"text-lg",children:s.flag}),l.jsx("span",{children:s.name})]},s.code))})})]})},F0=({currentView:t,setCurrentView:e,onCartClick:r})=>{const{user:n,setUser:s,isAdmin:i,isClient:o,cart:a}=ze(),{t:u}=_e(),c=a.reduce((h,p)=>h+p.quantity,0),d=()=>{s(null),e("catalog")};return l.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Pi,{className:"w-8 h-8 text-emerald-600 mr-3"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u("store.name")})]}),l.jsxs("nav",{className:"hidden md:flex space-x-8",children:[l.jsx("button",{onClick:()=>e("catalog"),className:`${t==="catalog"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-700 hover:text-emerald-600"} px-3 py-2 text-sm font-medium transition-colors`,children:u("nav.products")}),l.jsx("button",{onClick:()=>e("categories"),className:`${t==="categories"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-700 hover:text-emerald-600"} px-3 py-2 text-sm font-medium transition-colors`,children:u("nav.categories")}),i&&l.jsx("button",{onClick:()=>e("admin"),className:`${t==="admin"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-700 hover:text-emerald-600"} px-3 py-2 text-sm font-medium transition-colors`,children:u("nav.admin")})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(M0,{}),r&&l.jsxs("button",{onClick:r,className:"relative p-2 text-gray-600 hover:text-emerald-600 transition-colors",children:[l.jsx(D0,{className:"w-6 h-6"}),c>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-emerald-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:c})]}),n?l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Mr,{className:"w-5 h-5 text-gray-600"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:n.name}),i&&l.jsx("span",{className:"px-2 py-1 text-xs bg-emerald-100 text-emerald-800 rounded-full",children:"Admin"}),o&&l.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Client"})]}),l.jsxs("button",{onClick:d,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-900 transition-colors",children:[l.jsx($0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:u("nav.logout")})]})]}):l.jsxs("button",{onClick:()=>e("login"),className:"flex items-center space-x-2 bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:[l.jsx(Mr,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:u("nav.login")})]})]})]})})})},q0=()=>{const{searchQuery:t,setSearchQuery:e}=ze(),{t:r}=_e();return l.jsxs("div",{className:"relative w-full max-w-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(I0,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",placeholder:r("catalog.search"),value:t,onChange:n=>e(n.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-colors"})]})},B0=()=>{const{categories:t,selectedCategory:e,setSelectedCategory:r}=ze(),{t:n}=_e();return l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[l.jsx("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${e==="all"?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n("catalog.allCategories")}),t.map(s=>l.jsx("button",{onClick:()=>r(s.name),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${e===s.name?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.name},s.id))]})},H0=({product:t,onRequestQuote:e,onAddToCart:r})=>{const{isAdmin:n,isClient:s,favorites:i,addToFavorites:o,removeFromFavorites:a}=ze(),{t:u}=_e(),c=i.includes(t.id),d=()=>{navigator.share?navigator.share({title:t.name,text:t.description,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href).then(()=>{console.log("Link copied to clipboard")}).catch(console.error)},h=()=>{c?a(t.id):o(t.id)},p=y=>`${y.toFixed(2)} ${u("currency.symbol")}`;return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden group",children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[!t.visible&&n&&l.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"Hidden"}),l.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.inStock?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.inStock?u("product.inStock"):u("product.onRequest")})]})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-emerald-600 transition-colors",children:t.name}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xl font-bold text-emerald-600",children:p(t.price)}),l.jsx("div",{className:"text-sm text-gray-500",children:t.unit})]})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qn,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-500",children:t.category})]})}),l.jsxs("div",{className:"flex space-x-2",children:[s&&l.jsx("button",{onClick:h,className:`${c?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"} py-2 px-3 rounded-lg transition-colors`,title:u(c?"product.removeFromFavorites":"product.addToFavorites"),children:l.jsx(A0,{className:`w-4 h-4 ${c?"fill-current":""}`})}),r&&l.jsx("button",{onClick:()=>r(t),className:"bg-blue-600 text-white py-2 px-3 rounded-lg hover:bg-blue-700 transition-colors",title:u("order.addToCart"),children:l.jsx(Pi,{className:"w-4 h-4"})}),l.jsxs("button",{onClick:()=>e==null?void 0:e(t),className:"flex-1 bg-emerald-600 text-white py-2 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(R0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:u("product.requestQuote")})]}),l.jsx("button",{onClick:d,className:"bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors",children:l.jsx(P0,{className:"w-4 h-4"})})]})]})]})},W0=({product:t,onClose:e})=>{const{t:r}=_e(),[n,s]=O.useState(!1),[i,o]=O.useState({name:"",email:"",phone:"",quantity:1,message:""}),a=c=>{c.preventDefault(),s(!0);{setTimeout(()=>{s(!1),e(),console.log("Quote request submitted (demo mode):",i),alert(r("quote.success"))},1e3);return}},u=()=>{const c=`Bonjour! Je suis intress par ${t.name} (${t.unit})  ${t.price.toFixed(2)} ${r("currency.symbol")}. Pouvez-vous me fournir un devis pour ${i.quantity} units?`,d=`https://wa.me/1234567890?text=${encodeURIComponent(c)}`;window.open(d,"_blank")};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r("quote.title")}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(yt,{className:"w-5 h-5 text-gray-500"})})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("img",{src:t.image,alt:t.name,className:"w-16 h-16 object-cover rounded-lg"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),l.jsx("p",{className:"text-sm text-gray-600",children:t.unit}),l.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:[t.price.toFixed(2)," ",r("currency.symbol")]})]})]})}),l.jsxs("form",{onSubmit:a,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("quote.name")," *"]}),l.jsx("input",{type:"text",required:!0,value:i.name,onChange:c=>o({...i,name:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("quote.email")," *"]}),l.jsx("input",{type:"email",required:!0,value:i.email,onChange:c=>o({...i,email:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("quote.phone")}),l.jsx("input",{type:"tel",value:i.phone,onChange:c=>o({...i,phone:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("quote.quantity")," *"]}),l.jsx("input",{type:"number",min:"1",required:!0,value:i.quantity,onChange:c=>o({...i,quantity:parseInt(c.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("quote.message")}),l.jsx("textarea",{rows:3,value:i.message,onChange:c=>o({...i,message:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none resize-none",placeholder:r("quote.messagePlaceholder")})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsxs("button",{type:"submit",disabled:n,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[l.jsx(hl,{className:"w-4 h-4"}),l.jsx("span",{children:r(n?"common.loading":"quote.send")})]}),l.jsxs("button",{type:"button",onClick:u,className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(ii,{className:"w-4 h-4"}),l.jsx("span",{children:r("quote.whatsapp")})]})]})]})]})})})},V0=()=>{const{filteredProducts:t,loading:e,addToCart:r}=ze(),{t:n}=_e(),[s,i]=O.useState(null),[o,a]=O.useState(!1),u=d=>{i(d),a(!0)},c=()=>{a(!1),i(null)};return e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:n("common.loading")})]}):t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n("catalog.noProducts")}),l.jsx("p",{className:"text-gray-600",children:n("catalog.noProductsDesc")})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(d=>l.jsx(H0,{product:d,onRequestQuote:u,onAddToCart:r},d.id))}),o&&s&&l.jsx(W0,{product:s,onClose:c})]})},Q0=()=>{const{categories:t,setSelectedCategory:e,setSearchQuery:r,loading:n}=ze(),{t:s}=_e(),i=o=>{e(o),r(""),window.location.hash="#catalog"};return n?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:s("common.loading")})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>l.jsxs("div",{onClick:()=>i(o.name),className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden cursor-pointer group",children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{src:o.image,alt:o.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[l.jsx("h3",{className:"text-xl font-bold mb-1",children:o.name}),l.jsx("p",{className:"text-sm opacity-90",children:o.description})]})]}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[o.productCount," ",s("categories.products")]}),l.jsx("button",{className:"text-emerald-600 hover:text-emerald-700 font-medium text-sm",children:s("categories.viewProducts")})]})})]},o.id))})},K0=({onSuccess:t})=>{const{loginUser:e,registerUser:r}=ze(),{t:n}=_e(),[s,i]=O.useState(!0),[o,a]=O.useState(!1),[u,c]=O.useState(!1),[d,h]=O.useState(!1),[p,y]=O.useState(""),[x,k]=O.useState({name:"",email:"",password:"",confirmPassword:""}),S=()=>!x.email||!x.password||!s&&!x.name?(y(n("validation.required")),!1):!s&&x.password!==x.confirmPassword?(y(n("validation.passwordMatch")),!1):x.password.length<6?(y(n("validation.password")),!1):!0,m=async v=>{if(v.preventDefault(),y(""),!!S()){h(!0);try{let b=!1;s?b=await e(x.email,x.password):b=await r({name:x.name,email:x.email,password:x.password}),b?t():y(s?"Identifiants invalides":"Erreur lors de l'inscription")}catch(b){y(b instanceof Error?b.message:"Une erreur est survenue")}finally{h(!1)}}},f=()=>{i(!s),y(""),k({name:"",email:"",password:"",confirmPassword:""})},g=v=>{k(v==="admin"?{...x,email:"admin@youssefmarket.com",password:"admin123"}:{...x,email:"client@example.com",password:"client123"})};return l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n(s?"auth.welcomeBack":"auth.createAccount")}),l.jsx("p",{className:"text-gray-600",children:n(s?"auth.signIn":"auth.joinUs")})]}),p&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:p})}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[!s&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("auth.fullName")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Mr,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",required:!s,value:x.name,onChange:v=>k({...x,name:v.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"Entrez votre nom complet"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("auth.email")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Mr,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"email",required:!0,value:x.email,onChange:v=>k({...x,email:v.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"Entrez votre email"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("auth.password")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Mu,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:o?"text":"password",required:!0,value:x.password,onChange:v=>k({...x,password:v.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"Entrez votre mot de passe"}),l.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?l.jsx(ca,{className:"h-5 w-5 text-gray-400"}):l.jsx(Fn,{className:"h-5 w-5 text-gray-400"})})]})]}),!s&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("auth.confirmPassword")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Mu,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:u?"text":"password",required:!s,value:x.confirmPassword,onChange:v=>k({...x,confirmPassword:v.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"Confirmez votre mot de passe"}),l.jsx("button",{type:"button",onClick:()=>c(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?l.jsx(ca,{className:"h-5 w-5 text-gray-400"}):l.jsx(Fn,{className:"h-5 w-5 text-gray-400"})})]})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors font-medium disabled:opacity-50",children:n(d?"common.loading":s?"auth.signInButton":"auth.registerButton")})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[n(s?"auth.noAccount":"auth.hasAccount")," ",l.jsx("button",{type:"button",onClick:f,className:"text-emerald-600 hover:text-emerald-700 font-medium",children:n(s?"auth.registerLink":"auth.loginLink")})]})}),s&&l.jsx("div",{className:"mt-6 space-y-3",children:l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 text-center mb-3",children:l.jsxs("strong",{children:[n("demo.credentials"),":"]})}),l.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Demo mode active. Use: admin@youssefmarket.com / admin123 or client@example.com / client123"}),l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsx("button",{type:"button",onClick:()=>g("admin"),className:"w-full text-xs bg-blue-50 text-blue-700 py-2 px-3 rounded border border-blue-200 hover:bg-blue-100",children:"Fill Admin Demo (admin@youssefmarket.com)"}),l.jsx("button",{type:"button",onClick:()=>g("client"),className:"w-full text-xs bg-green-50 text-green-700 py-2 px-3 rounded border border-green-200 hover:bg-green-100",children:"Fill Client Demo (client@example.com)"})]})]})})]})})},G0=({product:t,onClose:e,onSuccess:r})=>{const{categories:n,addProduct:s,updateProduct:i,loading:o}=ze(),{t:a}=_e(),[u,c]=O.useState({name:"",description:"",price:0,unit:"",category:"",image:"",inStock:!0,visible:!0}),[d,h]=O.useState({}),[p,y]=O.useState(!1);O.useEffect(()=>{t&&c({name:t.name,description:t.description,price:t.price,unit:t.unit,category:t.category,image:t.image,inStock:t.inStock,visible:t.visible})},[t]);const x=()=>{const S={};return u.name.trim()||(S.name=a("validation.required")),u.description.trim()||(S.description=a("validation.required")),u.price<=0&&(S.price=a("validation.pricePositive")),u.unit.trim()||(S.unit=a("validation.required")),u.category||(S.category=a("validation.required")),u.image.trim()||(S.image=a("validation.required")),h(S),Object.keys(S).length===0},k=async S=>{if(S.preventDefault(),!!x()){y(!0);try{t?await i(t.id,u):await s(u),r(),e()}catch(m){console.error("Error saving product:",m),alert("Erreur lors de la sauvegarde du produit")}finally{y(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a(t?"form.editProduct":"form.addProduct")}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(yt,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.productName")," *"]}),l.jsx("input",{type:"text",value:u.name,onChange:S=>c({...u,name:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.name?"border-red-500":"border-gray-300"}`,placeholder:"Ex: Riz Basmati Premium"}),d.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.category")," *"]}),l.jsxs("select",{value:u.category,onChange:S=>c({...u,category:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.category?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:a("form.selectCategory")}),n.map(S=>l.jsx("option",{value:S.name,children:S.name},S.id))]}),d.category&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.category})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.description")," *"]}),l.jsx("textarea",{rows:3,value:u.description,onChange:S=>c({...u,description:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none resize-none ${d.description?"border-red-500":"border-gray-300"}`,placeholder:"Description dtaille du produit..."}),d.description&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.description})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.price")," *"]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:u.price,onChange:S=>c({...u,price:parseFloat(S.target.value)||0}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),d.price&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.price})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.unit")," *"]}),l.jsx("input",{type:"text",value:u.unit,onChange:S=>c({...u,unit:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.unit?"border-red-500":"border-gray-300"}`,placeholder:"Ex: 1kg, 500ml, 1 pice"}),d.unit&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.unit})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.image")," *"]}),l.jsx("input",{type:"url",value:u.image,onChange:S=>c({...u,image:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.image?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com/image.jpg"}),d.image&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.image}),u.image&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:u.image,alt:"Aperu",className:"w-20 h-20 object-cover rounded-lg",onError:S=>{const m=S.currentTarget;m.style.display="none"}})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"inStock",checked:u.inStock,onChange:S=>c({...u,inStock:S.target.checked}),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"inStock",className:"ml-2 text-sm text-gray-700",children:a("form.inStock")})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"visible",checked:u.visible,onChange:S=>c({...u,visible:S.target.checked}),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"visible",className:"ml-2 text-sm text-gray-700",children:a("form.visible")})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:a("form.cancel")}),l.jsxs("button",{type:"submit",disabled:p||o,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[l.jsx(Eh,{className:"w-4 h-4"}),l.jsx("span",{children:a(p||o?"form.saving":"form.save")})]})]})]})]})})})},J0=({category:t,onClose:e,onSuccess:r})=>{const{addCategory:n,updateCategory:s,loading:i}=ze(),{t:o}=_e(),[a,u]=O.useState({name:"",description:"",image:""}),[c,d]=O.useState({}),[h,p]=O.useState(!1);O.useEffect(()=>{t&&u({name:t.name,description:t.description,image:t.image})},[t]);const y=()=>{const k={};return a.name.trim()||(k.name=o("validation.required")),a.description.trim()||(k.description=o("validation.required")),a.image.trim()||(k.image=o("validation.required")),d(k),Object.keys(k).length===0},x=async k=>{if(k.preventDefault(),!!y()){p(!0);try{t?await s(t.id,a):await n(a),r(),e()}catch(S){console.error("Error saving category:",S),alert("Erreur lors de la sauvegarde de la catgorie")}finally{p(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o(t?"form.editCategory":"form.addCategory")}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(yt,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o("form.categoryName")," *"]}),l.jsx("input",{type:"text",value:a.name,onChange:k=>u({...a,name:k.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${c.name?"border-red-500":"border-gray-300"}`,placeholder:"Ex: Epicerie"}),c.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.name})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o("form.description")," *"]}),l.jsx("textarea",{rows:3,value:a.description,onChange:k=>u({...a,description:k.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none resize-none ${c.description?"border-red-500":"border-gray-300"}`,placeholder:"Description de la catgorie..."}),c.description&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.description})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o("form.image")," *"]}),l.jsx("input",{type:"url",value:a.image,onChange:k=>u({...a,image:k.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${c.image?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com/image.jpg"}),c.image&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.image}),a.image&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:a.image,alt:"Aperu",className:"w-20 h-20 object-cover rounded-lg",onError:k=>{const S=k.currentTarget;S.style.display="none"}})})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:o("form.cancel")}),l.jsxs("button",{type:"submit",disabled:h||i,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[l.jsx(Eh,{className:"w-4 h-4"}),l.jsx("span",{children:o(h||i?"form.saving":"form.save")})]})]})]})]})})})},Y0=()=>{const{fetchOrders:t,updateOrderStatus:e,loading:r}=ze(),{t:n}=_e(),[s,i]=O.useState([]),[o,a]=O.useState(null),[u,c]=O.useState(!1),[d,h]=O.useState("all");O.useEffect(()=>{p()},[]);const p=async()=>{try{const v=await t();i(v)}catch(v){console.error("Error loading orders:",v)}},y=async(v,b)=>{try{await e(v,b),await p()}catch(E){console.error("Error updating order status:",E)}},x=v=>{switch(v){case"pending":return l.jsx(lo,{className:"w-4 h-4 text-yellow-600"});case"confirmed":return l.jsx(As,{className:"w-4 h-4 text-blue-600"});case"preparing":return l.jsx(qn,{className:"w-4 h-4 text-orange-600"});case"ready":return l.jsx(As,{className:"w-4 h-4 text-green-600"});case"delivered":return l.jsx(U0,{className:"w-4 h-4 text-green-700"});case"cancelled":return l.jsx(yt,{className:"w-4 h-4 text-red-600"});default:return l.jsx(lo,{className:"w-4 h-4 text-gray-600"})}},k=v=>{switch(v){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"preparing":return"bg-orange-100 text-orange-800";case"ready":return"bg-green-100 text-green-800";case"delivered":return"bg-green-200 text-green-900";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=v=>`${v.toFixed(2)} ${n("currency.symbol")}`,m=v=>new Date(v).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=s.filter(v=>d==="all"||v.status===d),g=[{title:n("admin.totalOrders"),value:s.length,icon:qn,color:"text-blue-600"},{title:n("admin.pendingOrders"),value:s.filter(v=>v.status==="pending").length,icon:lo,color:"text-yellow-600"},{title:n("admin.totalRevenue"),value:S(s.filter(v=>v.status==="delivered").reduce((v,b)=>v+b.totalAmount,0)),icon:As,color:"text-green-600"}];return r?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:n("common.loading")})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n("admin.orderManagement")})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:g.map((v,b)=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:v.title}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.value})]}),l.jsx(v.icon,{className:`w-8 h-8 ${v.color}`})]})},b))}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${d==="all"?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Toutes"}),["pending","confirmed","preparing","ready","delivered","cancelled"].map(v=>l.jsx("button",{onClick:()=>h(v),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${d===v?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n(`orderStatus.${v}`)},v))]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commande"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(v=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",v.id.slice(-8)]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[v.items.length," article(s)"]})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.clientName}),l.jsx("div",{className:"text-sm text-gray-500",children:v.clientPhone})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S(v.totalAmount)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(v.status)}`,children:[x(v.status),l.jsx("span",{className:"ml-1",children:n(`orderStatus.${v.status}`)})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m(v.createdAt)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>{a(v),c(!0)},className:"text-blue-600 hover:text-blue-900",title:"Voir les dtails",children:l.jsx(Fn,{className:"w-4 h-4"})}),l.jsxs("select",{value:v.status,onChange:b=>y(v.id,b.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[l.jsx("option",{value:"pending",children:n("orderStatus.pending")}),l.jsx("option",{value:"confirmed",children:n("orderStatus.confirmed")}),l.jsx("option",{value:"preparing",children:n("orderStatus.preparing")}),l.jsx("option",{value:"ready",children:n("orderStatus.ready")}),l.jsx("option",{value:"delivered",children:n("orderStatus.delivered")}),l.jsx("option",{value:"cancelled",children:n("orderStatus.cancelled")})]})]})})]},v.id))})]})})}),u&&o&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[n("admin.orderDetails")," #",o.id.slice(-8)]}),l.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(yt,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:n("admin.clientInfo")}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Mr,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{children:o.clientName})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ii,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{children:o.clientPhone})]}),o.clientEmail&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(hl,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{children:o.clientEmail})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:n("admin.orderItems")}),l.jsx("div",{className:"space-y-3",children:o.items.map(v=>l.jsxs("div",{className:"flex justify-between items-center p-3 border border-gray-200 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:v.productName}),l.jsxs("div",{className:"text-sm text-gray-500",children:[S(v.unitPrice)," x ",v.quantity]})]}),l.jsx("div",{className:"font-bold text-gray-900",children:S(v.totalPrice)})]},v.id))})]}),o.notes&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n("admin.orderNotes")}),l.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:o.notes})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[l.jsxs("span",{children:[n("order.total"),":"]}),l.jsx("span",{className:"text-emerald-600",children:S(o.totalAmount)})]}),l.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Commande passe le ",m(o.createdAt)]})]})]})})})]})},Ch=({type:t,message:e,onClose:r,duration:n=3e3})=>(O.useEffect(()=>{if(n<=0)return;const s=setTimeout(()=>{r()},n);return()=>clearTimeout(s)},[r,n]),l.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top-2 duration-300",children:l.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg shadow-lg ${t==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[t==="success"?l.jsx(As,{className:"w-5 h-5 text-green-600"}):l.jsx(z0,{className:"w-5 h-5 text-red-600"}),l.jsx("span",{className:"text-sm font-medium",children:e}),l.jsx("button",{onClick:r,className:"ml-2 text-gray-400 hover:text-gray-600",children:l.jsx(yt,{className:"w-4 h-4"})})]})})),Z0=()=>{const{products:t,categories:e,updateProduct:r,deleteProduct:n,deleteCategory:s,loading:i}=ze(),{t:o}=_e(),[a,u]=O.useState("products"),[c,d]=O.useState(!1),[h,p]=O.useState(!1),[y,x]=O.useState(),[k,S]=O.useState(),[m,f]=O.useState(null),g=A=>{r(A.id,{visible:!A.visible}).then(()=>{f({type:"success",message:A.visible?o("message.productHidden"):o("message.productShown")})}).catch(()=>{f({type:"error",message:"Erreur lors de la modification du produit"})})},v=A=>{window.confirm("tes-vous sr de vouloir supprimer ce produit ?")&&n(A).then(()=>{f({type:"success",message:o("message.productDeleted")})}).catch(()=>{f({type:"error",message:"Erreur lors de la suppression du produit"})})},b=A=>{window.confirm("tes-vous sr de vouloir supprimer cette catgorie ?")&&s(A).then(()=>{f({type:"success",message:o("message.categoryDeleted")})}).catch(()=>{f({type:"error",message:"Erreur lors de la suppression de la catgorie"})})},E=A=>{x(A),d(!0)},w=A=>{S(A),p(!0)},_=()=>{x(void 0),d(!0)},j=()=>{S(void 0),p(!0)},C=()=>{f({type:"success",message:o(y?"message.productUpdated":k?"message.categoryUpdated":c?"message.productAdded":"message.categoryAdded")}),setTimeout(()=>f(null),3e3)},Q=()=>{d(!1),x(void 0)},ue=()=>{p(!1),S(void 0)},se=[{title:o("admin.totalProducts"),value:t.length,icon:qn,color:"text-blue-600"},{title:o("admin.visibleProducts"),value:t.filter(A=>A.visible).length,icon:Fn,color:"text-green-600"},{title:o("admin.categories"),value:e.length,icon:O0,color:"text-purple-600"},{title:o("admin.inStock"),value:t.filter(A=>A.inStock).length,icon:qn,color:"text-emerald-600"}];return i?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:o("common.loading")})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o("admin.dashboard")}),l.jsx("div",{className:"flex space-x-3",children:a==="products"?l.jsxs("button",{onClick:_,className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[l.jsx(da,{className:"w-4 h-4"}),l.jsx("span",{children:o("admin.addProduct")})]}):l.jsxs("button",{onClick:j,className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[l.jsx(da,{className:"w-4 h-4"}),l.jsx("span",{children:o("admin.addCategory")})]})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:se.map((A,Vr)=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:A.title}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.value})]}),l.jsx(A.icon,{className:`w-8 h-8 ${A.color}`})]})},Vr))}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex space-x-8",children:[l.jsx("button",{onClick:()=>u("products"),className:`${a==="products"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm`,children:o("admin.products")}),l.jsx("button",{onClick:()=>u("categories"),className:`${a==="categories"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm`,children:o("admin.categories")}),l.jsx("button",{onClick:()=>u("orders"),className:`${a==="orders"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm`,children:o("admin.orders")})]})}),a==="orders"&&l.jsx(Y0,{}),a==="products"&&l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.product")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.category")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.price")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.status")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.actions")})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(A=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:A.image,alt:A.name,className:"w-10 h-10 object-cover rounded-lg mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),l.jsx("div",{className:"text-sm text-gray-500",children:A.unit})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:A.category})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[A.price.toFixed(2)," ",o("currency.symbol")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${A.inStock?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.inStock?o("product.inStock"):o("product.onRequest")}),l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${A.visible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.visible?o("admin.visible"):o("admin.hidden")})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>g(A),className:"text-gray-600 hover:text-gray-900",title:A.visible?o("admin.hide"):o("admin.show"),children:A.visible?l.jsx(ca,{className:"w-4 h-4"}):l.jsx(Fn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>E(A),className:"text-blue-600 hover:text-blue-900",title:o("admin.edit"),children:l.jsx(Fu,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>v(A.id),className:"text-red-600 hover:text-red-900",title:o("admin.delete"),children:l.jsx(ha,{className:"w-4 h-4"})})]})})]},A.id))})]})})}),a==="categories"&&l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.category")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.products")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.actions")})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(A=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:A.image,alt:A.name,className:"w-10 h-10 object-cover rounded-lg mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name}),l.jsx("div",{className:"text-sm text-gray-500",children:A.description})]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[A.productCount," ",o("categories.products")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>w(A),className:"text-blue-600 hover:text-blue-900",title:o("admin.edit"),children:l.jsx(Fu,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>b(A.id),className:"text-red-600 hover:text-red-900",title:o("admin.delete"),children:l.jsx(ha,{className:"w-4 h-4"})})]})})]},A.id))})]})})}),c&&l.jsx(G0,{product:y,onClose:Q,onSuccess:C}),h&&l.jsx(J0,{category:k,onClose:ue,onSuccess:C}),m&&l.jsx(Ch,{type:m.type,message:m.message,onClose:()=>f(null)})]})},X0=({onClose:t,onCheckout:e})=>{const{cart:r,updateCartQuantity:n,removeFromCart:s,clearCart:i}=ze(),{t:o}=_e(),a=r.reduce((c,d)=>c+d.product.price*d.quantity,0),u=c=>`${c.toFixed(2)} ${o("currency.symbol")}`;return r.length===0?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o("order.cart")}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(yt,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Pi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:o("order.cartEmpty")})]}),l.jsx("button",{onClick:t,className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:o("order.continueShopping")})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o("order.cart")}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(yt,{className:"w-5 h-5 text-gray-500"})})]}),l.jsx("div",{className:"space-y-4 mb-6",children:r.map(c=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[l.jsx("img",{src:c.product.image,alt:c.product.name,className:"w-16 h-16 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:c.product.name}),l.jsx("p",{className:"text-sm text-gray-600",children:c.product.unit}),l.jsx("p",{className:"text-emerald-600 font-bold",children:u(c.product.price)})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>n(c.product.id,c.quantity-1),className:"p-1 hover:bg-gray-100 rounded",disabled:c.quantity<=1,"aria-label":"Decrease quantity",children:l.jsx(L0,{className:"w-4 h-4"})}),l.jsx("span",{className:"w-8 text-center font-medium",children:c.quantity}),l.jsx("button",{onClick:()=>n(c.product.id,c.quantity+1),className:"p-1 hover:bg-gray-100 rounded","aria-label":"Increase quantity",children:l.jsx(da,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-gray-900",children:u(c.product.price*c.quantity)}),l.jsx("button",{onClick:()=>s(c.product.id),className:"text-red-600 hover:text-red-800 mt-1",children:l.jsx(ha,{className:"w-4 h-4"})})]})]},c.product.id))}),l.jsx("div",{className:"border-t pt-4 mb-6",children:l.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[l.jsxs("span",{children:[o("order.total"),":"]}),l.jsx("span",{className:"text-emerald-600",children:u(a)})]})}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:t,className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:o("order.continueShopping")}),l.jsx("button",{onClick:e,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors",children:o("order.checkout")})]})]})})})},ev=({onClose:t,onSuccess:e})=>{const{cart:r,createOrder:n,clearCart:s}=ze(),{t:i}=_e(),[o,a]=O.useState(!1),[u,c]=O.useState({clientName:"",clientPhone:"",clientEmail:"",notes:""}),[d,h]=O.useState({}),p=r.reduce((m,f)=>m+f.product.price*f.quantity,0),y=()=>{const m={};return u.clientName.trim()||(m.clientName=i("validation.required")),u.clientPhone.trim()||(m.clientPhone=i("validation.required")),u.clientEmail&&!/\S+@\S+\.\S+/.test(u.clientEmail)&&(m.clientEmail=i("validation.email")),h(m),Object.keys(m).length===0},x=async m=>{if(m.preventDefault(),!!y()){a(!0);try{await n({clientName:u.clientName,clientPhone:u.clientPhone,clientEmail:u.clientEmail||void 0,notes:u.notes||void 0,items:r}),s(),e(),t()}catch(f){console.error("Error creating order:",f),alert("Erreur lors de la cration de la commande")}finally{a(!1)}}},k=m=>`${m.toFixed(2)} ${i("currency.symbol")}`,S=()=>{const f=`Bonjour! Je souhaite passer une commande:

${r.map(v=>`${v.product.name} x${v.quantity} - ${k(v.product.price*v.quantity)}`).join(`
`)}

Total: ${k(p)}

Nom: ${u.clientName}
Tlphone: ${u.clientPhone}${u.notes?`
Notes: ${u.notes}`:""}`,g=`https://wa.me/1234567890?text=${encodeURIComponent(f)}`;window.open(g,"_blank")};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i("order.title")}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(yt,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:i("order.orderSummary")}),l.jsx("div",{className:"space-y-2",children:r.map(m=>l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsxs("span",{children:[m.product.name," x",m.quantity]}),l.jsx("span",{className:"font-medium",children:k(m.product.price*m.quantity)})]},m.product.id))}),l.jsxs("div",{className:"border-t mt-3 pt-3 flex justify-between items-center font-bold",children:[l.jsxs("span",{children:[i("order.total"),":"]}),l.jsx("span",{className:"text-emerald-600",children:k(p)})]})]}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i("order.clientName")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Mr,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",required:!0,value:u.clientName,onChange:m=>c({...u,clientName:m.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.clientName?"border-red-500":"border-gray-300"}`,placeholder:"Entrez votre nom complet"})]}),d.clientName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.clientName})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i("order.clientPhone")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ii,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"tel",required:!0,value:u.clientPhone,onChange:m=>c({...u,clientPhone:m.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.clientPhone?"border-red-500":"border-gray-300"}`,placeholder:"Entrez votre numro de tlphone"})]}),d.clientPhone&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.clientPhone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("order.clientEmail")}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(hl,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"email",value:u.clientEmail,onChange:m=>c({...u,clientEmail:m.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.clientEmail?"border-red-500":"border-gray-300"}`,placeholder:"Entrez votre email (optionnel)"})]}),d.clientEmail&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.clientEmail})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("order.notes")}),l.jsx("textarea",{rows:3,value:u.notes,onChange:m=>c({...u,notes:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none resize-none",placeholder:i("order.notesPlaceholder")})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsxs("button",{type:"submit",disabled:o,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[l.jsx(Pi,{className:"w-4 h-4"}),l.jsx("span",{children:i(o?"form.saving":"order.placeOrder")})]}),l.jsxs("button",{type:"button",onClick:S,className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(ii,{className:"w-4 h-4"}),l.jsx("span",{children:"WhatsApp"})]})]})]})]})})})};function tv(){const[t,e]=O.useState("catalog"),[r,n]=O.useState(!1),[s,i]=O.useState(!1),[o,a]=O.useState(null),u=()=>{n(!0)},c=()=>{n(!1),i(!0)},d=()=>{i(!1),a({type:"success",message:"Commande passe avec succs!"}),setTimeout(()=>a(null),3e3)};O.useEffect(()=>{const p=()=>{window.location.hash==="#catalog"&&(e("catalog"),window.location.hash="")};return window.addEventListener("hashchange",p),()=>window.removeEventListener("hashchange",p)},[]);const h=()=>{switch(t){case"login":return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsx(K0,{onSuccess:()=>e("catalog")})});case"admin":return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(Z0,{})})});case"categories":return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catgories de Produits"}),l.jsx("p",{className:"text-gray-600",children:"Parcourez notre large gamme de catgories de produits"})]}),l.jsx(Q0,{})]})});case"catalog":default:return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catalogue Produits"}),l.jsx("p",{className:"text-gray-600",children:"Dcouvrez nos produits frais et de qualit"})]}),l.jsx("div",{className:"mt-4 md:mt-0",children:l.jsx(q0,{})})]}),l.jsx(B0,{})]}),l.jsx(V0,{})]})})}};return l.jsx(S0,{children:l.jsxs(N0,{children:[l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:l.jsx("div",{className:"flex",children:l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-yellow-700",children:[l.jsx("strong",{children:"Mode Dmonstration:"})," L'application fonctionne avec des donnes de test. Pour utiliser une vraie base de donnes, configurez Supabase dans le fichier .env"]})})})}),l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(F0,{currentView:t,setCurrentView:e,onCartClick:u}),h(),r&&l.jsx(X0,{onClose:()=>n(!1),onCheckout:c}),s&&l.jsx(ev,{onClose:()=>i(!1),onSuccess:d}),o&&l.jsx(Ch,{type:o.type,message:o.message,onClose:()=>a(null)})]})]})})}eh(document.getElementById("root")).render(l.jsx(O.StrictMode,{children:l.jsx(tv,{})}));
