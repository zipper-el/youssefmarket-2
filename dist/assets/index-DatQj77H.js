(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Yu={exports:{}},di={},Xu={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=Symbol.for("react.element"),Bh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),Qh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),Gh=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),Zh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),Sl=Symbol.iterator;function Xh(t){return t===null||typeof t!="object"?null:(t=Sl&&t[Sl]||t["@@iterator"],typeof t=="function"?t:null)}var ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tc=Object.assign,rc={};function Vr(t,e,r){this.props=t,this.context=e,this.refs=rc,this.updater=r||ec}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nc(){}nc.prototype=Vr.prototype;function Sa(t,e,r){this.props=t,this.context=e,this.refs=rc,this.updater=r||ec}var ja=Sa.prototype=new nc;ja.constructor=Sa;tc(ja,Vr.prototype);ja.isPureReactComponent=!0;var jl=Array.isArray,sc=Object.prototype.hasOwnProperty,ba={current:null},ic={key:!0,ref:!0,__self:!0,__source:!0};function oc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)sc.call(e,n)&&!ic.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Kn,type:t,key:i,ref:o,props:s,_owner:ba.current}}function ef(t,e){return{$$typeof:Kn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Na(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kn}function tf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var bl=/\/+/g;function Di(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tf(""+t.key):e.toString(36)}function js(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kn:case Bh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Di(o,0):n,jl(s)?(r="",t!=null&&(r=t.replace(bl,"$&/")+"/"),js(s,e,r,"",function(c){return c})):s!=null&&(Na(s)&&(s=ef(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",jl(t))for(var a=0;a<t.length;a++){i=t[a];var u=n+Di(i,a);o+=js(i,e,r,u,s)}else if(u=Xh(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=n+Di(i,a++),o+=js(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rs(t,e,r){if(t==null)return t;var n=[],s=0;return js(t,n,"","",function(i){return e.call(r,i,s++)}),n}function rf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var be={current:null},bs={transition:null},nf={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:bs,ReactCurrentOwner:ba};function ac(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:rs,forEach:function(t,e,r){rs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return rs(t,function(){e++}),e},toArray:function(t){return rs(t,function(e){return e})||[]},only:function(t){if(!Na(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=Vr;M.Fragment=Wh;M.Profiler=Vh;M.PureComponent=Sa;M.StrictMode=Hh;M.Suspense=Jh;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf;M.act=ac;M.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=tc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ba.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)sc.call(e,u)&&!ic.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Kn,type:t.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(t){return t={$$typeof:Kh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qh,_context:t},t.Consumer=t};M.createElement=oc;M.createFactory=function(t){var e=oc.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:Gh,render:t}};M.isValidElement=Na;M.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:rf}};M.memo=function(t,e){return{$$typeof:Zh,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=bs.transition;bs.transition={};try{t()}finally{bs.transition=e}};M.unstable_act=ac;M.useCallback=function(t,e){return be.current.useCallback(t,e)};M.useContext=function(t){return be.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return be.current.useDeferredValue(t)};M.useEffect=function(t,e){return be.current.useEffect(t,e)};M.useId=function(){return be.current.useId()};M.useImperativeHandle=function(t,e,r){return be.current.useImperativeHandle(t,e,r)};M.useInsertionEffect=function(t,e){return be.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return be.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return be.current.useMemo(t,e)};M.useReducer=function(t,e,r){return be.current.useReducer(t,e,r)};M.useRef=function(t){return be.current.useRef(t)};M.useState=function(t){return be.current.useState(t)};M.useSyncExternalStore=function(t,e,r){return be.current.useSyncExternalStore(t,e,r)};M.useTransition=function(){return be.current.useTransition()};M.version="18.3.1";Xu.exports=M;var R=Xu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=R,of=Symbol.for("react.element"),af=Symbol.for("react.fragment"),lf=Object.prototype.hasOwnProperty,uf=sf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cf={key:!0,ref:!0,__self:!0,__source:!0};function lc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)lf.call(e,n)&&!cf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:of,type:t,key:i,ref:o,props:s,_owner:uf.current}}di.Fragment=af;di.jsx=lc;di.jsxs=lc;Yu.exports=di;var l=Yu.exports,uc={exports:{}},Ue={},cc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var U=O.length;O.push(L);e:for(;0<U;){var Y=U-1>>>1,oe=O[Y];if(0<s(oe,L))O[Y]=L,O[U]=oe,U=Y;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var L=O[0],U=O.pop();if(U!==L){O[0]=U;e:for(var Y=0,oe=O.length,dr=oe>>>1;Y<dr;){var lt=2*(Y+1)-1,hr=O[lt],ut=lt+1,C=O[ut];if(0>s(hr,U))ut<oe&&0>s(C,hr)?(O[Y]=C,O[ut]=U,Y=ut):(O[Y]=hr,O[lt]=U,Y=lt);else if(ut<oe&&0>s(C,U))O[Y]=C,O[ut]=U,Y=ut;else break e}}return L}function s(O,L){var U=O.sortIndex-L.sortIndex;return U!==0?U:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,g=3,y=!1,x=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=O)n(c),L.sortIndex=L.expirationTime,e(u,L);else break;L=r(c)}}function v(O){if(k=!1,m(O),!x)if(r(u)!==null)x=!0,Yr(b);else{var L=r(c);L!==null&&Xr(v,L.startTime-O)}}function b(O,L){x=!1,k&&(k=!1,p(_),_=-1),y=!0;var U=g;try{for(m(L),h=r(u);h!==null&&(!(h.expirationTime>L)||O&&!K());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,g=h.priorityLevel;var oe=Y(h.expirationTime<=L);L=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(u)&&n(u),m(L)}else n(u);h=r(u)}if(h!==null)var dr=!0;else{var lt=r(c);lt!==null&&Xr(v,lt.startTime-L),dr=!1}return dr}finally{h=null,g=U,y=!1}}var E=!1,w=null,_=-1,j=5,P=-1;function K(){return!(t.unstable_now()-P<j)}function ce(){if(w!==null){var O=t.unstable_now();P=O;var L=!0;try{L=w(!0,O)}finally{L?ie():(E=!1,w=null)}}else E=!1}var ie;if(typeof f=="function")ie=function(){f(ce)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Zr=I.port2;I.port1.onmessage=ce,ie=function(){Zr.postMessage(null)}}else ie=function(){S(ce,0)};function Yr(O){w=O,E||(E=!0,ie())}function Xr(O,L){_=S(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Yr(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(O){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var U=g;g=L;try{return O()}finally{g=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=g;g=O;try{return L()}finally{g=U}},t.unstable_scheduleCallback=function(O,L,U){var Y=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,O){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=U+oe,O={id:d++,callback:L,priorityLevel:O,startTime:U,expirationTime:oe,sortIndex:-1},U>Y?(O.sortIndex=U,e(c,O),r(u)===null&&O===r(c)&&(k?(p(_),_=-1):k=!0,Xr(v,U-Y))):(O.sortIndex=oe,e(u,O),x||y||(x=!0,Yr(b))),O},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(O){var L=g;return function(){var U=g;g=L;try{return O.apply(this,arguments)}finally{g=U}}}})(dc);cc.exports=dc;var df=cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=R,De=df;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hc=new Set,Cn={};function lr(t,e){Dr(t,e),Dr(t+"Capture",e)}function Dr(t,e){for(Cn[t]=e,t=0;t<e.length;t++)hc.add(e[t])}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=Object.prototype.hasOwnProperty,ff=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nl={},El={};function mf(t){return xo.call(El,t)?!0:xo.call(Nl,t)?!1:ff.test(t)?El[t]=!0:(Nl[t]=!0,!1)}function pf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gf(t,e,r,n){if(e===null||typeof e>"u"||pf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ne(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new Ne(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new Ne(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new Ne(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new Ne(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new Ne(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new Ne(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new Ne(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new Ne(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new Ne(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ea=/[\-:]([a-z])/g;function Ca(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ea,Ca);ge[e]=new Ne(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ea,Ca);ge[e]=new Ne(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ea,Ca);ge[e]=new Ne(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new Ne(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new Ne(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pa(t,e,r,n){var s=ge.hasOwnProperty(e)?ge[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gf(e,r,s,n)&&(r=null),n||s===null?mf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var kt=hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ns=Symbol.for("react.element"),xr=Symbol.for("react.portal"),wr=Symbol.for("react.fragment"),Ta=Symbol.for("react.strict_mode"),wo=Symbol.for("react.profiler"),fc=Symbol.for("react.provider"),mc=Symbol.for("react.context"),Oa=Symbol.for("react.forward_ref"),_o=Symbol.for("react.suspense"),ko=Symbol.for("react.suspense_list"),Aa=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),pc=Symbol.for("react.offscreen"),Cl=Symbol.iterator;function en(t){return t===null||typeof t!="object"?null:(t=Cl&&t[Cl]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Ui;function cn(t){if(Ui===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ui=e&&e[1]||""}return`
`+Ui+t}var zi=!1;function Mi(t,e){if(!t||zi)return"";zi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{zi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cn(t):""}function vf(t){switch(t.tag){case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return cn("Suspense");case 19:return cn("SuspenseList");case 0:case 2:case 15:return t=Mi(t.type,!1),t;case 11:return t=Mi(t.type.render,!1),t;case 1:return t=Mi(t.type,!0),t;default:return""}}function So(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wr:return"Fragment";case xr:return"Portal";case wo:return"Profiler";case Ta:return"StrictMode";case _o:return"Suspense";case ko:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mc:return(t.displayName||"Context")+".Consumer";case fc:return(t._context.displayName||"Context")+".Provider";case Oa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Aa:return e=t.displayName||null,e!==null?e:So(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return So(t(e))}catch{}}return null}function yf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return So(e);case 8:return e===Ta?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ft(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xf(t){var e=gc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ss(t){t._valueTracker||(t._valueTracker=xf(t))}function vc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=gc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jo(t,e){var r=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Pl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ft(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yc(t,e){e=e.checked,e!=null&&Pa(t,"checked",e,!1)}function bo(t,e){yc(t,e);var r=Ft(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?No(t,e.type,r):e.hasOwnProperty("defaultValue")&&No(t,e.type,Ft(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function No(t,e,r){(e!=="number"||Ds(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var dn=Array.isArray;function Or(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ft(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Eo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ol(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(dn(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ft(r)}}function xc(t,e){var r=Ft(e.value),n=Ft(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Al(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Co(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var is,_c=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=is.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(pn).forEach(function(t){wf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pn[e]=pn[t]})});function kc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pn.hasOwnProperty(t)&&pn[t]?(""+e).trim():e+"px"}function Sc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=kc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var _f=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Po(t,e){if(e){if(_f[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function To(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function $a(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ao=null,Ar=null,$r=null;function $l(t){if(t=Zn(t)){if(typeof Ao!="function")throw Error(N(280));var e=t.stateNode;e&&(e=gi(e),Ao(t.stateNode,t.type,e))}}function jc(t){Ar?$r?$r.push(t):$r=[t]:Ar=t}function bc(){if(Ar){var t=Ar,e=$r;if($r=Ar=null,$l(t),e)for(t=0;t<e.length;t++)$l(e[t])}}function Nc(t,e){return t(e)}function Ec(){}var Fi=!1;function Cc(t,e,r){if(Fi)return t(e,r);Fi=!0;try{return Nc(t,e,r)}finally{Fi=!1,(Ar!==null||$r!==null)&&(Ec(),bc())}}function Tn(t,e){var r=t.stateNode;if(r===null)return null;var n=gi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var $o=!1;if(vt)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){$o=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{$o=!1}function kf(t,e,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var gn=!1,Us=null,zs=!1,Ro=null,Sf={onError:function(t){gn=!0,Us=t}};function jf(t,e,r,n,s,i,o,a,u){gn=!1,Us=null,kf.apply(Sf,arguments)}function bf(t,e,r,n,s,i,o,a,u){if(jf.apply(this,arguments),gn){if(gn){var c=Us;gn=!1,Us=null}else throw Error(N(198));zs||(zs=!0,Ro=c)}}function ur(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Pc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rl(t){if(ur(t)!==t)throw Error(N(188))}function Nf(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Rl(s),t;if(i===n)return Rl(s),e;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function Tc(t){return t=Nf(t),t!==null?Oc(t):null}function Oc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Oc(t);if(e!==null)return e;t=t.sibling}return null}var Ac=De.unstable_scheduleCallback,Il=De.unstable_cancelCallback,Ef=De.unstable_shouldYield,Cf=De.unstable_requestPaint,se=De.unstable_now,Pf=De.unstable_getCurrentPriorityLevel,Ra=De.unstable_ImmediatePriority,$c=De.unstable_UserBlockingPriority,Ms=De.unstable_NormalPriority,Tf=De.unstable_LowPriority,Rc=De.unstable_IdlePriority,hi=null,ot=null;function Of(t){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(hi,t,void 0,(t.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Rf,Af=Math.log,$f=Math.LN2;function Rf(t){return t>>>=0,t===0?32:31-(Af(t)/$f|0)|0}var os=64,as=4194304;function hn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=hn(a):(i&=o,i!==0&&(n=hn(i)))}else o=r&~s,o!==0?n=hn(o):i!==0&&(n=hn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-et(e),s=1<<r,n|=t[r],e&=~s;return n}function If(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-et(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=If(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Io(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ic(){var t=os;return os<<=1,!(os&4194240)&&(os=64),t}function qi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-et(e),t[e]=r}function Df(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-et(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Ia(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-et(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var B=0;function Lc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dc,La,Uc,zc,Mc,Lo=!1,ls=[],$t=null,Rt=null,It=null,On=new Map,An=new Map,Ct=[],Uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":On.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(e.pointerId)}}function rn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zn(e),e!==null&&La(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function zf(t,e,r,n,s){switch(e){case"focusin":return $t=rn($t,t,e,r,n,s),!0;case"dragenter":return Rt=rn(Rt,t,e,r,n,s),!0;case"mouseover":return It=rn(It,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return On.set(i,rn(On.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,An.set(i,rn(An.get(i)||null,t,e,r,n,s)),!0}return!1}function Fc(t){var e=Yt(t.target);if(e!==null){var r=ur(e);if(r!==null){if(e=r.tag,e===13){if(e=Pc(r),e!==null){t.blockedOn=e,Mc(t.priority,function(){Uc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ns(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Do(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Oo=n,r.target.dispatchEvent(n),Oo=null}else return e=Zn(r),e!==null&&La(e),t.blockedOn=r,!1;e.shift()}return!0}function Dl(t,e,r){Ns(t)&&r.delete(e)}function Mf(){Lo=!1,$t!==null&&Ns($t)&&($t=null),Rt!==null&&Ns(Rt)&&(Rt=null),It!==null&&Ns(It)&&(It=null),On.forEach(Dl),An.forEach(Dl)}function nn(t,e){t.blockedOn===e&&(t.blockedOn=null,Lo||(Lo=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,Mf)))}function $n(t){function e(s){return nn(s,t)}if(0<ls.length){nn(ls[0],t);for(var r=1;r<ls.length;r++){var n=ls[r];n.blockedOn===t&&(n.blockedOn=null)}}for($t!==null&&nn($t,t),Rt!==null&&nn(Rt,t),It!==null&&nn(It,t),On.forEach(e),An.forEach(e),r=0;r<Ct.length;r++)n=Ct[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],r.blockedOn===null);)Fc(r),r.blockedOn===null&&Ct.shift()}var Rr=kt.ReactCurrentBatchConfig,qs=!0;function Ff(t,e,r,n){var s=B,i=Rr.transition;Rr.transition=null;try{B=1,Da(t,e,r,n)}finally{B=s,Rr.transition=i}}function qf(t,e,r,n){var s=B,i=Rr.transition;Rr.transition=null;try{B=4,Da(t,e,r,n)}finally{B=s,Rr.transition=i}}function Da(t,e,r,n){if(qs){var s=Do(t,e,r,n);if(s===null)Yi(t,e,n,Bs,r),Ll(t,n);else if(zf(s,t,e,r,n))n.stopPropagation();else if(Ll(t,n),e&4&&-1<Uf.indexOf(t)){for(;s!==null;){var i=Zn(s);if(i!==null&&Dc(i),i=Do(t,e,r,n),i===null&&Yi(t,e,n,Bs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Yi(t,e,n,null,r)}}var Bs=null;function Do(t,e,r,n){if(Bs=null,t=$a(n),t=Yt(t),t!==null)if(e=ur(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Pc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bs=t,null}function qc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pf()){case Ra:return 1;case $c:return 4;case Ms:case Tf:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var Ot=null,Ua=null,Es=null;function Bc(){if(Es)return Es;var t,e=Ua,r=e.length,n,s="value"in Ot?Ot.value:Ot.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Es=s.slice(t,1<n?1-n:void 0)}function Cs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function Ul(){return!1}function ze(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?us:Ul,this.isPropagationStopped=Ul,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),e}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=ze(Qr),Jn=te({},Qr,{view:0,detail:0}),Bf=ze(Jn),Bi,Wi,sn,fi=te({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sn&&(sn&&t.type==="mousemove"?(Bi=t.screenX-sn.screenX,Wi=t.screenY-sn.screenY):Wi=Bi=0,sn=t),Bi)},movementY:function(t){return"movementY"in t?t.movementY:Wi}}),zl=ze(fi),Wf=te({},fi,{dataTransfer:0}),Hf=ze(Wf),Vf=te({},Jn,{relatedTarget:0}),Hi=ze(Vf),Qf=te({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=ze(Qf),Gf=te({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jf=ze(Gf),Zf=te({},Qr,{data:0}),Ml=ze(Zf),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=em[t])?!!e[t]:!1}function Ma(){return tm}var rm=te({},Jn,{key:function(t){if(t.key){var e=Yf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nm=ze(rm),sm=te({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=ze(sm),im=te({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),om=ze(im),am=te({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lm=ze(am),um=te({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cm=ze(um),dm=[9,13,27,32],Fa=vt&&"CompositionEvent"in window,vn=null;vt&&"documentMode"in document&&(vn=document.documentMode);var hm=vt&&"TextEvent"in window&&!vn,Wc=vt&&(!Fa||vn&&8<vn&&11>=vn),ql=" ",Bl=!1;function Hc(t,e){switch(t){case"keyup":return dm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _r=!1;function fm(t,e){switch(t){case"compositionend":return Vc(e);case"keypress":return e.which!==32?null:(Bl=!0,ql);case"textInput":return t=e.data,t===ql&&Bl?null:t;default:return null}}function mm(t,e){if(_r)return t==="compositionend"||!Fa&&Hc(t,e)?(t=Bc(),Es=Ua=Ot=null,_r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wc&&e.locale!=="ko"?null:e.data;default:return null}}var pm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pm[t.type]:e==="textarea"}function Qc(t,e,r,n){jc(n),e=Ws(e,"onChange"),0<e.length&&(r=new za("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yn=null,Rn=null;function gm(t){sd(t,0)}function mi(t){var e=jr(t);if(vc(e))return t}function vm(t,e){if(t==="change")return e}var Kc=!1;if(vt){var Vi;if(vt){var Qi="oninput"in document;if(!Qi){var Hl=document.createElement("div");Hl.setAttribute("oninput","return;"),Qi=typeof Hl.oninput=="function"}Vi=Qi}else Vi=!1;Kc=Vi&&(!document.documentMode||9<document.documentMode)}function Vl(){yn&&(yn.detachEvent("onpropertychange",Gc),Rn=yn=null)}function Gc(t){if(t.propertyName==="value"&&mi(Rn)){var e=[];Qc(e,Rn,t,$a(t)),Cc(gm,e)}}function ym(t,e,r){t==="focusin"?(Vl(),yn=e,Rn=r,yn.attachEvent("onpropertychange",Gc)):t==="focusout"&&Vl()}function xm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mi(Rn)}function wm(t,e){if(t==="click")return mi(e)}function _m(t,e){if(t==="input"||t==="change")return mi(e)}function km(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rt=typeof Object.is=="function"?Object.is:km;function In(t,e){if(rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xo.call(e,s)||!rt(t[s],e[s]))return!1}return!0}function Ql(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kl(t,e){var r=Ql(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ql(r)}}function Jc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zc(){for(var t=window,e=Ds();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ds(t.document)}return e}function qa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sm(t){var e=Zc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Jc(r.ownerDocument.documentElement,r)){if(n!==null&&qa(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Kl(r,i);var o=Kl(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jm=vt&&"documentMode"in document&&11>=document.documentMode,kr=null,Uo=null,xn=null,zo=!1;function Gl(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zo||kr==null||kr!==Ds(n)||(n=kr,"selectionStart"in n&&qa(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xn&&In(xn,n)||(xn=n,n=Ws(Uo,"onSelect"),0<n.length&&(e=new za("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=kr)))}function cs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sr={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},Ki={},Yc={};vt&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function pi(t){if(Ki[t])return Ki[t];if(!Sr[t])return t;var e=Sr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Yc)return Ki[t]=e[r];return t}var Xc=pi("animationend"),ed=pi("animationiteration"),td=pi("animationstart"),rd=pi("transitionend"),nd=new Map,Jl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(t,e){nd.set(t,e),lr(e,[t])}for(var Gi=0;Gi<Jl.length;Gi++){var Ji=Jl[Gi],bm=Ji.toLowerCase(),Nm=Ji[0].toUpperCase()+Ji.slice(1);Bt(bm,"on"+Nm)}Bt(Xc,"onAnimationEnd");Bt(ed,"onAnimationIteration");Bt(td,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(rd,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Em=new Set("cancel close invalid load scroll toggle".split(" ").concat(fn));function Zl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,bf(n,e,void 0,t),t.currentTarget=null}function sd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Zl(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Zl(s,a,c),i=u}}}if(zs)throw t=Ro,zs=!1,Ro=null,t}function G(t,e){var r=e[Wo];r===void 0&&(r=e[Wo]=new Set);var n=t+"__bubble";r.has(n)||(id(e,t,2,!1),r.add(n))}function Zi(t,e,r){var n=0;e&&(n|=4),id(r,t,n,e)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Ln(t){if(!t[ds]){t[ds]=!0,hc.forEach(function(r){r!=="selectionchange"&&(Em.has(r)||Zi(r,!1,t),Zi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ds]||(e[ds]=!0,Zi("selectionchange",!1,e))}}function id(t,e,r,n){switch(qc(e)){case 1:var s=Ff;break;case 4:s=qf;break;default:s=Da}r=s.bind(null,e,r,t),s=void 0,!$o||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Yi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Yt(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Cc(function(){var c=i,d=$a(r),h=[];e:{var g=nd.get(t);if(g!==void 0){var y=za,x=t;switch(t){case"keypress":if(Cs(r)===0)break e;case"keydown":case"keyup":y=nm;break;case"focusin":x="focus",y=Hi;break;case"focusout":x="blur",y=Hi;break;case"beforeblur":case"afterblur":y=Hi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=om;break;case Xc:case ed:case td:y=Kf;break;case rd:y=lm;break;case"scroll":y=Bf;break;case"wheel":y=cm;break;case"copy":case"cut":case"paste":y=Jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Fl}var k=(e&4)!==0,S=!k&&t==="scroll",p=k?g!==null?g+"Capture":null:g;k=[];for(var f=c,m;f!==null;){m=f;var v=m.stateNode;if(m.tag===5&&v!==null&&(m=v,p!==null&&(v=Tn(f,p),v!=null&&k.push(Dn(f,v,m)))),S)break;f=f.return}0<k.length&&(g=new y(g,x,null,r,d),h.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&r!==Oo&&(x=r.relatedTarget||r.fromElement)&&(Yt(x)||x[yt]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=c,x=x?Yt(x):null,x!==null&&(S=ur(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(k=zl,v="onMouseLeave",p="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(k=Fl,v="onPointerLeave",p="onPointerEnter",f="pointer"),S=y==null?g:jr(y),m=x==null?g:jr(x),g=new k(v,f+"leave",y,r,d),g.target=S,g.relatedTarget=m,v=null,Yt(d)===c&&(k=new k(p,f+"enter",x,r,d),k.target=m,k.relatedTarget=S,v=k),S=v,y&&x)t:{for(k=y,p=x,f=0,m=k;m;m=fr(m))f++;for(m=0,v=p;v;v=fr(v))m++;for(;0<f-m;)k=fr(k),f--;for(;0<m-f;)p=fr(p),m--;for(;f--;){if(k===p||p!==null&&k===p.alternate)break t;k=fr(k),p=fr(p)}k=null}else k=null;y!==null&&Yl(h,g,y,k,!1),x!==null&&S!==null&&Yl(h,S,x,k,!0)}}e:{if(g=c?jr(c):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var b=vm;else if(Wl(g))if(Kc)b=_m;else{b=xm;var E=ym}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(b=wm);if(b&&(b=b(t,c))){Qc(h,b,r,d);break e}E&&E(t,g,c),t==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&No(g,"number",g.value)}switch(E=c?jr(c):window,t){case"focusin":(Wl(E)||E.contentEditable==="true")&&(kr=E,Uo=c,xn=null);break;case"focusout":xn=Uo=kr=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Gl(h,r,d);break;case"selectionchange":if(jm)break;case"keydown":case"keyup":Gl(h,r,d)}var w;if(Fa)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else _r?Hc(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Wc&&r.locale!=="ko"&&(_r||_!=="onCompositionStart"?_==="onCompositionEnd"&&_r&&(w=Bc()):(Ot=d,Ua="value"in Ot?Ot.value:Ot.textContent,_r=!0)),E=Ws(c,_),0<E.length&&(_=new Ml(_,t,null,r,d),h.push({event:_,listeners:E}),w?_.data=w:(w=Vc(r),w!==null&&(_.data=w)))),(w=hm?fm(t,r):mm(t,r))&&(c=Ws(c,"onBeforeInput"),0<c.length&&(d=new Ml("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=w))}sd(h,e)})}function Dn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ws(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tn(t,r),i!=null&&n.unshift(Dn(t,i,s)),i=Tn(t,e),i!=null&&n.push(Dn(t,i,s))),t=t.return}return n}function fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yl(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=Tn(r,i),u!=null&&o.unshift(Dn(r,u,a))):s||(u=Tn(r,i),u!=null&&o.push(Dn(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Cm=/\r\n?/g,Pm=/\u0000|\uFFFD/g;function Xl(t){return(typeof t=="string"?t:""+t).replace(Cm,`
`).replace(Pm,"")}function hs(t,e,r){if(e=Xl(e),Xl(t)!==e&&r)throw Error(N(425))}function Hs(){}var Mo=null,Fo=null;function qo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,Tm=typeof clearTimeout=="function"?clearTimeout:void 0,eu=typeof Promise=="function"?Promise:void 0,Om=typeof queueMicrotask=="function"?queueMicrotask:typeof eu<"u"?function(t){return eu.resolve(null).then(t).catch(Am)}:Bo;function Am(t){setTimeout(function(){throw t})}function Xi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),$n(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);$n(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),it="__reactFiber$"+Kr,Un="__reactProps$"+Kr,yt="__reactContainer$"+Kr,Wo="__reactEvents$"+Kr,$m="__reactListeners$"+Kr,Rm="__reactHandles$"+Kr;function Yt(t){var e=t[it];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yt]||r[it]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=tu(t);t!==null;){if(r=t[it])return r;t=tu(t)}return e}t=r,r=t.parentNode}return null}function Zn(t){return t=t[it]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function gi(t){return t[Un]||null}var Ho=[],br=-1;function Wt(t){return{current:t}}function J(t){0>br||(t.current=Ho[br],Ho[br]=null,br--)}function V(t,e){br++,Ho[br]=t.current,t.current=e}var qt={},_e=Wt(qt),Oe=Wt(!1),nr=qt;function Ur(t,e){var r=t.type.contextTypes;if(!r)return qt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(t){return t=t.childContextTypes,t!=null}function Vs(){J(Oe),J(_e)}function ru(t,e,r){if(_e.current!==qt)throw Error(N(168));V(_e,e),V(Oe,r)}function od(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(N(108,yf(t)||"Unknown",s));return te({},r,n)}function Qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qt,nr=_e.current,V(_e,t),V(Oe,Oe.current),!0}function nu(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=od(t,e,nr),n.__reactInternalMemoizedMergedChildContext=t,J(Oe),J(_e),V(_e,t)):J(Oe),V(Oe,r)}var ft=null,vi=!1,eo=!1;function ad(t){ft===null?ft=[t]:ft.push(t)}function Im(t){vi=!0,ad(t)}function Ht(){if(!eo&&ft!==null){eo=!0;var t=0,e=B;try{var r=ft;for(B=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ft=null,vi=!1}catch(s){throw ft!==null&&(ft=ft.slice(t+1)),Ac(Ra,Ht),s}finally{B=e,eo=!1}}return null}var Nr=[],Er=0,Ks=null,Gs=0,Fe=[],qe=0,sr=null,mt=1,pt="";function Kt(t,e){Nr[Er++]=Gs,Nr[Er++]=Ks,Ks=t,Gs=e}function ld(t,e,r){Fe[qe++]=mt,Fe[qe++]=pt,Fe[qe++]=sr,sr=t;var n=mt;t=pt;var s=32-et(n)-1;n&=~(1<<s),r+=1;var i=32-et(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,mt=1<<32-et(e)+s|r<<s|n,pt=i+t}else mt=1<<i|r<<s|n,pt=t}function Ba(t){t.return!==null&&(Kt(t,1),ld(t,1,0))}function Wa(t){for(;t===Ks;)Ks=Nr[--Er],Nr[Er]=null,Gs=Nr[--Er],Nr[Er]=null;for(;t===sr;)sr=Fe[--qe],Fe[qe]=null,pt=Fe[--qe],Fe[qe]=null,mt=Fe[--qe],Fe[qe]=null}var Le=null,Ie=null,Z=!1,Xe=null;function ud(t,e){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function su(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,Ie=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=sr!==null?{id:mt,overflow:pt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Le=t,Ie=null,!0):!1;default:return!1}}function Vo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qo(t){if(Z){var e=Ie;if(e){var r=e;if(!su(t,e)){if(Vo(t))throw Error(N(418));e=Lt(r.nextSibling);var n=Le;e&&su(t,e)?ud(n,r):(t.flags=t.flags&-4097|2,Z=!1,Le=t)}}else{if(Vo(t))throw Error(N(418));t.flags=t.flags&-4097|2,Z=!1,Le=t}}}function iu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function fs(t){if(t!==Le)return!1;if(!Z)return iu(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qo(t.type,t.memoizedProps)),e&&(e=Ie)){if(Vo(t))throw cd(),Error(N(418));for(;e;)ud(t,e),e=Lt(e.nextSibling)}if(iu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ie=Lt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ie=null}}else Ie=Le?Lt(t.stateNode.nextSibling):null;return!0}function cd(){for(var t=Ie;t;)t=Lt(t.nextSibling)}function zr(){Ie=Le=null,Z=!1}function Ha(t){Xe===null?Xe=[t]:Xe.push(t)}var Lm=kt.ReactCurrentBatchConfig;function on(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function ms(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ou(t){var e=t._init;return e(t._payload)}function dd(t){function e(p,f){if(t){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function r(p,f){if(!t)return null;for(;f!==null;)e(p,f),f=f.sibling;return null}function n(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=Mt(p,f),p.index=0,p.sibling=null,p}function i(p,f,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,f,m,v){return f===null||f.tag!==6?(f=ao(m,p.mode,v),f.return=p,f):(f=s(f,m),f.return=p,f)}function u(p,f,m,v){var b=m.type;return b===wr?d(p,f,m.props.children,v,m.key):f!==null&&(f.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===bt&&ou(b)===f.type)?(v=s(f,m.props),v.ref=on(p,f,m),v.return=p,v):(v=Is(m.type,m.key,m.props,null,p.mode,v),v.ref=on(p,f,m),v.return=p,v)}function c(p,f,m,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=lo(m,p.mode,v),f.return=p,f):(f=s(f,m.children||[]),f.return=p,f)}function d(p,f,m,v,b){return f===null||f.tag!==7?(f=rr(m,p.mode,v,b),f.return=p,f):(f=s(f,m),f.return=p,f)}function h(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ao(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ns:return m=Is(f.type,f.key,f.props,null,p.mode,m),m.ref=on(p,null,f),m.return=p,m;case xr:return f=lo(f,p.mode,m),f.return=p,f;case bt:var v=f._init;return h(p,v(f._payload),m)}if(dn(f)||en(f))return f=rr(f,p.mode,m,null),f.return=p,f;ms(p,f)}return null}function g(p,f,m,v){var b=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:a(p,f,""+m,v);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ns:return m.key===b?u(p,f,m,v):null;case xr:return m.key===b?c(p,f,m,v):null;case bt:return b=m._init,g(p,f,b(m._payload),v)}if(dn(m)||en(m))return b!==null?null:d(p,f,m,v,null);ms(p,m)}return null}function y(p,f,m,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(m)||null,a(f,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ns:return p=p.get(v.key===null?m:v.key)||null,u(f,p,v,b);case xr:return p=p.get(v.key===null?m:v.key)||null,c(f,p,v,b);case bt:var E=v._init;return y(p,f,m,E(v._payload),b)}if(dn(v)||en(v))return p=p.get(m)||null,d(f,p,v,b,null);ms(f,v)}return null}function x(p,f,m,v){for(var b=null,E=null,w=f,_=f=0,j=null;w!==null&&_<m.length;_++){w.index>_?(j=w,w=null):j=w.sibling;var P=g(p,w,m[_],v);if(P===null){w===null&&(w=j);break}t&&w&&P.alternate===null&&e(p,w),f=i(P,f,_),E===null?b=P:E.sibling=P,E=P,w=j}if(_===m.length)return r(p,w),Z&&Kt(p,_),b;if(w===null){for(;_<m.length;_++)w=h(p,m[_],v),w!==null&&(f=i(w,f,_),E===null?b=w:E.sibling=w,E=w);return Z&&Kt(p,_),b}for(w=n(p,w);_<m.length;_++)j=y(w,p,_,m[_],v),j!==null&&(t&&j.alternate!==null&&w.delete(j.key===null?_:j.key),f=i(j,f,_),E===null?b=j:E.sibling=j,E=j);return t&&w.forEach(function(K){return e(p,K)}),Z&&Kt(p,_),b}function k(p,f,m,v){var b=en(m);if(typeof b!="function")throw Error(N(150));if(m=b.call(m),m==null)throw Error(N(151));for(var E=b=null,w=f,_=f=0,j=null,P=m.next();w!==null&&!P.done;_++,P=m.next()){w.index>_?(j=w,w=null):j=w.sibling;var K=g(p,w,P.value,v);if(K===null){w===null&&(w=j);break}t&&w&&K.alternate===null&&e(p,w),f=i(K,f,_),E===null?b=K:E.sibling=K,E=K,w=j}if(P.done)return r(p,w),Z&&Kt(p,_),b;if(w===null){for(;!P.done;_++,P=m.next())P=h(p,P.value,v),P!==null&&(f=i(P,f,_),E===null?b=P:E.sibling=P,E=P);return Z&&Kt(p,_),b}for(w=n(p,w);!P.done;_++,P=m.next())P=y(w,p,_,P.value,v),P!==null&&(t&&P.alternate!==null&&w.delete(P.key===null?_:P.key),f=i(P,f,_),E===null?b=P:E.sibling=P,E=P);return t&&w.forEach(function(ce){return e(p,ce)}),Z&&Kt(p,_),b}function S(p,f,m,v){if(typeof m=="object"&&m!==null&&m.type===wr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ns:e:{for(var b=m.key,E=f;E!==null;){if(E.key===b){if(b=m.type,b===wr){if(E.tag===7){r(p,E.sibling),f=s(E,m.props.children),f.return=p,p=f;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===bt&&ou(b)===E.type){r(p,E.sibling),f=s(E,m.props),f.ref=on(p,E,m),f.return=p,p=f;break e}r(p,E);break}else e(p,E);E=E.sibling}m.type===wr?(f=rr(m.props.children,p.mode,v,m.key),f.return=p,p=f):(v=Is(m.type,m.key,m.props,null,p.mode,v),v.ref=on(p,f,m),v.return=p,p=v)}return o(p);case xr:e:{for(E=m.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(p,f.sibling),f=s(f,m.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else e(p,f);f=f.sibling}f=lo(m,p.mode,v),f.return=p,p=f}return o(p);case bt:return E=m._init,S(p,f,E(m._payload),v)}if(dn(m))return x(p,f,m,v);if(en(m))return k(p,f,m,v);ms(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(p,f.sibling),f=s(f,m),f.return=p,p=f):(r(p,f),f=ao(m,p.mode,v),f.return=p,p=f),o(p)):r(p,f)}return S}var Mr=dd(!0),hd=dd(!1),Js=Wt(null),Zs=null,Cr=null,Va=null;function Qa(){Va=Cr=Zs=null}function Ka(t){var e=Js.current;J(Js),t._currentValue=e}function Ko(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ir(t,e){Zs=t,Va=Cr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Te=!0),t.firstContext=null)}function Ve(t){var e=t._currentValue;if(Va!==t)if(t={context:t,memoizedValue:e,next:null},Cr===null){if(Zs===null)throw Error(N(308));Cr=t,Zs.dependencies={lanes:0,firstContext:t}}else Cr=Cr.next=t;return e}var Xt=null;function Ga(t){Xt===null?Xt=[t]:Xt.push(t)}function fd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ga(e)):(r.next=s.next,s.next=r),e.interleaved=r,xt(t,n)}function xt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Nt=!1;function Ja(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function md(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,xt(t,r)}return s=n.interleaved,s===null?(e.next=e,Ga(n)):(e.next=s.next,s.next=e),n.interleaved=e,xt(t,r)}function Ps(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ia(t,r)}}function au(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ys(t,e,r,n){var s=t.updateQueue;Nt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var g=a.lane,y=a.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,k=a;switch(g=e,y=r,k.tag){case 1:if(x=k.payload,typeof x=="function"){h=x.call(y,h,g);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,g=typeof x=="function"?x.call(y,h,g):x,g==null)break e;h=te({},h,g);break e;case 2:Nt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);or|=o,t.lanes=o,t.memoizedState=h}}function lu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var Yn={},at=Wt(Yn),zn=Wt(Yn),Mn=Wt(Yn);function er(t){if(t===Yn)throw Error(N(174));return t}function Za(t,e){switch(V(Mn,e),V(zn,t),V(at,Yn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Co(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Co(e,t)}J(at),V(at,e)}function Fr(){J(at),J(zn),J(Mn)}function pd(t){er(Mn.current);var e=er(at.current),r=Co(e,t.type);e!==r&&(V(zn,t),V(at,r))}function Ya(t){zn.current===t&&(J(at),J(zn))}var X=Wt(0);function Xs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var to=[];function Xa(){for(var t=0;t<to.length;t++)to[t]._workInProgressVersionPrimary=null;to.length=0}var Ts=kt.ReactCurrentDispatcher,ro=kt.ReactCurrentBatchConfig,ir=0,ee=null,le=null,he=null,ei=!1,wn=!1,Fn=0,Dm=0;function ve(){throw Error(N(321))}function el(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!rt(t[r],e[r]))return!1;return!0}function tl(t,e,r,n,s,i){if(ir=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ts.current=t===null||t.memoizedState===null?Fm:qm,t=r(n,s),wn){i=0;do{if(wn=!1,Fn=0,25<=i)throw Error(N(301));i+=1,he=le=null,e.updateQueue=null,Ts.current=Bm,t=r(n,s)}while(wn)}if(Ts.current=ti,e=le!==null&&le.next!==null,ir=0,he=le=ee=null,ei=!1,e)throw Error(N(300));return t}function rl(){var t=Fn!==0;return Fn=0,t}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?ee.memoizedState=he=t:he=he.next=t,he}function Qe(){if(le===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=he===null?ee.memoizedState:he.next;if(e!==null)he=e,le=t;else{if(t===null)throw Error(N(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},he===null?ee.memoizedState=he=t:he=he.next=t}return he}function qn(t,e){return typeof e=="function"?e(t):e}function no(t){var e=Qe(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=le,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((ir&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,ee.lanes|=d,or|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,rt(n,e.memoizedState)||(Te=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ee.lanes|=i,or|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function so(t){var e=Qe(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rt(i,e.memoizedState)||(Te=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function gd(){}function vd(t,e){var r=ee,n=Qe(),s=e(),i=!rt(n.memoizedState,s);if(i&&(n.memoizedState=s,Te=!0),n=n.queue,nl(wd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,Bn(9,xd.bind(null,r,n,s,e),void 0,null),fe===null)throw Error(N(349));ir&30||yd(r,e,s)}return s}function yd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xd(t,e,r,n){e.value=r,e.getSnapshot=n,_d(e)&&kd(t)}function wd(t,e,r){return r(function(){_d(e)&&kd(t)})}function _d(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!rt(t,r)}catch{return!0}}function kd(t){var e=xt(t,1);e!==null&&tt(e,t,1,-1)}function uu(t){var e=st();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:t},e.queue=t,t=t.dispatch=Mm.bind(null,ee,t),[e.memoizedState,t]}function Bn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Sd(){return Qe().memoizedState}function Os(t,e,r,n){var s=st();ee.flags|=t,s.memoizedState=Bn(1|e,r,void 0,n===void 0?null:n)}function yi(t,e,r,n){var s=Qe();n=n===void 0?null:n;var i=void 0;if(le!==null){var o=le.memoizedState;if(i=o.destroy,n!==null&&el(n,o.deps)){s.memoizedState=Bn(e,r,i,n);return}}ee.flags|=t,s.memoizedState=Bn(1|e,r,i,n)}function cu(t,e){return Os(8390656,8,t,e)}function nl(t,e){return yi(2048,8,t,e)}function jd(t,e){return yi(4,2,t,e)}function bd(t,e){return yi(4,4,t,e)}function Nd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ed(t,e,r){return r=r!=null?r.concat([t]):null,yi(4,4,Nd.bind(null,e,t),r)}function sl(){}function Cd(t,e){var r=Qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&el(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Pd(t,e){var r=Qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&el(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Td(t,e,r){return ir&21?(rt(r,e)||(r=Ic(),ee.lanes|=r,or|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Te=!0),t.memoizedState=r)}function Um(t,e){var r=B;B=r!==0&&4>r?r:4,t(!0);var n=ro.transition;ro.transition={};try{t(!1),e()}finally{B=r,ro.transition=n}}function Od(){return Qe().memoizedState}function zm(t,e,r){var n=zt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ad(t))$d(e,r);else if(r=fd(t,e,r,n),r!==null){var s=je();tt(r,t,n,s),Rd(r,e,n)}}function Mm(t,e,r){var n=zt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ad(t))$d(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,rt(a,o)){var u=e.interleaved;u===null?(s.next=s,Ga(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=fd(t,e,s,n),r!==null&&(s=je(),tt(r,t,n,s),Rd(r,e,n))}}function Ad(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function $d(t,e){wn=ei=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Rd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ia(t,r)}}var ti={readContext:Ve,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Fm={readContext:Ve,useCallback:function(t,e){return st().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:cu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Os(4194308,4,Nd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Os(4194308,4,t,e)},useInsertionEffect:function(t,e){return Os(4,2,t,e)},useMemo:function(t,e){var r=st();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=st();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=zm.bind(null,ee,t),[n.memoizedState,t]},useRef:function(t){var e=st();return t={current:t},e.memoizedState=t},useState:uu,useDebugValue:sl,useDeferredValue:function(t){return st().memoizedState=t},useTransition:function(){var t=uu(!1),e=t[0];return t=Um.bind(null,t[1]),st().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ee,s=st();if(Z){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),fe===null)throw Error(N(349));ir&30||yd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,cu(wd.bind(null,n,i,t),[t]),n.flags|=2048,Bn(9,xd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=st(),e=fe.identifierPrefix;if(Z){var r=pt,n=mt;r=(n&~(1<<32-et(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Dm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qm={readContext:Ve,useCallback:Cd,useContext:Ve,useEffect:nl,useImperativeHandle:Ed,useInsertionEffect:jd,useLayoutEffect:bd,useMemo:Pd,useReducer:no,useRef:Sd,useState:function(){return no(qn)},useDebugValue:sl,useDeferredValue:function(t){var e=Qe();return Td(e,le.memoizedState,t)},useTransition:function(){var t=no(qn)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:gd,useSyncExternalStore:vd,useId:Od,unstable_isNewReconciler:!1},Bm={readContext:Ve,useCallback:Cd,useContext:Ve,useEffect:nl,useImperativeHandle:Ed,useInsertionEffect:jd,useLayoutEffect:bd,useMemo:Pd,useReducer:so,useRef:Sd,useState:function(){return so(qn)},useDebugValue:sl,useDeferredValue:function(t){var e=Qe();return le===null?e.memoizedState=t:Td(e,le.memoizedState,t)},useTransition:function(){var t=so(qn)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:gd,useSyncExternalStore:vd,useId:Od,unstable_isNewReconciler:!1};function Je(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Go(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:te({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xi={isMounted:function(t){return(t=t._reactInternals)?ur(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=je(),s=zt(t),i=gt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Dt(t,i,s),e!==null&&(tt(e,t,s,n),Ps(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=je(),s=zt(t),i=gt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Dt(t,i,s),e!==null&&(tt(e,t,s,n),Ps(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=je(),n=zt(t),s=gt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Dt(t,s,n),e!==null&&(tt(e,t,n,r),Ps(e,t,n))}};function du(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!In(r,n)||!In(s,i):!0}function Id(t,e,r){var n=!1,s=qt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(s=Ae(e)?nr:_e.current,n=e.contextTypes,i=(n=n!=null)?Ur(t,s):qt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&xi.enqueueReplaceState(e,e.state,null)}function Jo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Ja(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ve(i):(i=Ae(e)?nr:_e.current,s.context=Ur(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Go(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xi.enqueueReplaceState(s,s.state,null),Ys(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qr(t,e){try{var r="",n=e;do r+=vf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function io(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Zo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Wm=typeof WeakMap=="function"?WeakMap:Map;function Ld(t,e,r){r=gt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ni||(ni=!0,aa=n),Zo(t,e)},r}function Dd(t,e,r){r=gt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Zo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zo(t,e),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function fu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Wm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=sp.bind(null,t,e,r),e.then(t,t))}function mu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gt(-1,1),e.tag=2,Dt(r,e,1))),r.lanes|=1),t)}var Hm=kt.ReactCurrentOwner,Te=!1;function Se(t,e,r,n){e.child=t===null?hd(e,null,r,n):Mr(e,t.child,r,n)}function gu(t,e,r,n,s){r=r.render;var i=e.ref;return Ir(e,s),n=tl(t,e,r,n,i,s),r=rl(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wt(t,e,s)):(Z&&r&&Ba(e),e.flags|=1,Se(t,e,n,s),e.child)}function vu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!hl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Ud(t,e,i,n,s)):(t=Is(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:In,r(o,n)&&t.ref===e.ref)return wt(t,e,s)}return e.flags|=1,t=Mt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Ud(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(In(i,n)&&t.ref===e.ref)if(Te=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Te=!0);else return e.lanes=t.lanes,wt(t,e,s)}return Yo(t,e,r,n,s)}function zd(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Tr,Re),Re|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(Tr,Re),Re|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,V(Tr,Re),Re|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,V(Tr,Re),Re|=n;return Se(t,e,s,r),e.child}function Md(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Yo(t,e,r,n,s){var i=Ae(r)?nr:_e.current;return i=Ur(e,i),Ir(e,s),r=tl(t,e,r,n,i,s),n=rl(),t!==null&&!Te?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wt(t,e,s)):(Z&&n&&Ba(e),e.flags|=1,Se(t,e,r,s),e.child)}function yu(t,e,r,n,s){if(Ae(r)){var i=!0;Qs(e)}else i=!1;if(Ir(e,s),e.stateNode===null)As(t,e),Id(e,r,n),Jo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ve(c):(c=Ae(r)?nr:_e.current,c=Ur(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&hu(e,o,n,c),Nt=!1;var g=e.memoizedState;o.state=g,Ys(e,n,o,s),u=e.memoizedState,a!==n||g!==u||Oe.current||Nt?(typeof d=="function"&&(Go(e,r,d,n),u=e.memoizedState),(a=Nt||du(e,r,a,n,g,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,md(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Je(e.type,a),o.props=c,h=e.pendingProps,g=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ve(u):(u=Ae(r)?nr:_e.current,u=Ur(e,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==u)&&hu(e,o,n,u),Nt=!1,g=e.memoizedState,o.state=g,Ys(e,n,o,s);var x=e.memoizedState;a!==h||g!==x||Oe.current||Nt?(typeof y=="function"&&(Go(e,r,y,n),x=e.memoizedState),(c=Nt||du(e,r,c,n,g,x,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return Xo(t,e,r,n,i,s)}function Xo(t,e,r,n,s,i){Md(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&nu(e,r,!1),wt(t,e,i);n=e.stateNode,Hm.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Mr(e,t.child,null,i),e.child=Mr(e,null,a,i)):Se(t,e,a,i),e.memoizedState=n.state,s&&nu(e,r,!0),e.child}function Fd(t){var e=t.stateNode;e.pendingContext?ru(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ru(t,e.context,!1),Za(t,e.containerInfo)}function xu(t,e,r,n,s){return zr(),Ha(s),e.flags|=256,Se(t,e,r,n),e.child}var ea={dehydrated:null,treeContext:null,retryLane:0};function ta(t){return{baseLanes:t,cachePool:null,transitions:null}}function qd(t,e,r){var n=e.pendingProps,s=X.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),V(X,s&1),t===null)return Qo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ki(o,n,0,null),t=rr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ta(r),e.memoizedState=ea,t):il(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Vm(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Mt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mt(a,i):(i=rr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ta(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ea,n}return i=t.child,t=i.sibling,n=Mt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function il(t,e){return e=ki({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ps(t,e,r,n){return n!==null&&Ha(n),Mr(e,t.child,null,r),t=il(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vm(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=io(Error(N(422))),ps(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ki({mode:"visible",children:n.children},s,0,null),i=rr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Mr(e,t.child,null,o),e.child.memoizedState=ta(o),e.memoizedState=ea,i);if(!(e.mode&1))return ps(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(N(419)),n=io(i,n,void 0),ps(t,e,o,n)}if(a=(o&t.childLanes)!==0,Te||a){if(n=fe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xt(t,s),tt(n,t,s,-1))}return dl(),n=io(Error(N(421))),ps(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ip.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ie=Lt(s.nextSibling),Le=e,Z=!0,Xe=null,t!==null&&(Fe[qe++]=mt,Fe[qe++]=pt,Fe[qe++]=sr,mt=t.id,pt=t.overflow,sr=e),e=il(e,n.children),e.flags|=4096,e)}function wu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ko(t.return,e,r)}function oo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Bd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Se(t,e,n.children,r),n=X.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wu(t,r,e);else if(t.tag===19)wu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(V(X,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Xs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),oo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}oo(e,!0,r,null,i);break;case"together":oo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),or|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=Mt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Mt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Qm(t,e,r){switch(e.tag){case 3:Fd(e),zr();break;case 5:pd(e);break;case 1:Ae(e.type)&&Qs(e);break;case 4:Za(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;V(Js,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(V(X,X.current&1),e.flags|=128,null):r&e.child.childLanes?qd(t,e,r):(V(X,X.current&1),t=wt(t,e,r),t!==null?t.sibling:null);V(X,X.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Bd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(X,X.current),n)break;return null;case 22:case 23:return e.lanes=0,zd(t,e,r)}return wt(t,e,r)}var Wd,ra,Hd,Vd;Wd=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ra=function(){};Hd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,er(at.current);var i=null;switch(r){case"input":s=jo(t,s),n=jo(t,n),i=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":s=Eo(t,s),n=Eo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hs)}Po(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&G("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Vd=function(t,e,r,n){r!==n&&(e.flags|=4)};function an(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Km(t,e,r){var n=e.pendingProps;switch(Wa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return Ae(e.type)&&Vs(),ye(e),null;case 3:return n=e.stateNode,Fr(),J(Oe),J(_e),Xa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xe!==null&&(ca(Xe),Xe=null))),ra(t,e),ye(e),null;case 5:Ya(e);var s=er(Mn.current);if(r=e.type,t!==null&&e.stateNode!=null)Hd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return ye(e),null}if(t=er(at.current),fs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[it]=e,n[Un]=i,t=(e.mode&1)!==0,r){case"dialog":G("cancel",n),G("close",n);break;case"iframe":case"object":case"embed":G("load",n);break;case"video":case"audio":for(s=0;s<fn.length;s++)G(fn[s],n);break;case"source":G("error",n);break;case"img":case"image":case"link":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"input":Pl(n,i),G("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},G("invalid",n);break;case"textarea":Ol(n,i),G("invalid",n)}Po(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&hs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hs(n.textContent,a,t),s=["children",""+a]):Cn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&G("scroll",n)}switch(r){case"input":ss(n),Tl(n,i,!0);break;case"textarea":ss(n),Al(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[it]=e,t[Un]=n,Wd(t,e,!1,!1),e.stateNode=t;e:{switch(o=To(r,n),r){case"dialog":G("cancel",t),G("close",t),s=n;break;case"iframe":case"object":case"embed":G("load",t),s=n;break;case"video":case"audio":for(s=0;s<fn.length;s++)G(fn[s],t);s=n;break;case"source":G("error",t),s=n;break;case"img":case"image":case"link":G("error",t),G("load",t),s=n;break;case"details":G("toggle",t),s=n;break;case"input":Pl(t,n),s=jo(t,n),G("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),G("invalid",t);break;case"textarea":Ol(t,n),s=Eo(t,n),G("invalid",t);break;default:s=n}Po(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Sc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_c(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Pn(t,u):typeof u=="number"&&Pn(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&G("scroll",t):u!=null&&Pa(t,i,u,o))}switch(r){case"input":ss(t),Tl(t,n,!1);break;case"textarea":ss(t),Al(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ft(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Or(t,!!n.multiple,i,!1):n.defaultValue!=null&&Or(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ye(e),null;case 6:if(t&&e.stateNode!=null)Vd(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=er(Mn.current),er(at.current),fs(e)){if(n=e.stateNode,r=e.memoizedProps,n[it]=e,(i=n.nodeValue!==r)&&(t=Le,t!==null))switch(t.tag){case 3:hs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[it]=e,e.stateNode=n}return ye(e),null;case 13:if(J(X),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&Ie!==null&&e.mode&1&&!(e.flags&128))cd(),zr(),e.flags|=98560,i=!1;else if(i=fs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[it]=e}else zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),i=!1}else Xe!==null&&(ca(Xe),Xe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?ue===0&&(ue=3):dl())),e.updateQueue!==null&&(e.flags|=4),ye(e),null);case 4:return Fr(),ra(t,e),t===null&&Ln(e.stateNode.containerInfo),ye(e),null;case 10:return Ka(e.type._context),ye(e),null;case 17:return Ae(e.type)&&Vs(),ye(e),null;case 19:if(J(X),i=e.memoizedState,i===null)return ye(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)an(i,!1);else{if(ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xs(t),o!==null){for(e.flags|=128,an(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return V(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&se()>Br&&(e.flags|=128,n=!0,an(i,!1),e.lanes=4194304)}else{if(!n)if(t=Xs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),an(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Z)return ye(e),null}else 2*se()-i.renderingStartTime>Br&&r!==1073741824&&(e.flags|=128,n=!0,an(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=se(),e.sibling=null,r=X.current,V(X,n?r&1|2:r&1),e):(ye(e),null);case 22:case 23:return cl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Re&1073741824&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Gm(t,e){switch(Wa(e),e.tag){case 1:return Ae(e.type)&&Vs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fr(),J(Oe),J(_e),Xa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ya(e),null;case 13:if(J(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(X),null;case 4:return Fr(),null;case 10:return Ka(e.type._context),null;case 22:case 23:return cl(),null;case 24:return null;default:return null}}var gs=!1,we=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,$=null;function Pr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(t,e,n)}else r.current=null}function na(t,e,r){try{r()}catch(n){re(t,e,n)}}var _u=!1;function Zm(t,e){if(Mo=qs,t=Zc(),qa(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=t,g=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)g=h,h=y;for(;;){if(h===t)break t;if(g===r&&++c===s&&(a=o),g===i&&++d===n&&(u=o),(y=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=y}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fo={focusedElem:t,selectionRange:r},qs=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,S=x.memoizedState,p=e.stateNode,f=p.getSnapshotBeforeUpdate(e.elementType===e.type?k:Je(e.type,k),S);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(v){re(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return x=_u,_u=!1,x}function _n(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&na(e,r,i)}s=s.next}while(s!==n)}}function wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sa(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Qd(t){var e=t.alternate;e!==null&&(t.alternate=null,Qd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[it],delete e[Un],delete e[Wo],delete e[$m],delete e[Rm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kd(t){return t.tag===5||t.tag===3||t.tag===4}function ku(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ia(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hs));else if(n!==4&&(t=t.child,t!==null))for(ia(t,e,r),t=t.sibling;t!==null;)ia(t,e,r),t=t.sibling}function oa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(oa(t,e,r),t=t.sibling;t!==null;)oa(t,e,r),t=t.sibling}var me=null,Ze=!1;function St(t,e,r){for(r=r.child;r!==null;)Gd(t,e,r),r=r.sibling}function Gd(t,e,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(hi,r)}catch{}switch(r.tag){case 5:we||Pr(r,e);case 6:var n=me,s=Ze;me=null,St(t,e,r),me=n,Ze=s,me!==null&&(Ze?(t=me,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):me.removeChild(r.stateNode));break;case 18:me!==null&&(Ze?(t=me,r=r.stateNode,t.nodeType===8?Xi(t.parentNode,r):t.nodeType===1&&Xi(t,r),$n(t)):Xi(me,r.stateNode));break;case 4:n=me,s=Ze,me=r.stateNode.containerInfo,Ze=!0,St(t,e,r),me=n,Ze=s;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&na(r,e,o),s=s.next}while(s!==n)}St(t,e,r);break;case 1:if(!we&&(Pr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){re(r,e,a)}St(t,e,r);break;case 21:St(t,e,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,St(t,e,r),we=n):St(t,e,r);break;default:St(t,e,r)}}function Su(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Jm),e.forEach(function(n){var s=op.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ke(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:me=a.stateNode,Ze=!1;break e;case 3:me=a.stateNode.containerInfo,Ze=!0;break e;case 4:me=a.stateNode.containerInfo,Ze=!0;break e}a=a.return}if(me===null)throw Error(N(160));Gd(i,o,s),me=null,Ze=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){re(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jd(e,t),e=e.sibling}function Jd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ke(e,t),nt(t),n&4){try{_n(3,t,t.return),wi(3,t)}catch(k){re(t,t.return,k)}try{_n(5,t,t.return)}catch(k){re(t,t.return,k)}}break;case 1:Ke(e,t),nt(t),n&512&&r!==null&&Pr(r,r.return);break;case 5:if(Ke(e,t),nt(t),n&512&&r!==null&&Pr(r,r.return),t.flags&32){var s=t.stateNode;try{Pn(s,"")}catch(k){re(t,t.return,k)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yc(s,i),To(a,o);var c=To(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?Sc(s,h):d==="dangerouslySetInnerHTML"?_c(s,h):d==="children"?Pn(s,h):Pa(s,d,h,c)}switch(a){case"input":bo(s,i);break;case"textarea":xc(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Or(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?Or(s,!!i.multiple,i.defaultValue,!0):Or(s,!!i.multiple,i.multiple?[]:"",!1))}s[Un]=i}catch(k){re(t,t.return,k)}}break;case 6:if(Ke(e,t),nt(t),n&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){re(t,t.return,k)}}break;case 3:if(Ke(e,t),nt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$n(e.containerInfo)}catch(k){re(t,t.return,k)}break;case 4:Ke(e,t),nt(t);break;case 13:Ke(e,t),nt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ll=se())),n&4&&Su(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(we=(c=we)||d,Ke(e,t),we=c):Ke(e,t),nt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for($=t,d=t.child;d!==null;){for(h=$=d;$!==null;){switch(g=$,y=g.child,g.tag){case 0:case 11:case 14:case 15:_n(4,g,g.return);break;case 1:Pr(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(k){re(n,r,k)}}break;case 5:Pr(g,g.return);break;case 22:if(g.memoizedState!==null){bu(h);continue}}y!==null?(y.return=g,$=y):bu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=kc("display",o))}catch(k){re(t,t.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){re(t,t.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(e,t),nt(t),n&4&&Su(t);break;case 21:break;default:Ke(e,t),nt(t)}}function nt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Kd(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Pn(s,""),n.flags&=-33);var i=ku(t);oa(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ku(t);ia(t,a,o);break;default:throw Error(N(161))}}catch(u){re(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ym(t,e,r){$=t,Zd(t)}function Zd(t,e,r){for(var n=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||gs;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||we;a=gs;var c=we;if(gs=o,(we=u)&&!c)for($=s;$!==null;)o=$,u=o.child,o.tag===22&&o.memoizedState!==null?Nu(s):u!==null?(u.return=o,$=u):Nu(s);for(;i!==null;)$=i,Zd(i),i=i.sibling;$=s,gs=a,we=c}ju(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):ju(t)}}function ju(t){for(;$!==null;){var e=$;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||wi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!we)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Je(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$n(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}we||e.flags&512&&sa(e)}catch(g){re(e,e.return,g)}}if(e===t){$=null;break}if(r=e.sibling,r!==null){r.return=e.return,$=r;break}$=e.return}}function bu(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$=r;break}$=e.return}}function Nu(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{wi(4,e)}catch(u){re(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){re(e,s,u)}}var i=e.return;try{sa(e)}catch(u){re(e,i,u)}break;case 5:var o=e.return;try{sa(e)}catch(u){re(e,o,u)}}}catch(u){re(e,e.return,u)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var Xm=Math.ceil,ri=kt.ReactCurrentDispatcher,ol=kt.ReactCurrentOwner,We=kt.ReactCurrentBatchConfig,q=0,fe=null,ae=null,pe=0,Re=0,Tr=Wt(0),ue=0,Wn=null,or=0,_i=0,al=0,kn=null,Ce=null,ll=0,Br=1/0,dt=null,ni=!1,aa=null,Ut=null,vs=!1,At=null,si=0,Sn=0,la=null,$s=-1,Rs=0;function je(){return q&6?se():$s!==-1?$s:$s=se()}function zt(t){return t.mode&1?q&2&&pe!==0?pe&-pe:Lm.transition!==null?(Rs===0&&(Rs=Ic()),Rs):(t=B,t!==0||(t=window.event,t=t===void 0?16:qc(t.type)),t):1}function tt(t,e,r,n){if(50<Sn)throw Sn=0,la=null,Error(N(185));Gn(t,r,n),(!(q&2)||t!==fe)&&(t===fe&&(!(q&2)&&(_i|=r),ue===4&&Pt(t,pe)),$e(t,n),r===1&&q===0&&!(e.mode&1)&&(Br=se()+500,vi&&Ht()))}function $e(t,e){var r=t.callbackNode;Lf(t,e);var n=Fs(t,t===fe?pe:0);if(n===0)r!==null&&Il(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Il(r),e===1)t.tag===0?Im(Eu.bind(null,t)):ad(Eu.bind(null,t)),Om(function(){!(q&6)&&Ht()}),r=null;else{switch(Lc(n)){case 1:r=Ra;break;case 4:r=$c;break;case 16:r=Ms;break;case 536870912:r=Rc;break;default:r=Ms}r=ih(r,Yd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Yd(t,e){if($s=-1,Rs=0,q&6)throw Error(N(327));var r=t.callbackNode;if(Lr()&&t.callbackNode!==r)return null;var n=Fs(t,t===fe?pe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ii(t,n);else{e=n;var s=q;q|=2;var i=eh();(fe!==t||pe!==e)&&(dt=null,Br=se()+500,tr(t,e));do try{rp();break}catch(a){Xd(t,a)}while(!0);Qa(),ri.current=i,q=s,ae!==null?e=0:(fe=null,pe=0,e=ue)}if(e!==0){if(e===2&&(s=Io(t),s!==0&&(n=s,e=ua(t,s))),e===1)throw r=Wn,tr(t,0),Pt(t,n),$e(t,se()),r;if(e===6)Pt(t,n);else{if(s=t.current.alternate,!(n&30)&&!ep(s)&&(e=ii(t,n),e===2&&(i=Io(t),i!==0&&(n=i,e=ua(t,i))),e===1))throw r=Wn,tr(t,0),Pt(t,n),$e(t,se()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:Gt(t,Ce,dt);break;case 3:if(Pt(t,n),(n&130023424)===n&&(e=ll+500-se(),10<e)){if(Fs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){je(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bo(Gt.bind(null,t,Ce,dt),e);break}Gt(t,Ce,dt);break;case 4:if(Pt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-et(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Xm(n/1960))-n,10<n){t.timeoutHandle=Bo(Gt.bind(null,t,Ce,dt),n);break}Gt(t,Ce,dt);break;case 5:Gt(t,Ce,dt);break;default:throw Error(N(329))}}}return $e(t,se()),t.callbackNode===r?Yd.bind(null,t):null}function ua(t,e){var r=kn;return t.current.memoizedState.isDehydrated&&(tr(t,e).flags|=256),t=ii(t,e),t!==2&&(e=Ce,Ce=r,e!==null&&ca(e)),t}function ca(t){Ce===null?Ce=t:Ce.push.apply(Ce,t)}function ep(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!rt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~al,e&=~_i,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-et(e),n=1<<r;t[r]=-1,e&=~n}}function Eu(t){if(q&6)throw Error(N(327));Lr();var e=Fs(t,0);if(!(e&1))return $e(t,se()),null;var r=ii(t,e);if(t.tag!==0&&r===2){var n=Io(t);n!==0&&(e=n,r=ua(t,n))}if(r===1)throw r=Wn,tr(t,0),Pt(t,e),$e(t,se()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gt(t,Ce,dt),$e(t,se()),null}function ul(t,e){var r=q;q|=1;try{return t(e)}finally{q=r,q===0&&(Br=se()+500,vi&&Ht())}}function ar(t){At!==null&&At.tag===0&&!(q&6)&&Lr();var e=q;q|=1;var r=We.transition,n=B;try{if(We.transition=null,B=1,t)return t()}finally{B=n,We.transition=r,q=e,!(q&6)&&Ht()}}function cl(){Re=Tr.current,J(Tr)}function tr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Tm(r)),ae!==null)for(r=ae.return;r!==null;){var n=r;switch(Wa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vs();break;case 3:Fr(),J(Oe),J(_e),Xa();break;case 5:Ya(n);break;case 4:Fr();break;case 13:J(X);break;case 19:J(X);break;case 10:Ka(n.type._context);break;case 22:case 23:cl()}r=r.return}if(fe=t,ae=t=Mt(t.current,null),pe=Re=e,ue=0,Wn=null,al=_i=or=0,Ce=kn=null,Xt!==null){for(e=0;e<Xt.length;e++)if(r=Xt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Xt=null}return t}function Xd(t,e){do{var r=ae;try{if(Qa(),Ts.current=ti,ei){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ei=!1}if(ir=0,he=le=ee=null,wn=!1,Fn=0,ol.current=null,r===null||r.return===null){ue=1,Wn=e,ae=null;break}e:{var i=t,o=r.return,a=r,u=e;if(e=pe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=mu(o);if(y!==null){y.flags&=-257,pu(y,o,a,i,e),y.mode&1&&fu(i,c,e),e=y,u=c;var x=e.updateQueue;if(x===null){var k=new Set;k.add(u),e.updateQueue=k}else x.add(u);break e}else{if(!(e&1)){fu(i,c,e),dl();break e}u=Error(N(426))}}else if(Z&&a.mode&1){var S=mu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),pu(S,o,a,i,e),Ha(qr(u,a));break e}}i=u=qr(u,a),ue!==4&&(ue=2),kn===null?kn=[i]:kn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Ld(i,u,e);au(i,p);break e;case 1:a=u;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ut===null||!Ut.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=Dd(i,a,e);au(i,v);break e}}i=i.return}while(i!==null)}rh(r)}catch(b){e=b,ae===r&&r!==null&&(ae=r=r.return);continue}break}while(!0)}function eh(){var t=ri.current;return ri.current=ti,t===null?ti:t}function dl(){(ue===0||ue===3||ue===2)&&(ue=4),fe===null||!(or&268435455)&&!(_i&268435455)||Pt(fe,pe)}function ii(t,e){var r=q;q|=2;var n=eh();(fe!==t||pe!==e)&&(dt=null,tr(t,e));do try{tp();break}catch(s){Xd(t,s)}while(!0);if(Qa(),q=r,ri.current=n,ae!==null)throw Error(N(261));return fe=null,pe=0,ue}function tp(){for(;ae!==null;)th(ae)}function rp(){for(;ae!==null&&!Ef();)th(ae)}function th(t){var e=sh(t.alternate,t,Re);t.memoizedProps=t.pendingProps,e===null?rh(t):ae=e,ol.current=null}function rh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Gm(r,e),r!==null){r.flags&=32767,ae=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ue=6,ae=null;return}}else if(r=Km(r,e,Re),r!==null){ae=r;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);ue===0&&(ue=5)}function Gt(t,e,r){var n=B,s=We.transition;try{We.transition=null,B=1,np(t,e,r,n)}finally{We.transition=s,B=n}return null}function np(t,e,r,n){do Lr();while(At!==null);if(q&6)throw Error(N(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Df(t,i),t===fe&&(ae=fe=null,pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vs||(vs=!0,ih(Ms,function(){return Lr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=B;B=1;var a=q;q|=4,ol.current=null,Zm(t,r),Jd(r,t),Sm(Fo),qs=!!Mo,Fo=Mo=null,t.current=r,Ym(r),Cf(),q=a,B=o,We.transition=i}else t.current=r;if(vs&&(vs=!1,At=t,si=s),i=t.pendingLanes,i===0&&(Ut=null),Of(r.stateNode),$e(t,se()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ni)throw ni=!1,t=aa,aa=null,t;return si&1&&t.tag!==0&&Lr(),i=t.pendingLanes,i&1?t===la?Sn++:(Sn=0,la=t):Sn=0,Ht(),null}function Lr(){if(At!==null){var t=Lc(si),e=We.transition,r=B;try{if(We.transition=null,B=16>t?16:t,At===null)var n=!1;else{if(t=At,At=null,si=0,q&6)throw Error(N(331));var s=q;for(q|=4,$=t.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:_n(8,d,i)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var g=d.sibling,y=d.return;if(Qd(d),d===c){$=null;break}if(g!==null){g.return=y,$=g;break}$=y}}}var x=i.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_n(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,$=p;break e}$=i.return}}var f=t.current;for($=f;$!==null;){o=$;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,$=m;else e:for(o=f;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wi(9,a)}}catch(b){re(a,a.return,b)}if(a===o){$=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,$=v;break e}$=a.return}}if(q=s,Ht(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(hi,t)}catch{}n=!0}return n}finally{B=r,We.transition=e}}return!1}function Cu(t,e,r){e=qr(r,e),e=Ld(t,e,1),t=Dt(t,e,1),e=je(),t!==null&&(Gn(t,1,e),$e(t,e))}function re(t,e,r){if(t.tag===3)Cu(t,t,r);else for(;e!==null;){if(e.tag===3){Cu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){t=qr(r,t),t=Dd(e,t,1),e=Dt(e,t,1),t=je(),e!==null&&(Gn(e,1,t),$e(e,t));break}}e=e.return}}function sp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=je(),t.pingedLanes|=t.suspendedLanes&r,fe===t&&(pe&r)===r&&(ue===4||ue===3&&(pe&130023424)===pe&&500>se()-ll?tr(t,0):al|=r),$e(t,e)}function nh(t,e){e===0&&(t.mode&1?(e=as,as<<=1,!(as&130023424)&&(as=4194304)):e=1);var r=je();t=xt(t,e),t!==null&&(Gn(t,e,r),$e(t,r))}function ip(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),nh(t,r)}function op(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),nh(t,r)}var sh;sh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)Te=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Te=!1,Qm(t,e,r);Te=!!(t.flags&131072)}else Te=!1,Z&&e.flags&1048576&&ld(e,Gs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;As(t,e),t=e.pendingProps;var s=Ur(e,_e.current);Ir(e,r),s=tl(null,e,n,t,s,r);var i=rl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ae(n)?(i=!0,Qs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ja(e),s.updater=xi,e.stateNode=s,s._reactInternals=e,Jo(e,n,t,r),e=Xo(null,e,n,!0,i,r)):(e.tag=0,Z&&i&&Ba(e),Se(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(As(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=lp(n),t=Je(n,t),s){case 0:e=Yo(null,e,n,t,r);break e;case 1:e=yu(null,e,n,t,r);break e;case 11:e=gu(null,e,n,t,r);break e;case 14:e=vu(null,e,n,Je(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),Yo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),yu(t,e,n,s,r);case 3:e:{if(Fd(e),t===null)throw Error(N(387));n=e.pendingProps,i=e.memoizedState,s=i.element,md(t,e),Ys(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=qr(Error(N(423)),e),e=xu(t,e,n,r,s);break e}else if(n!==s){s=qr(Error(N(424)),e),e=xu(t,e,n,r,s);break e}else for(Ie=Lt(e.stateNode.containerInfo.firstChild),Le=e,Z=!0,Xe=null,r=hd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zr(),n===s){e=wt(t,e,r);break e}Se(t,e,n,r)}e=e.child}return e;case 5:return pd(e),t===null&&Qo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qo(n,s)?o=null:i!==null&&qo(n,i)&&(e.flags|=32),Md(t,e),Se(t,e,o,r),e.child;case 6:return t===null&&Qo(e),null;case 13:return qd(t,e,r);case 4:return Za(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Mr(e,null,n,r):Se(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),gu(t,e,n,s,r);case 7:return Se(t,e,e.pendingProps,r),e.child;case 8:return Se(t,e,e.pendingProps.children,r),e.child;case 12:return Se(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,V(Js,n._currentValue),n._currentValue=o,i!==null)if(rt(i.value,o)){if(i.children===s.children&&!Oe.current){e=wt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=gt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Ko(i.return,r,e),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ko(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Se(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ir(e,r),s=Ve(s),n=n(s),e.flags|=1,Se(t,e,n,r),e.child;case 14:return n=e.type,s=Je(n,e.pendingProps),s=Je(n.type,s),vu(t,e,n,s,r);case 15:return Ud(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),As(t,e),e.tag=1,Ae(n)?(t=!0,Qs(e)):t=!1,Ir(e,r),Id(e,n,s),Jo(e,n,s,r),Xo(null,e,n,!0,t,r);case 19:return Bd(t,e,r);case 22:return zd(t,e,r)}throw Error(N(156,e.tag))};function ih(t,e){return Ac(t,e)}function ap(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(t,e,r,n){return new ap(t,e,r,n)}function hl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lp(t){if(typeof t=="function")return hl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oa)return 11;if(t===Aa)return 14}return 2}function Mt(t,e){var r=t.alternate;return r===null?(r=Be(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Is(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")hl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wr:return rr(r.children,s,i,e);case Ta:o=8,s|=8;break;case wo:return t=Be(12,r,e,s|2),t.elementType=wo,t.lanes=i,t;case _o:return t=Be(13,r,e,s),t.elementType=_o,t.lanes=i,t;case ko:return t=Be(19,r,e,s),t.elementType=ko,t.lanes=i,t;case pc:return ki(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fc:o=10;break e;case mc:o=9;break e;case Oa:o=11;break e;case Aa:o=14;break e;case bt:o=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Be(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function rr(t,e,r,n){return t=Be(7,t,n,e),t.lanes=r,t}function ki(t,e,r,n){return t=Be(22,t,n,e),t.elementType=pc,t.lanes=r,t.stateNode={isHidden:!1},t}function ao(t,e,r){return t=Be(6,t,null,e),t.lanes=r,t}function lo(t,e,r){return e=Be(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function up(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qi(0),this.expirationTimes=qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fl(t,e,r,n,s,i,o,a,u){return t=new up(t,e,r,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ja(i),t}function cp(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function oh(t){if(!t)return qt;t=t._reactInternals;e:{if(ur(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ae(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(Ae(r))return od(t,r,e)}return e}function ah(t,e,r,n,s,i,o,a,u){return t=fl(r,n,!0,t,s,i,o,a,u),t.context=oh(null),r=t.current,n=je(),s=zt(r),i=gt(n,s),i.callback=e??null,Dt(r,i,s),t.current.lanes=s,Gn(t,s,n),$e(t,n),t}function Si(t,e,r,n){var s=e.current,i=je(),o=zt(s);return r=oh(r),e.context===null?e.context=r:e.pendingContext=r,e=gt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Dt(s,e,o),t!==null&&(tt(t,s,o,i),Ps(t,s,o)),o}function oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ml(t,e){Pu(t,e),(t=t.alternate)&&Pu(t,e)}function dp(){return null}var lh=typeof reportError=="function"?reportError:function(t){console.error(t)};function pl(t){this._internalRoot=t}ji.prototype.render=pl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Si(t,e,null,null)};ji.prototype.unmount=pl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ar(function(){Si(null,t,null,null)}),e[yt]=null}};function ji(t){this._internalRoot=t}ji.prototype.unstable_scheduleHydration=function(t){if(t){var e=zc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ct.length&&e!==0&&e<Ct[r].priority;r++);Ct.splice(r,0,t),r===0&&Fc(t)}};function gl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function hp(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=oi(o);i.call(c)}}var o=ah(e,n,t,0,null,!1,!1,"",Tu);return t._reactRootContainer=o,t[yt]=o.current,Ln(t.nodeType===8?t.parentNode:t),ar(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=oi(u);a.call(c)}}var u=fl(t,0,!1,null,null,!1,!1,"",Tu);return t._reactRootContainer=u,t[yt]=u.current,Ln(t.nodeType===8?t.parentNode:t),ar(function(){Si(e,u,r,n)}),u}function Ni(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=oi(o);a.call(u)}}Si(e,o,t,s)}else o=hp(r,e,t,s,n);return oi(o)}Dc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hn(e.pendingLanes);r!==0&&(Ia(e,r|1),$e(e,se()),!(q&6)&&(Br=se()+500,Ht()))}break;case 13:ar(function(){var n=xt(t,1);if(n!==null){var s=je();tt(n,t,1,s)}}),ml(t,1)}};La=function(t){if(t.tag===13){var e=xt(t,134217728);if(e!==null){var r=je();tt(e,t,134217728,r)}ml(t,134217728)}};Uc=function(t){if(t.tag===13){var e=zt(t),r=xt(t,e);if(r!==null){var n=je();tt(r,t,e,n)}ml(t,e)}};zc=function(){return B};Mc=function(t,e){var r=B;try{return B=t,e()}finally{B=r}};Ao=function(t,e,r){switch(e){case"input":if(bo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=gi(n);if(!s)throw Error(N(90));vc(n),bo(n,s)}}}break;case"textarea":xc(t,r);break;case"select":e=r.value,e!=null&&Or(t,!!r.multiple,e,!1)}};Nc=ul;Ec=ar;var fp={usingClientEntryPoint:!1,Events:[Zn,jr,gi,jc,bc,ul]},ln={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mp={bundleType:ln.bundleType,version:ln.version,rendererPackageName:ln.rendererPackageName,rendererConfig:ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tc(t),t===null?null:t.stateNode},findFiberByHostInstance:ln.findFiberByHostInstance||dp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{hi=ys.inject(mp),ot=ys}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fp;Ue.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gl(e))throw Error(N(200));return cp(t,e,null,r)};Ue.createRoot=function(t,e){if(!gl(t))throw Error(N(299));var r=!1,n="",s=lh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fl(t,1,!1,null,null,r,!1,n,s),t[yt]=e.current,Ln(t.nodeType===8?t.parentNode:t),new pl(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Tc(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return ar(t)};Ue.hydrate=function(t,e,r){if(!bi(e))throw Error(N(200));return Ni(null,t,e,!0,r)};Ue.hydrateRoot=function(t,e,r){if(!gl(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=lh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=ah(e,null,t,1,r??null,s,!1,i,o),t[yt]=e.current,Ln(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ji(e)};Ue.render=function(t,e,r){if(!bi(e))throw Error(N(200));return Ni(null,t,e,!1,r)};Ue.unmountComponentAtNode=function(t){if(!bi(t))throw Error(N(40));return t._reactRootContainer?(ar(function(){Ni(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};Ue.unstable_batchedUpdates=ul;Ue.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!bi(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Ni(t,e,r,!1,n)};Ue.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(t){console.error(t)}}uh(),uc.exports=Ue;var pp=uc.exports,ch,Ou=pp;ch=Ou.createRoot,Ou.hydrateRoot;const gp="modulepreload",vp=function(t){return"/"+t},Au={},Xn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=vp(u),u in Au)return;Au[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":gp,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((g,y)=>{h.addEventListener("load",g),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},yp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xn(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class vl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class xp extends vl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $u extends vl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ru extends vl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var da;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(da||(da={}));var wp=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class _p{constructor(e,{headers:r={},customFetch:n,region:s=da.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=yp(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return wp(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(k=>{throw new xp(k)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new $u(h);if(!h.ok)throw new Ru(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield h.json():y==="application/octet-stream"?x=yield h.blob():y==="text/event-stream"?x=h:y==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ru||s instanceof $u?s.context:void 0}}})}}var Pe={},yl={},Ei={},es={},Ci={},Pi={},kp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wr=kp();const Sp=Wr.fetch,dh=Wr.fetch.bind(Wr),hh=Wr.Headers,jp=Wr.Request,bp=Wr.Response,Gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:hh,Request:jp,Response:bp,default:dh,fetch:Sp},Symbol.toStringTag,{value:"Module"})),Np=qh(Gr);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});let Ep=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ti.default=Ep;var fh=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});const Cp=fh(Np),Pp=fh(Ti);let Tp=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Cp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u;let c=null,d=null,h=null,g=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,g=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{c=JSON.parse(k),Array.isArray(c)&&i.status===404&&(d=[],c=null,g=200,y="OK")}catch{i.status===404&&k===""?(g=204,y="No Content"):c={message:k}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,g=200,y="OK"),c&&this.shouldThrowOnError)throw new Pp.default(c)}return{error:c,data:d,count:h,status:g,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Pi.default=Tp;var Op=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const Ap=Op(Pi);let $p=class extends Ap.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ci.default=$p;var Rp=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});const Ip=Rp(Ci);let Lp=class extends Ip.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};es.default=Lp;var Dp=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});const un=Dp(es);let Up=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new un.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new un.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new un.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new un.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ei.default=Up;var Oi={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.version=void 0;Ai.version="0.0.0-automated";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.DEFAULT_HEADERS=void 0;const zp=Ai;Oi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zp.version}`};var mh=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yl,"__esModule",{value:!0});const Mp=mh(Ei),Fp=mh(es),qp=Oi;let Bp=class ph{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},qp.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Mp.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ph(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Fp.default({method:o,url:a,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};yl.default=Bp;var Jr=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const gh=Jr(yl);Pe.PostgrestClient=gh.default;const vh=Jr(Ei);Pe.PostgrestQueryBuilder=vh.default;const yh=Jr(es);Pe.PostgrestFilterBuilder=yh.default;const xh=Jr(Ci);Pe.PostgrestTransformBuilder=xh.default;const wh=Jr(Pi);Pe.PostgrestBuilder=wh.default;const _h=Jr(Ti);Pe.PostgrestError=_h.default;var Wp=Pe.default={PostgrestClient:gh.default,PostgrestQueryBuilder:vh.default,PostgrestFilterBuilder:yh.default,PostgrestTransformBuilder:xh.default,PostgrestBuilder:wh.default,PostgrestError:_h.default};const{PostgrestClient:Hp,PostgrestQueryBuilder:gv,PostgrestFilterBuilder:vv,PostgrestTransformBuilder:yv,PostgrestBuilder:xv,PostgrestError:wv}=Wp;function Vp(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Qp=Vp(),Kp="2.11.15",Gp=`realtime-js/${Kp}`,Jp="1.0.0",kh=1e4,Zp=1e3;var jn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jn||(jn={}));var xe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(xe||(xe={}));var Ye;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ye||(Ye={}));var ha;(function(t){t.websocket="websocket"})(ha||(ha={}));var Zt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zt||(Zt={}));class Yp{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const u=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class Sh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const Iu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Xp(o,t,e,s),i),{})},Xp=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?jh(i,o):fa(o)},jh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ng(e,r)}switch(t){case W.bool:return eg(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return tg(e);case W.json:case W.jsonb:return rg(e);case W.timestamp:return sg(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return fa(e);default:return fa(e)}},fa=t=>t,eg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ng=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>jh(e,a))}return t},sg=t=>typeof t=="string"?t.replace(" ","T"):t,bh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class uo{constructor(e,r,n={},s=kh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lu||(Lu={}));class bn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=bn.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const g=d.map(S=>S.presence_ref),y=h.map(S=>S.presence_ref),x=d.filter(S=>y.indexOf(S.presence_ref)<0),k=h.filter(S=>g.indexOf(S.presence_ref)<0);x.length>0&&(a[c]=x),k.length>0&&(u[c]=k)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),d.length>0){const h=e[a].map(y=>y.presence_ref),g=d.filter(y=>h.indexOf(y.presence_ref)<0);e[a].unshift(...g)}n(a,d,u)}),this.map(o,(a,u)=>{let c=e[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,u),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Du;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Du||(Du={}));var Uu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Uu||(Uu={}));var ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class xl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uo(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new Sh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new bn(this),this.broadcastEndpointURL=bh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==xe.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(ht.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ht.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(ht.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(h=g==null?void 0:g.length)!==null&&h!==void 0?h:0,x=[];for(let k=0;k<y;k++){const S=g[k],{filter:{event:p,schema:f,table:m,filter:v}}=S,b=d&&d[k];if(b&&b.event===p&&b.schema===f&&b.table===m&&b.filter===v)x.push(Object.assign(Object.assign({},S),{id:b.id}));else{this.unsubscribe(),this.state=xe.errored,e==null||e(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(ht.SUBSCRIBED);return}}).receive("error",d=>{this.state=xe.errored,e==null||e(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new uo(this,Ye.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new uo(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=Ye;if(n&&[a,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,k,S;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(k=y.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(y=>y.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,k,S,p,f,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,b=(x=y.filter)===null||x===void 0?void 0:x.event;return v&&((k=r.ids)===null||k===void 0?void 0:k.includes(v))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const v=(f=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:k,table:S,commit_timestamp:p,type:f,errors:m}=x;g=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:p,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(x))}y.callback(g,n)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&xl.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ye.close,{},e)}_onError(e){this._on(Ye.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Iu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Iu(e.columns,e.old_record)),r}}const zu=()=>{},ig=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class og{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zu,this.ref=0,this.logger=zu,this.conn=null,this.sendBuffer=[],this.serializer=new Yp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Xn(async()=>{const{default:u}=await Promise.resolve().then(()=>Gr);return{default:u}},void 0).then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${ha.websocket}`,this.httpEndpoint=bh(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Qp),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jp}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jn.connecting:return Zt.Connecting;case jn.open:return Zt.Open;case jn.closing:return Zt.Closing;default:return Zt.Closed}}isConnected(){return this.connectionState()===Zt.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new xl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Gp};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ye.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Zp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ye.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([ig],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class wl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function de(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ag extends wl{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ma extends wl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var lg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const Nh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xn(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ug=()=>lg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xn(()=>Promise.resolve().then(()=>Gr),void 0)).Response:Response}),pa=t=>{if(Array.isArray(t))return t.map(r=>pa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=pa(n)}),e};var cr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const co=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cg=(t,e,r)=>cr(void 0,void 0,void 0,function*(){const n=yield ug();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new ag(co(s),t.status||500))}).catch(s=>{e(new ma(co(s),s))}):e(new ma(co(t),t))}),dg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ts(t,e,r,n,s,i){return cr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,dg(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>cg(u,a,n))})})}function ai(t,e,r,n){return cr(this,void 0,void 0,function*(){return ts(t,"GET",e,r,n)})}function Et(t,e,r,n,s){return cr(this,void 0,void 0,function*(){return ts(t,"POST",e,n,s,r)})}function hg(t,e,r,n,s){return cr(this,void 0,void 0,function*(){return ts(t,"PUT",e,n,s,r)})}function fg(t,e,r,n){return cr(this,void 0,void 0,function*(){return ts(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Eh(t,e,r,n,s){return cr(this,void 0,void 0,function*(){return ts(t,"DELETE",e,n,s,r)})}var Ee=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const mg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Nh(s)}uploadOrUpdate(e,r,n,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Mu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield h.json();return h.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Mu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:d}),g=yield h.json();return h.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(u){if(de(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new wl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ee(this,void 0,void 0,function*(){try{const s=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}download(e,r){return Ee(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ai(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(e){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ai(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pa(n),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}exists(e){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield fg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(de(n)&&n instanceof ma){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},mg),r),{prefix:e||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const gg="2.7.1",vg={"X-Client-Info":`storage-js/${gg}`};var mr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class yg{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},vg),r),this.fetch=Nh(n)}listBuckets(){return mr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}getBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return mr(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return mr(this,void 0,void 0,function*(){try{return{data:yield hg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}emptyBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}deleteBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}}class xg extends yg{constructor(e,r={},n){super(e,r,n)}from(e){return new pg(this.url,this.headers,e,this.fetch)}}const wg="2.50.5";let mn="";typeof Deno<"u"?mn="deno":typeof document<"u"?mn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mn="react-native":mn="node";const _g={"X-Client-Info":`supabase-js-${mn}/${wg}`},kg={headers:_g},Sg={schema:"public"},jg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bg={};var Ng=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const Eg=t=>{let e;return t?e=t:typeof fetch>"u"?e=dh:e=fetch,(...r)=>e(...r)},Cg=()=>typeof Headers>"u"?hh:Headers,Pg=(t,e,r)=>{const n=Eg(r),s=Cg();return(i,o)=>Ng(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Tg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};function Og(t){return t.endsWith("/")?t:t+"/"}function Ag(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:u,auth:c,realtime:d,global:h}=e,g={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Tg(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const Ch="2.70.0",yr=30*1e3,ga=3,ho=ga*yr,$g="http://localhost:9999",Rg="supabase.auth.token",Ig={"X-Client-Info":`gotrue-js/${Ch}`},va="X-Supabase-Api-Version",Ph={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dg=6e5;class _l extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ug extends _l{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function zg(t){return D(t)&&t.name==="AuthApiError"}class Th extends _l{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Vt extends _l{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class jt extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mg(t){return D(t)&&t.name==="AuthSessionMissingError"}class xs extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ws extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _s extends Vt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fg(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class Fu extends Vt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ya extends Vt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function fo(t){return D(t)&&t.name==="AuthRetryableFetchError"}class qu extends Vt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nn extends Vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bu=` 	
\r=`.split(""),qg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Bu.length;e+=1)t[Bu[e].charCodeAt(0)]=-2;for(let e=0;e<li.length;e+=1)t[li[e].charCodeAt(0)]=e;return t})();function Wu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}}function Oh(t,e,r){const n=qg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Hg(o,n,r)};for(let o=0;o<t.length;o+=1)Oh(t.charCodeAt(o),s,i);return e.join("")}function Bg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Wg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Bg(n,e)}}function Hg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Vg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Oh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Qg(t){const e=[];return Wg(t,r=>e.push(r)),new Uint8Array(e)}function Kg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Wu(s,r,n)),Wu(null,r,n),e.join("")}function Gg(t){return Math.round(Date.now()/1e3)+t}function Jg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ge=()=>typeof window<"u"&&typeof document<"u",Qt={tested:!1,writable:!1},En=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qt.tested)return Qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qt.tested=!0,Qt.writable=!0}catch{Qt.tested=!0,Qt.writable=!1}return Qt.writable};function Zg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Ah=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xn(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Yg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$h=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ks=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ss=async(t,e)=>{await t.removeItem(e)};class $i{constructor(){this.promise=new $i.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$i.promiseConstructor=Promise;function mo(t){const e=t.split(".");if(e.length!==3)throw new Nn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Lg.test(e[n]))throw new Nn("JWT not in base64url format");return{header:JSON.parse(Hu(e[0])),payload:JSON.parse(Hu(e[1])),signature:Vg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Xg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function e0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function t0(t){return("0"+t.toString(16)).substr(-2)}function r0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,t0).join("")}async function n0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function s0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await n0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pr(t,e,r=!1){const n=r0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $h(t,`${e}-code-verifier`,s);const i=await s0(n);return[i,n===i?"plain":"s256"]}const i0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o0(t){const e=t.headers.get(va);if(!e||!e.match(i0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function a0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function l0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(t){if(!u0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var c0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),d0=[502,503,504];async function Vu(t){var e;if(!Yg(t))throw new ya(Jt(t),0);if(d0.includes(t.status))throw new ya(Jt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Th(Jt(i),i)}let n;const s=o0(t);if(s&&s.getTime()>=Ph["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qu(Jt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new jt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qu(Jt(r),t.status,r.weak_password.reasons);throw new Ug(Jt(r),t.status||500,n)}const h0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[va]||(i[va]=Ph["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await f0(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function f0(t,e,r,n,s,i){const o=h0(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new ya(Jt(u),0)}if(a.ok||await Vu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Vu(u)}}function ct(t){var e;let r=null;v0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Gg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Qu(t){const e=ct(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function m0(t){return{data:t,error:null}}function p0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=c0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function g0(t){return t}function v0(t){return t.access_token&&t.refresh_token&&t.expires_in}const po=["global","local","others"];var y0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class x0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ah(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=po[0]){if(po.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${po.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=y0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:p0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:g0});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(x=>{const k=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);c[`${S}Page`]=k}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){gr(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){gr(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Tt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){gr(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){gr(e.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(e){gr(e.userId),gr(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}const w0={getItem:t=>En()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{En()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{En()&&globalThis.localStorage.removeItem(t)}};function Ku(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function _0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vr={debug:!!(globalThis&&En()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class k0 extends Rh{}async function S0(t,e,r){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new k0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}_0();const j0={url:$g,storageKey:Rg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ig,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gu(t,e,r){return await r()}class Hn{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hn.nextInstanceID,Hn.nextInstanceID+=1,this.instanceID>0&&Ge()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},j0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new x0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ah(s.fetch),this.lock=s.lock||Gu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ge()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=S0:this.lock=Gu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:En()?this.storage=w0:(this.memoryStorage={},this.storage=Ku(this.memoryStorage)):(this.memoryStorage={},this.storage=Ku(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ch}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Zg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ge()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fg(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?{error:r}:{error:new Th("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ct}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:g}=e;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await pr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:x},xform:ct})}else if("phone"in e){const{phone:d,password:h,options:g}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:ct})}else throw new ws("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Qu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Qu})}else throw new ws("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new xs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,u,c,d,h,g,y;let x,k;if("message"in e)x=e.message,k=e.signature;else{const{chain:S,wallet:p,statement:f,options:m}=e;let v;if(Ge())if(typeof p=="object")v=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))v=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=p}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const E=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),f?{statement:f}:null));let w;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")w=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)w=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)x=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),k=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${b.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const E=await v.signMessage(new TextEncoder().encode(x),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=E}}try{const{data:S,error:p}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Kg(k)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ct});if(p)throw p;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new xs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:p})}catch(S){if(D(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const r=await ks(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ct});if(await Ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ct}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new xs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await pr(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ws("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ct});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:m0})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new jt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ws("You must provide either an email or phone number and a type")}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ho:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(r){if(D(r))return Mg(r)&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new jt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await pr(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Tt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=mo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(D(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ge())throw new _s("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _s(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _s("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fu("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!o||!c)throw new _s("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let g=d+h;u&&(g=parseInt(u));const y=g-d;y*1e3<=yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=g-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,d);const{data:k,error:S}=await this._getUser(i);if(S)throw S;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(D(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ks(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(zg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Jg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await pr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:g}=i;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ge()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(D(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await e0(async s=>(s>0&&await Xg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ct})),(s,i)=>{const o=200*Math.pow(2,s);return i&&fo(i)&&Date.now()+o-n<yr})}catch(n){if(this._debug(r,"error",n),D(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ge()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ks(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ho;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ho}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),fo(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $i;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return fo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $h(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ss(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yr}ms, refresh threshold is ${ga} ticks`),s<=ga&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Rh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await pr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mo(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Dg>Date.now()))return n;const{data:s,error:i}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Nn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new Nn("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=mo(n);if(a0(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=l0(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Qg(`${a}.${u}`)))throw new Nn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}Hn.nextInstanceID=0;const b0=Hn;class N0 extends b0{constructor(e){super(e)}}var E0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class C0{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Og(e),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Sg,realtime:bg,auth:Object.assign(Object.assign({},jg),{storageKey:c}),global:kg},h=Ag(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Pg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Hp(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new _p(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return E0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new og(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const P0=(t,e,r)=>new C0(t,e,r),Ih="https://placeholder.supabase.co",Lh="placeholder-anon-key",Dh=t=>{try{return new URL(t),!0}catch{return!1}},ui="https://zljrsyadfjyeilifozdl.supabase.co",xa="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpsanJzeWFkZmp5ZWlsaWZvemRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzNTg0OTAsImV4cCI6MjA2NzkzNDQ5MH0._S61gVcNZ8fht8-Q8yDT1pzfQdZcVp4iiaYXxfVk8Ag",T0=Dh(ui)?ui:Ih,O0=xa.trim()!==""?xa:Lh,H=P0(T0,O0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),ne=()=>Dh(ui)&&ui!==Ih&&xa!==Lh,A0=()=>{const[t,e]=R.useState(!1),[r,n]=R.useState(null);return{loading:t,error:r,fetchCategories:async()=>{e(!0),n(null);try{const{data:w,error:_}=await H.from("categories").select("*").order("name");if(_)throw _;return w.map(j=>({id:j.id,name:j.name,description:j.description,image:j.image,productCount:0}))}catch(w){return n(w instanceof Error?w.message:"Error fetching categories"),[]}finally{e(!1)}},addCategory:async w=>{e(!0),n(null);try{const{data:_,error:j}=await H.from("categories").insert({name:w.name,description:w.description,image:w.image}).select().single();if(j)throw j;return _}catch(_){throw n(_ instanceof Error?_.message:"Error adding category"),_}finally{e(!1)}},updateCategory:async(w,_)=>{e(!0),n(null);try{const{data:j,error:P}=await H.from("categories").update({name:_.name,description:_.description,image:_.image}).eq("id",w).select().single();if(P)throw P;return j}catch(j){throw n(j instanceof Error?j.message:"Error updating category"),j}finally{e(!1)}},deleteCategory:async w=>{e(!0),n(null);try{const{error:_}=await H.from("categories").delete().eq("id",w);if(_)throw _}catch(_){throw n(_ instanceof Error?_.message:"Error deleting category"),_}finally{e(!1)}},fetchProducts:async()=>{e(!0),n(null);try{const{data:w,error:_}=await H.from("products").select(`
          *,
          categories (name)
        `).order("created_at",{ascending:!1});if(_)throw _;return w.map(j=>{var P;return{id:j.id,name:j.name,description:j.description,price:j.price,unit:j.unit,category:((P=j.categories)==null?void 0:P.name)||"",image:j.image,inStock:j.in_stock,visible:j.visible,createdAt:j.created_at,updatedAt:j.updated_at}})}catch(w){return n(w instanceof Error?w.message:"Error fetching products"),[]}finally{e(!1)}},addProduct:async w=>{e(!0),n(null);try{const{data:_,error:j}=await H.from("categories").select("id").eq("name",w.category).single();if(j)throw j;const{data:P,error:K}=await H.from("products").insert({name:w.name,description:w.description,price:w.price,unit:w.unit,category_id:_.id,image:w.image,in_stock:w.inStock,visible:w.visible}).select().single();if(K)throw K;return P}catch(_){throw n(_ instanceof Error?_.message:"Error adding product"),_}finally{e(!1)}},updateProduct:async(w,_)=>{e(!0),n(null);try{let j;if(_.category){const{data:ie,error:I}=await H.from("categories").select("id").eq("name",_.category).single();if(I)throw I;j=ie.id}const P={};_.name&&(P.name=_.name),_.description&&(P.description=_.description),_.price!==void 0&&(P.price=_.price),_.unit&&(P.unit=_.unit),j&&(P.category_id=j),_.image&&(P.image=_.image),_.inStock!==void 0&&(P.in_stock=_.inStock),_.visible!==void 0&&(P.visible=_.visible);const{data:K,error:ce}=await H.from("products").update(P).eq("id",w).select().single();if(ce)throw ce;return K}catch(j){throw n(j instanceof Error?j.message:"Error updating product"),j}finally{e(!1)}},deleteProduct:async w=>{e(!0),n(null);try{const{error:_}=await H.from("products").delete().eq("id",w);if(_)throw _}catch(_){throw n(_ instanceof Error?_.message:"Error deleting product"),_}finally{e(!1)}},signUp:async(w,_,j)=>{e(!0),n(null);try{const{data:P,error:K}=await H.auth.signUp({email:w,password:_,options:{data:{name:j}}});if(K)throw K;if(P.user){const{error:ce}=await H.from("profiles").insert({id:P.user.id,name:j,email:w,role:"client"});if(ce)throw ce}return P}catch(P){throw n(P instanceof Error?P.message:"Error signing up"),P}finally{e(!1)}},signIn:async(w,_)=>{e(!0),n(null);try{const{data:j,error:P}=await H.auth.signInWithPassword({email:w,password:_});if(P)throw P;return j}catch(j){throw n(j instanceof Error?j.message:"Error signing in"),j}finally{e(!1)}},signOut:async()=>{e(!0),n(null);try{const{error:w}=await H.auth.signOut();if(w)throw w}catch(w){throw n(w instanceof Error?w.message:"Error signing out"),w}finally{e(!1)}},getCurrentUser:async()=>{try{const{data:{user:w}}=await H.auth.getUser();if(!w)return null;const{data:_,error:j}=await H.from("profiles").select("*").eq("id",w.id).single();if(j)throw j;return{id:_.id,name:_.name,email:_.email,role:_.role,createdAt:_.created_at}}catch(w){return n(w instanceof Error?w.message:"Error getting current user"),null}},fetchUserFavorites:async w=>{try{const{data:_,error:j}=await H.from("user_favorites").select("product_id").eq("user_id",w);if(j)throw j;return _.map(P=>P.product_id)}catch(_){return n(_ instanceof Error?_.message:"Error fetching favorites"),[]}},addToFavorites:async(w,_)=>{try{const{error:j}=await H.from("user_favorites").insert({user_id:w,product_id:_});if(j)throw j}catch(j){throw n(j instanceof Error?j.message:"Error adding to favorites"),j}},removeFromFavorites:async(w,_)=>{try{const{error:j}=await H.from("user_favorites").delete().eq("user_id",w).eq("product_id",_);if(j)throw j}catch(j){throw n(j instanceof Error?j.message:"Error removing from favorites"),j}},submitQuoteRequest:async w=>{try{const{data:_,error:j}=await H.from("quote_requests").insert({product_id:w.productId,product_name:w.productName,client_name:w.clientName,client_email:w.clientEmail,client_phone:w.clientPhone,quantity:w.quantity,message:w.message}).select().single();if(j)throw j;return _}catch(_){throw n(_ instanceof Error?_.message:"Error submitting quote request"),_}},fetchOrders:async()=>{e(!0),n(null);try{const{data:w,error:_}=await H.from("orders").select(`
          *,
          order_items (
            id,
            product_id,
            product_name,
            quantity,
            unit_price,
            total_price,
            created_at
          )
        `).order("created_at",{ascending:!1});if(_)throw _;return w.map(j=>({id:j.id,clientName:j.client_name,clientPhone:j.client_phone,clientEmail:j.client_email,totalAmount:j.total_amount,notes:j.notes,status:j.status,createdAt:j.created_at,updatedAt:j.updated_at,items:j.order_items.map(P=>({id:P.id,orderId:j.id,productId:P.product_id,productName:P.product_name,quantity:P.quantity,unitPrice:P.unit_price,totalPrice:P.total_price,createdAt:P.created_at}))}))}catch(w){return n(w instanceof Error?w.message:"Error fetching orders"),[]}finally{e(!1)}},createOrder:async w=>{e(!0),n(null);try{const _=w.items.reduce((ie,I)=>ie+I.product.price*I.quantity,0),{data:j,error:P}=await H.from("orders").insert({client_name:w.clientName,client_phone:w.clientPhone,client_email:w.clientEmail,notes:w.notes,total_amount:_}).select().single();if(P)throw P;const K=w.items.map(ie=>({order_id:j.id,product_id:ie.product.id,product_name:ie.product.name,quantity:ie.quantity,unit_price:ie.product.price,total_price:ie.product.price*ie.quantity})),{error:ce}=await H.from("order_items").insert(K);if(ce)throw ce;return j}catch(_){throw n(_ instanceof Error?_.message:"Error creating order"),_}finally{e(!1)}},updateOrderStatus:async(w,_)=>{e(!0),n(null);try{const{data:j,error:P}=await H.from("orders").update({status:_,updated_at:new Date().toISOString()}).eq("id",w).select().single();if(P)throw P;return j}catch(j){throw n(j instanceof Error?j.message:"Error updating order status"),j}finally{e(!1)}}}},$0={fr:{"nav.products":"Produits","nav.categories":"Catgories","nav.admin":"Admin","nav.login":"Connexion","nav.logout":"Dconnexion","nav.register":"S'inscrire","store.name":"YoussefMarket","store.tagline":"Dcouvrez nos produits frais et de qualit","catalog.title":"Catalogue Produits","catalog.description":"Dcouvrez nos produits frais et de qualit","catalog.search":"Rechercher des produits...","catalog.allCategories":"Toutes les Catgories","catalog.noProducts":"Aucun produit trouv","catalog.noProductsDesc":"Essayez d'ajuster vos critres de recherche ou de filtre.","categories.title":"Catgories de Produits","categories.description":"Parcourez notre large gamme de catgories de produits","categories.viewProducts":"Voir les Produits ","categories.products":"produits","product.inStock":"En Stock","product.onRequest":"Sur Demande","product.requestQuote":"Demander un Devis","product.addToFavorites":"Ajouter aux Favoris","product.removeFromFavorites":"Retirer des Favoris","quote.title":"Demander un Devis","quote.name":"Nom","quote.email":"Email","quote.phone":"Tlphone","quote.quantity":"Quantit","quote.message":"Message Supplmentaire","quote.messagePlaceholder":"Exigences spcifiques ou questions...","quote.send":"Envoyer la Demande","quote.whatsapp":"WhatsApp","quote.success":"Demande de devis envoye avec succs ! Nous vous contacterons bientt.","auth.welcomeBack":"Bon Retour","auth.signIn":"Connectez-vous  votre compte","auth.createAccount":"Crer un Compte","auth.joinUs":"Rejoignez YoussefMarket","auth.email":"Adresse Email","auth.password":"Mot de Passe","auth.confirmPassword":"Confirmer le Mot de Passe","auth.fullName":"Nom Complet","auth.signInButton":"Se Connecter","auth.registerButton":"S'inscrire","auth.noAccount":"Pas de compte ?","auth.hasAccount":"Dj un compte ?","auth.registerLink":"Inscrivez-vous","auth.loginLink":"Connectez-vous","auth.loginAsClient":"Connexion Client","auth.loginAsAdmin":"Connexion Admin","admin.dashboard":"Tableau de Bord Admin","admin.addProduct":"Ajouter Produit","admin.addCategory":"Ajouter Catgorie","admin.totalProducts":"Total Produits","admin.visibleProducts":"Produits Visibles","admin.categories":"Catgories","admin.inStock":"En Stock","admin.products":"Produits","admin.product":"Produit","admin.category":"Catgorie","admin.price":"Prix","admin.status":"Statut","admin.actions":"Actions","admin.visible":"Visible","admin.hidden":"Masqu","admin.edit":"Modifier","admin.delete":"Supprimer","admin.show":"Afficher","admin.hide":"Masquer","form.productName":"Nom du Produit","form.description":"Description","form.price":"Prix (MAD)","form.unit":"Unit","form.category":"Catgorie","form.image":"URL de l'Image","form.inStock":"En Stock","form.visible":"Visible pour les Clients","form.save":"Sauvegarder","form.cancel":"Annuler","form.saving":"Sauvegarde...","form.addProduct":"Ajouter un Produit","form.editProduct":"Modifier le Produit","form.addCategory":"Ajouter une Catgorie","form.editCategory":"Modifier la Catgorie","form.categoryName":"Nom de la Catgorie","form.selectCategory":"Slectionner une Catgorie","validation.required":"Ce champ est requis","validation.email":"Adresse email invalide","validation.password":"Le mot de passe doit contenir au moins 6 caractres","validation.passwordMatch":"Les mots de passe ne correspondent pas","validation.pricePositive":"Le prix doit tre suprieur  0","message.productAdded":"Produit ajout avec succs","message.productUpdated":"Produit modifi avec succs","message.productDeleted":"Produit supprim avec succs","message.categoryAdded":"Catgorie ajoute avec succs","message.categoryUpdated":"Catgorie modifie avec succs","message.categoryDeleted":"Catgorie supprime avec succs","message.productHidden":"Produit masqu avec succs","message.productShown":"Produit affich avec succs","message.loginSuccess":"Connexion russie","message.registerSuccess":"Inscription russie","message.addedToFavorites":"Ajout aux favoris","message.removedFromFavorites":"Retir des favoris","currency.mad":"MAD","currency.symbol":".","common.loading":"Chargement...","common.error":"Erreur","common.success":"Succs","common.close":"Fermer","common.confirm":"Confirmer","common.yes":"Oui","common.no":"Non","common.required":"Requis","demo.credentials":"Identifiants de Dmonstration","demo.adminEmail":"Email: admin@youssefmarket.com","demo.adminPassword":"Mot de passe: admin123","demo.clientEmail":"Email: client@example.com","demo.clientPassword":"Mot de passe: client123","order.title":"Passer Commande","order.clientName":"Nom du Client","order.clientPhone":"Tlphone","order.clientEmail":"Email (optionnel)","order.notes":"Notes","order.notesPlaceholder":"Instructions spciales ou commentaires...","order.placeOrder":"Passer la Commande","order.addToCart":"Ajouter au Panier","order.cart":"Panier","order.cartEmpty":"Votre panier est vide","order.cartItems":"Articles dans le panier","order.quantity":"Quantit","order.remove":"Retirer","order.total":"Total","order.success":"Commande passe avec succs ! Nous vous contacterons bientt.","order.viewCart":"Voir le Panier","order.checkout":"Finaliser","order.continueShopping":"Continuer les Achats","order.orderSummary":"Rsum de la Commande","order.orderNumber":"Numro de Commande","order.orderDate":"Date de Commande","order.orderStatus":"Statut","order.orderTotal":"Total de la Commande","orderStatus.pending":"En Attente","orderStatus.confirmed":"Confirme","orderStatus.preparing":"En Prparation","orderStatus.ready":"Prte","orderStatus.delivered":"Livre","orderStatus.cancelled":"Annule","admin.orders":"Commandes","admin.orderManagement":"Gestion des Commandes","admin.totalOrders":"Total Commandes","admin.pendingOrders":"Commandes en Attente","admin.totalRevenue":"Revenus Total","admin.orderDetails":"Dtails de la Commande","admin.updateStatus":"Mettre  Jour le Statut","admin.orderItems":"Articles de la Commande","admin.clientInfo":"Informations Client","admin.orderNotes":"Notes de la Commande"},en:{"nav.products":"Products","nav.categories":"Categories","nav.admin":"Admin","nav.login":"Login","nav.logout":"Logout","nav.register":"Register","store.name":"YoussefMarket","store.tagline":"Discover our fresh, quality products","catalog.title":"Product Catalog","catalog.description":"Discover our fresh, quality products","catalog.search":"Search products...","catalog.allCategories":"All Categories","catalog.noProducts":"No products found","catalog.noProductsDesc":"Try adjusting your search or filter criteria.","categories.title":"Product Categories","categories.description":"Browse our wide range of product categories","categories.viewProducts":"View Products ","categories.products":"products","product.inStock":"In Stock","product.onRequest":"On Request","product.requestQuote":"Request Quote","product.addToFavorites":"Add to Favorites","product.removeFromFavorites":"Remove from Favorites","quote.title":"Request Quote","quote.name":"Name","quote.email":"Email","quote.phone":"Phone","quote.quantity":"Quantity","quote.message":"Additional Message","quote.messagePlaceholder":"Any specific requirements or questions...","quote.send":"Send Quote Request","quote.whatsapp":"WhatsApp","quote.success":"Quote request sent successfully! We will contact you soon.","auth.welcomeBack":"Welcome Back","auth.signIn":"Sign in to your account","auth.createAccount":"Create Account","auth.joinUs":"Join YoussefMarket","auth.email":"Email Address","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.fullName":"Full Name","auth.signInButton":"Sign In","auth.registerButton":"Register","auth.noAccount":"No account?","auth.hasAccount":"Already have an account?","auth.registerLink":"Sign up","auth.loginLink":"Sign in","auth.loginAsClient":"Client Login","auth.loginAsAdmin":"Admin Login","admin.dashboard":"Admin Dashboard","admin.addProduct":"Add Product","admin.addCategory":"Add Category","admin.totalProducts":"Total Products","admin.visibleProducts":"Visible Products","admin.categories":"Categories","admin.inStock":"In Stock","admin.products":"Products","admin.product":"Product","admin.category":"Category","admin.price":"Price","admin.status":"Status","admin.actions":"Actions","admin.visible":"Visible","admin.hidden":"Hidden","admin.edit":"Edit","admin.delete":"Delete","admin.show":"Show","admin.hide":"Hide","form.productName":"Product Name","form.description":"Description","form.price":"Price (MAD)","form.unit":"Unit","form.category":"Category","form.image":"Image URL","form.inStock":"In Stock","form.visible":"Visible to Clients","form.save":"Save","form.cancel":"Cancel","form.saving":"Saving...","form.addProduct":"Add Product","form.editProduct":"Edit Product","form.addCategory":"Add Category","form.editCategory":"Edit Category","form.categoryName":"Category Name","form.selectCategory":"Select Category","validation.required":"This field is required","validation.email":"Invalid email address","validation.password":"Password must be at least 6 characters","validation.passwordMatch":"Passwords do not match","validation.pricePositive":"Price must be greater than 0","message.productAdded":"Product added successfully","message.productUpdated":"Product updated successfully","message.productDeleted":"Product deleted successfully","message.categoryAdded":"Category added successfully","message.categoryUpdated":"Category updated successfully","message.categoryDeleted":"Category deleted successfully","message.productHidden":"Product hidden successfully","message.productShown":"Product shown successfully","message.loginSuccess":"Login successful","message.registerSuccess":"Registration successful","message.addedToFavorites":"Added to favorites","message.removedFromFavorites":"Removed from favorites","currency.mad":"MAD","currency.symbol":".","common.loading":"Loading...","common.error":"Error","common.success":"Success","common.close":"Close","common.confirm":"Confirm","common.yes":"Yes","common.no":"No","common.required":"Required","demo.credentials":"Demo Credentials","demo.adminEmail":"Email: admin@youssefmarket.com","demo.adminPassword":"Password: admin123","demo.clientEmail":"Email: client@example.com","demo.clientPassword":"Password: client123","order.title":"Place Order","order.clientName":"Client Name","order.clientPhone":"Phone Number","order.clientEmail":"Email (optional)","order.notes":"Notes","order.notesPlaceholder":"Special instructions or comments...","order.placeOrder":"Place Order","order.addToCart":"Add to Cart","order.cart":"Cart","order.cartEmpty":"Your cart is empty","order.cartItems":"Items in cart","order.quantity":"Quantity","order.remove":"Remove","order.total":"Total","order.success":"Order placed successfully! We will contact you soon.","order.viewCart":"View Cart","order.checkout":"Checkout","order.continueShopping":"Continue Shopping","order.orderSummary":"Order Summary","order.orderNumber":"Order Number","order.orderDate":"Order Date","order.orderStatus":"Status","order.orderTotal":"Order Total","orderStatus.pending":"Pending","orderStatus.confirmed":"Confirmed","orderStatus.preparing":"Preparing","orderStatus.ready":"Ready","orderStatus.delivered":"Delivered","orderStatus.cancelled":"Cancelled","admin.orders":"Orders","admin.orderManagement":"Order Management","admin.totalOrders":"Total Orders","admin.pendingOrders":"Pending Orders","admin.totalRevenue":"Total Revenue","admin.orderDetails":"Order Details","admin.updateStatus":"Update Status","admin.orderItems":"Order Items","admin.clientInfo":"Client Information","admin.orderNotes":"Order Notes"}},Uh=R.createContext(void 0),ke=()=>{const t=R.useContext(Uh);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t},R0=({children:t})=>{const[e,r]=R.useState("fr"),n=s=>$0[e][s]||s;return l.jsx(Uh.Provider,{value:{language:e,setLanguage:r,t:n},children:t})},go=[{id:"1",name:"Epicerie",description:"Produits alimentaires de base et conserves",image:"https://images.pexels.com/photos/4110251/pexels-photo-4110251.jpeg",productCount:15},{id:"2",name:"Hygine & Beaut",description:"Produits de soins personnels et cosmtiques",image:"https://images.pexels.com/photos/3735657/pexels-photo-3735657.jpeg",productCount:12},{id:"3",name:"Produits Frais",description:"Viandes, poissons et produits frais",image:"https://images.pexels.com/photos/65175/pexels-photo-65175.jpeg",productCount:18},{id:"4",name:"Boissons Froides",description:"Boissons rafrachissantes et jus",image:"https://images.pexels.com/photos/544961/pexels-photo-544961.jpeg",productCount:14},{id:"5",name:"Gateaux Dessert",description:"Ptisseries et desserts sucrs",image:"https://images.pexels.com/photos/298217/pexels-photo-298217.jpeg",productCount:10},{id:"6",name:"Chocolats & Confiseries",description:"Chocolats fins et bonbons",image:"https://images.pexels.com/photos/918327/pexels-photo-918327.jpeg",productCount:12},{id:"7",name:"Boissons Chaudes",description:"Caf, th et boissons chaudes",image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg",productCount:9},{id:"8",name:"Produits Laitiers",description:"Lait, fromages et produits laitiers",image:"https://images.pexels.com/photos/236010/pexels-photo-236010.jpeg",productCount:16},{id:"9",name:"Entretien & Nettoyage",description:"Produits mnagers et nettoyage",image:"https://images.pexels.com/photos/4239091/pexels-photo-4239091.jpeg",productCount:11},{id:"10",name:"Asiatique",description:"Spcialits et produits asiatiques",image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",productCount:13}],vo=[{id:"1",name:"Riz Basmati Premium",description:"Riz basmati de qualit suprieure, grain long",price:49.9,unit:"1kg",category:"Epicerie",image:"https://images.pexels.com/photos/723198/pexels-photo-723198.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"2",name:"Shampoing Doux",description:"Shampoing pour cheveux normaux, formule douce",price:69.9,unit:"250ml",category:"Hygine & Beaut",image:"https://images.pexels.com/photos/3735657/pexels-photo-3735657.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:35:00Z",updatedAt:"2024-01-15T10:35:00Z"},{id:"3",name:"Saumon Frais",description:"Filet de saumon frais de Norvge",price:189.9,unit:"500g",category:"Produits Frais",image:"https://images.pexels.com/photos/65175/pexels-photo-65175.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:40:00Z",updatedAt:"2024-01-15T10:40:00Z"},{id:"4",name:"Coca-Cola",description:"Boisson gazeuse rafrachissante",price:29.9,unit:"500ml",category:"Boissons Froides",image:"https://images.pexels.com/photos/544961/pexels-photo-544961.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:45:00Z",updatedAt:"2024-01-15T10:45:00Z"},{id:"5",name:"Tarte aux Pommes",description:"Tarte aux pommes artisanale",price:89.9,unit:"1 pice",category:"Gateaux Dessert",image:"https://images.pexels.com/photos/298217/pexels-photo-298217.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T10:55:00Z",updatedAt:"2024-01-15T10:55:00Z"},{id:"6",name:"Chocolat Noir 70%",description:"Tablette de chocolat noir intense",price:49.9,unit:"100g",category:"Chocolats & Confiseries",image:"https://images.pexels.com/photos/918327/pexels-photo-918327.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:00:00Z",updatedAt:"2024-01-15T11:00:00Z"},{id:"7",name:"Caf Arabica",description:"Caf en grains 100% Arabica",price:129.9,unit:"500g",category:"Boissons Chaudes",image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:05:00Z",updatedAt:"2024-01-15T11:05:00Z"},{id:"8",name:"Lait Entier Bio",description:"Lait entier biologique de ferme",price:39.9,unit:"1L",category:"Produits Laitiers",image:"https://images.pexels.com/photos/236010/pexels-photo-236010.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:10:00Z",updatedAt:"2024-01-15T11:10:00Z"},{id:"9",name:"Liquide Vaisselle",description:"Liquide vaisselle concentr citron",price:29.9,unit:"500ml",category:"Entretien & Nettoyage",image:"https://images.pexels.com/photos/4239091/pexels-photo-4239091.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:15:00Z",updatedAt:"2024-01-15T11:15:00Z"},{id:"10",name:"Sauce Soja",description:"Sauce soja traditionnelle japonaise",price:44.9,unit:"250ml",category:"Asiatique",image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:20:00Z",updatedAt:"2024-01-15T11:20:00Z"},{id:"11",name:"Fromage Camembert",description:"Camembert de Normandie AOP",price:59.9,unit:"250g",category:"Produits Laitiers",image:"https://images.pexels.com/photos/773253/pexels-photo-773253.jpeg",inStock:!0,visible:!0,createdAt:"2024-01-15T11:25:00Z",updatedAt:"2024-01-15T11:25:00Z"}],zh=R.createContext(void 0),Me=()=>{const t=R.useContext(zh);if(!t)throw new Error("useApp must be used within AppProvider");return t},I0=({children:t})=>{ke();const[e,r]=R.useState([]),[n,s]=R.useState([]),[i,o]=R.useState([]),[a,u]=R.useState([]),[c,d]=R.useState("all"),[h,g]=R.useState(""),[y,x]=R.useState(null),[k,S]=R.useState([]),[p,f]=R.useState(!0),m=A0(),v=(y==null?void 0:y.role)==="admin",b=(y==null?void 0:y.role)==="client",E=e.filter(C=>{const T=c==="all"||C.category===c,A=C.name.toLowerCase().includes(h.toLowerCase())||C.description.toLowerCase().includes(h.toLowerCase()),F=v||C.visible;return T&&A&&F}),w=async C=>{if(!ne()){const T={id:Date.now().toString(),clientName:C.clientName,clientPhone:C.clientPhone,clientEmail:C.clientEmail,notes:C.notes,items:C.items.map(A=>({id:Date.now().toString()+Math.random(),orderId:Date.now().toString(),productId:A.product.id,productName:A.product.name,quantity:A.quantity,unitPrice:A.product.price,totalPrice:A.product.price*A.quantity,createdAt:new Date().toISOString()})),totalAmount:C.items.reduce((A,F)=>A+F.product.price*F.quantity,0),status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};u(A=>[...A,T]);return}try{await m.createOrder(C),await _()}catch(T){throw console.error("Error creating order:",T),T}},_=async()=>{if(!ne())return a;try{const C=await m.fetchOrders();return u(C),C}catch(C){return console.error("Error fetching orders:",C),[]}},j=async(C,T)=>{if(!ne()){u(A=>A.map(F=>F.id===C?{...F,status:T,updatedAt:new Date().toISOString()}:F));return}try{await m.updateOrderStatus(C,T),await _()}catch(A){throw console.error("Error updating order status:",A),A}},P=async C=>{if(!ne()){const T={id:Date.now().toString(),name:C.name,email:C.email,role:"client"};return x(T),!0}try{return await m.signUp(C.email,C.password,C.name),!0}catch(T){return console.error("Registration error:",T),!1}},K=async(C,T)=>{if(!ne()){let A;if(C==="admin@youssefmarket.com"&&T==="admin123")A={id:"admin-1",name:"Admin User",email:"admin@youssefmarket.com",role:"admin"};else if(C==="client@example.com"&&T==="client123")A={id:"client-1",name:"Client User",email:"client@example.com",role:"client"};else return!1;return x(A),!0}try{if(C==="admin@youssefmarket.com"&&T==="admin123"||C==="client@example.com"&&T==="client123")throw new Error("Demo credentials are not available when Supabase is configured. Please register a new account or use your existing credentials.");return await m.signIn(C,T),!0}catch(A){throw console.error("Login error:",A),A instanceof Error&&A.message.includes("Invalid login credentials")?C==="admin@youssefmarket.com"||C==="client@example.com"?new Error("Demo credentials not found in this Supabase project. Please register a new account or remove Supabase configuration to use demo mode."):new Error("Invalid login credentials. Please check your email and password or register a new account."):A}},ce=async C=>{if(!ne()){const T={...C,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(A=>[...A,T]);return}try{await m.addProduct(C),await O()}catch(T){throw console.error("Error adding product:",T),T}},ie=async(C,T)=>{if(!ne()){r(A=>A.map(F=>F.id===C?{...F,...T,updatedAt:new Date().toISOString()}:F));return}try{await m.updateProduct(C,T),await O()}catch(A){throw console.error("Error updating product:",A),A}},I=async C=>{if(!ne()){r(T=>T.filter(A=>A.id!==C));return}try{await m.deleteProduct(C),await O()}catch(T){throw console.error("Error deleting product:",T),T}},Zr=async C=>{if(!ne()){const T={...C,id:Date.now().toString(),productCount:0};s(A=>[...A,T]);return}try{await m.addCategory(C),await L()}catch(T){throw console.error("Error adding category:",T),T}},Yr=async(C,T)=>{if(!ne()){s(A=>A.map(F=>F.id===C?{...F,...T}:F));return}try{await m.updateCategory(C,T),await L()}catch(A){throw console.error("Error updating category:",A),A}},Xr=async C=>{if(!ne()){s(T=>T.filter(A=>A.id!==C));return}try{await m.deleteCategory(C),await L()}catch(T){throw console.error("Error deleting category:",T),T}},O=async()=>{if(!ne()){r(vo);return}try{const C=await m.fetchProducts();r(C)}catch(C){console.error("Error loading products:",C)}},L=async()=>{if(!ne()){s(go);return}try{const T=(await m.fetchCategories()).map(A=>({...A,productCount:e.filter(F=>F.category===A.name).length}));s(T)}catch(C){console.error("Error loading categories:",C)}},U=async C=>{if(!ne()){S(["1","3"]);return}try{const T=await m.fetchUserFavorites(C);S(T)}catch(T){console.error("Error loading favorites:",T)}};R.useEffect(()=>{(async()=>{if(f(!0),!ne()){r(vo),s(go),f(!1);return}try{const{data:{session:A}}=await H.auth.getSession();if(A!=null&&A.user){const F=await m.getCurrentUser();x(F),F&&await U(F.id)}await O(),await L()}catch(A){console.error("Supabase connection failed, using mock data:",A),r(vo),s(go)}f(!1)})();let T=null;if(ne()){const{data:A}=H.auth.onAuthStateChange(async(F,Ii)=>{if(F==="SIGNED_IN"&&(Ii!=null&&Ii.user)){const Li=await m.getCurrentUser();x(Li),Li&&await U(Li.id)}else F==="SIGNED_OUT"&&(x(null),S([]))});T=A.subscription}return()=>{T&&T.unsubscribe()}},[]),R.useEffect(()=>{if(n.length>0&&e.length>0){const C=n.map(T=>({...T,productCount:e.filter(A=>A.category===T.name).length}));s(C)}},[e]);const Y=async C=>{if(y){if(!ne()){S(T=>[...T,C]);return}try{await m.addToFavorites(y.id,C),S(T=>[...T,C])}catch(T){console.error("Error adding to favorites:",T)}}},oe=async C=>{if(y){if(!ne()){S(T=>T.filter(A=>A!==C));return}try{await m.removeFromFavorites(y.id,C),S(T=>T.filter(A=>A!==C))}catch(T){console.error("Error removing from favorites:",T)}}},dr=C=>{o(T=>T.find(F=>F.product.id===C.id)?T.map(F=>F.product.id===C.id?{...F,quantity:F.quantity+1}:F):[...T,{product:C,quantity:1}])},lt=(C,T)=>{if(T<=0){hr(C);return}o(A=>A.map(F=>F.product.id===C?{...F,quantity:T}:F))},hr=C=>{o(T=>T.filter(A=>A.product.id!==C))},ut=()=>{o([])};return l.jsx(zh.Provider,{value:{products:e,categories:n,cart:i,orders:a,selectedCategory:c,searchQuery:h,user:y,isAdmin:v,isClient:b,favorites:k,loading:p,setSelectedCategory:d,setSearchQuery:g,setUser:x,addToFavorites:Y,addToCart:dr,updateCartQuantity:lt,removeFromCart:hr,clearCart:ut,removeFromFavorites:oe,registerUser:P,loginUser:K,addProduct:ce,updateProduct:ie,deleteProduct:I,addCategory:Zr,updateCategory:Yr,deleteCategory:Xr,createOrder:w,fetchOrders:_,updateOrderStatus:j,filteredProducts:E},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(t,e)=>{const r=R.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>R.createElement("svg",{ref:d,...L0,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${D0(t)}`,a].join(" "),...c},[...e.map(([h,g])=>R.createElement(h,g)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Q("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Q("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Q("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),G0=()=>{var n;const{language:t,setLanguage:e}=ke(),r=[{code:"fr",name:"Franais",flag:""},{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}];return l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 text-gray-700 hover:text-emerald-600 transition-colors",children:[l.jsx(z0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:(n=r.find(s=>s.code===t))==null?void 0:n.flag})]}),l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:l.jsx("div",{className:"py-2",children:r.map(s=>l.jsxs("button",{onClick:()=>e(s.code),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 flex items-center space-x-3 ${t===s.code?"bg-emerald-50 text-emerald-600":"text-gray-700"}`,children:[l.jsx("span",{className:"text-lg",children:s.flag}),l.jsx("span",{children:s.name})]},s.code))})})]})},J0=({currentView:t,setCurrentView:e,onCartClick:r})=>{const{user:n,setUser:s,isAdmin:i,isClient:o,cart:a}=Me(),{t:u}=ke(),c=a.reduce((h,g)=>h+g.quantity,0),d=()=>{s(null),e("catalog")};return l.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ri,{className:"w-8 h-8 text-emerald-600 mr-3"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u("store.name")})]}),l.jsxs("nav",{className:"hidden md:flex space-x-8",children:[l.jsx("button",{onClick:()=>e("catalog"),className:`${t==="catalog"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-700 hover:text-emerald-600"} px-3 py-2 text-sm font-medium transition-colors`,children:u("nav.products")}),l.jsx("button",{onClick:()=>e("categories"),className:`${t==="categories"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-700 hover:text-emerald-600"} px-3 py-2 text-sm font-medium transition-colors`,children:u("nav.categories")}),i&&l.jsx("button",{onClick:()=>e("admin"),className:`${t==="admin"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-700 hover:text-emerald-600"} px-3 py-2 text-sm font-medium transition-colors`,children:u("nav.admin")})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(G0,{}),r&&l.jsxs("button",{onClick:r,className:"relative p-2 text-gray-600 hover:text-emerald-600 transition-colors",children:[l.jsx(V0,{className:"w-6 h-6"}),c>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-emerald-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:c})]}),n?l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Hr,{className:"w-5 h-5 text-gray-600"}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:n.name}),i&&l.jsx("span",{className:"px-2 py-1 text-xs bg-emerald-100 text-emerald-800 rounded-full",children:"Admin"}),o&&l.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:"Client"})]}),l.jsxs("button",{onClick:d,className:"flex items-center space-x-1 text-gray-600 hover:text-gray-900 transition-colors",children:[l.jsx(q0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:u("nav.logout")})]})]}):l.jsxs("button",{onClick:()=>e("login"),className:"flex items-center space-x-2 bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:[l.jsx(Hr,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:u("nav.login")})]})]})]})})})},Z0=()=>{const{searchQuery:t,setSearchQuery:e}=Me(),{t:r}=ke();return l.jsxs("div",{className:"relative w-full max-w-md",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(H0,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",placeholder:r("catalog.search"),value:t,onChange:n=>e(n.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-colors"})]})},Y0=()=>{const{categories:t,selectedCategory:e,setSelectedCategory:r}=Me(),{t:n}=ke();return l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[l.jsx("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${e==="all"?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n("catalog.allCategories")}),t.map(s=>l.jsx("button",{onClick:()=>r(s.name),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${e===s.name?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.name},s.id))]})},X0=({product:t,onRequestQuote:e,onAddToCart:r})=>{const{isAdmin:n,isClient:s,favorites:i,addToFavorites:o,removeFromFavorites:a}=Me(),{t:u}=ke(),c=i.includes(t.id),d=()=>{navigator.share?navigator.share({title:t.name,text:t.description,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href).then(()=>{console.log("Link copied to clipboard")}).catch(console.error)},h=()=>{c?a(t.id):o(t.id)},g=y=>`${y.toFixed(2)} ${u("currency.symbol")}`;return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden group",children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[!t.visible&&n&&l.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"Hidden"}),l.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.inStock?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.inStock?u("product.inStock"):u("product.onRequest")})]})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-emerald-600 transition-colors",children:t.name}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xl font-bold text-emerald-600",children:g(t.price)}),l.jsx("div",{className:"text-sm text-gray-500",children:t.unit})]})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Qn,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-500",children:t.category})]})}),l.jsxs("div",{className:"flex space-x-2",children:[s&&l.jsx("button",{onClick:h,className:`${c?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"} py-2 px-3 rounded-lg transition-colors`,title:u(c?"product.removeFromFavorites":"product.addToFavorites"),children:l.jsx(F0,{className:`w-4 h-4 ${c?"fill-current":""}`})}),r&&l.jsx("button",{onClick:()=>r(t),className:"bg-blue-600 text-white py-2 px-3 rounded-lg hover:bg-blue-700 transition-colors",title:u("order.addToCart"),children:l.jsx(Ri,{className:"w-4 h-4"})}),l.jsxs("button",{onClick:()=>e==null?void 0:e(t),className:"flex-1 bg-emerald-600 text-white py-2 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(B0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:u("product.requestQuote")})]}),l.jsx("button",{onClick:d,className:"bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors",children:l.jsx(U0,{className:"w-4 h-4"})})]})]})]})},ev=({product:t,onClose:e})=>{const{t:r}=ke(),[n,s]=R.useState(!1),[i,o]=R.useState({name:"",email:"",phone:"",quantity:1,message:""}),a=c=>{if(c.preventDefault(),s(!0),!ne()){setTimeout(()=>{s(!1),e(),console.log("Quote request submitted (demo mode):",i),alert(r("quote.success"))},1e3);return}console.log("Quote request submitted:",{product:t,...i}),alert(r("quote.success")),s(!1),e()},u=()=>{const c=`Bonjour! Je suis intress par ${t.name} (${t.unit})  ${t.price.toFixed(2)} ${r("currency.symbol")}. Pouvez-vous me fournir un devis pour ${i.quantity} units?`,d=`https://wa.me/1234567890?text=${encodeURIComponent(c)}`;window.open(d,"_blank")};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r("quote.title")}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(_t,{className:"w-5 h-5 text-gray-500"})})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("img",{src:t.image,alt:t.name,className:"w-16 h-16 object-cover rounded-lg"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),l.jsx("p",{className:"text-sm text-gray-600",children:t.unit}),l.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:[t.price.toFixed(2)," ",r("currency.symbol")]})]})]})}),l.jsxs("form",{onSubmit:a,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("quote.name")," *"]}),l.jsx("input",{type:"text",required:!0,value:i.name,onChange:c=>o({...i,name:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("quote.email")," *"]}),l.jsx("input",{type:"email",required:!0,value:i.email,onChange:c=>o({...i,email:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("quote.phone")}),l.jsx("input",{type:"tel",value:i.phone,onChange:c=>o({...i,phone:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r("quote.quantity")," *"]}),l.jsx("input",{type:"number",min:"1",required:!0,value:i.quantity,onChange:c=>o({...i,quantity:parseInt(c.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r("quote.message")}),l.jsx("textarea",{rows:3,value:i.message,onChange:c=>o({...i,message:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none resize-none",placeholder:r("quote.messagePlaceholder")})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsxs("button",{type:"submit",disabled:n,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[l.jsx(kl,{className:"w-4 h-4"}),l.jsx("span",{children:r(n?"common.loading":"quote.send")})]}),l.jsxs("button",{type:"button",onClick:u,className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(ci,{className:"w-4 h-4"}),l.jsx("span",{children:r("quote.whatsapp")})]})]})]})]})})})},tv=()=>{const{filteredProducts:t,loading:e,addToCart:r}=Me(),{t:n}=ke(),[s,i]=R.useState(null),[o,a]=R.useState(!1),u=d=>{i(d),a(!0)},c=()=>{a(!1),i(null)};return e?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:n("common.loading")})]}):t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n("catalog.noProducts")}),l.jsx("p",{className:"text-gray-600",children:n("catalog.noProductsDesc")})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(d=>l.jsx(X0,{product:d,onRequestQuote:u,onAddToCart:r},d.id))}),o&&s&&l.jsx(ev,{product:s,onClose:c})]})},rv=()=>{const{categories:t,setSelectedCategory:e,setSearchQuery:r,loading:n}=Me(),{t:s}=ke(),i=o=>{e(o),r(""),window.location.hash="#catalog"};return n?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:s("common.loading")})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>l.jsxs("div",{onClick:()=>i(o.name),className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden cursor-pointer group",children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{src:o.image,alt:o.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[l.jsx("h3",{className:"text-xl font-bold mb-1",children:o.name}),l.jsx("p",{className:"text-sm opacity-90",children:o.description})]})]}),l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[o.productCount," ",s("categories.products")]}),l.jsx("button",{className:"text-emerald-600 hover:text-emerald-700 font-medium text-sm",children:s("categories.viewProducts")})]})})]},o.id))})},nv=({onSuccess:t})=>{const{loginUser:e,registerUser:r}=Me(),{t:n}=ke(),[s,i]=R.useState(!0),[o,a]=R.useState(!1),[u,c]=R.useState(!1),[d,h]=R.useState(!1),[g,y]=R.useState(""),[x,k]=R.useState({name:"",email:"",password:"",confirmPassword:""}),S=()=>!x.email||!x.password||!s&&!x.name?(y(n("validation.required")),!1):!s&&x.password!==x.confirmPassword?(y(n("validation.passwordMatch")),!1):x.password.length<6?(y(n("validation.password")),!1):!0,p=async v=>{if(v.preventDefault(),y(""),!!S()){h(!0);try{let b=!1;s?b=await e(x.email,x.password):b=await r({name:x.name,email:x.email,password:x.password}),b?t():y(s?"Identifiants invalides":"Erreur lors de l'inscription")}catch(b){y(b instanceof Error?b.message:"Une erreur est survenue")}finally{h(!1)}}},f=()=>{i(!s),y(""),k({name:"",email:"",password:"",confirmPassword:""})},m=v=>{k(v==="admin"?{...x,email:"admin@youssefmarket.com",password:"admin123"}:{...x,email:"client@example.com",password:"client123"})};return l.jsx("div",{className:"max-w-md mx-auto",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n(s?"auth.welcomeBack":"auth.createAccount")}),l.jsx("p",{className:"text-gray-600",children:n(s?"auth.signIn":"auth.joinUs")})]}),g&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:g})}),l.jsxs("form",{onSubmit:p,className:"space-y-6",children:[!s&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("auth.fullName")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Hr,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",required:!s,value:x.name,onChange:v=>k({...x,name:v.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"Entrez votre nom complet"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("auth.email")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Hr,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"email",required:!0,value:x.email,onChange:v=>k({...x,email:v.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"Entrez votre email"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("auth.password")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ju,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:o?"text":"password",required:!0,value:x.password,onChange:v=>k({...x,password:v.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"Entrez votre mot de passe"}),l.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?l.jsx(wa,{className:"h-5 w-5 text-gray-400"}):l.jsx(Vn,{className:"h-5 w-5 text-gray-400"})})]})]}),!s&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[n("auth.confirmPassword")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ju,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:u?"text":"password",required:!s,value:x.confirmPassword,onChange:v=>k({...x,confirmPassword:v.target.value}),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"Confirmez votre mot de passe"}),l.jsx("button",{type:"button",onClick:()=>c(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?l.jsx(wa,{className:"h-5 w-5 text-gray-400"}):l.jsx(Vn,{className:"h-5 w-5 text-gray-400"})})]})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors font-medium disabled:opacity-50",children:n(d?"common.loading":s?"auth.signInButton":"auth.registerButton")})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[n(s?"auth.noAccount":"auth.hasAccount")," ",l.jsx("button",{type:"button",onClick:f,className:"text-emerald-600 hover:text-emerald-700 font-medium",children:n(s?"auth.registerLink":"auth.loginLink")})]})}),s&&l.jsx("div",{className:"mt-6 space-y-3",children:l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600 text-center mb-3",children:l.jsxs("strong",{children:[n("demo.credentials"),":"]})}),l.jsx("p",{className:"text-sm text-gray-600 text-center",children:ne()?"Create an account in your Supabase project, or remove Supabase configuration to use demo mode with: admin@youssefmarket.com / admin123":"Demo mode active. Use: admin@youssefmarket.com / admin123 or client@example.com / client123"}),l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsx("button",{type:"button",onClick:()=>m("admin"),className:"w-full text-xs bg-blue-50 text-blue-700 py-2 px-3 rounded border border-blue-200 hover:bg-blue-100",children:"Fill Admin Demo (admin@youssefmarket.com)"}),l.jsx("button",{type:"button",onClick:()=>m("client"),className:"w-full text-xs bg-green-50 text-green-700 py-2 px-3 rounded border border-green-200 hover:bg-green-100",children:"Fill Client Demo (client@example.com)"})]})]})})]})})},sv=({product:t,onClose:e,onSuccess:r})=>{const{categories:n,addProduct:s,updateProduct:i,loading:o}=Me(),{t:a}=ke(),[u,c]=R.useState({name:"",description:"",price:0,unit:"",category:"",image:"",inStock:!0,visible:!0}),[d,h]=R.useState({}),[g,y]=R.useState(!1);R.useEffect(()=>{t&&c({name:t.name,description:t.description,price:t.price,unit:t.unit,category:t.category,image:t.image,inStock:t.inStock,visible:t.visible})},[t]);const x=()=>{const S={};return u.name.trim()||(S.name=a("validation.required")),u.description.trim()||(S.description=a("validation.required")),u.price<=0&&(S.price=a("validation.pricePositive")),u.unit.trim()||(S.unit=a("validation.required")),u.category||(S.category=a("validation.required")),u.image.trim()||(S.image=a("validation.required")),h(S),Object.keys(S).length===0},k=async S=>{if(S.preventDefault(),!!x()){y(!0);try{t?await i(t.id,u):await s(u),r(),e()}catch(p){console.error("Error saving product:",p),alert("Erreur lors de la sauvegarde du produit")}finally{y(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:a(t?"form.editProduct":"form.addProduct")}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(_t,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.productName")," *"]}),l.jsx("input",{type:"text",value:u.name,onChange:S=>c({...u,name:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.name?"border-red-500":"border-gray-300"}`,placeholder:"Ex: Riz Basmati Premium"}),d.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.category")," *"]}),l.jsxs("select",{value:u.category,onChange:S=>c({...u,category:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.category?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:a("form.selectCategory")}),n.map(S=>l.jsx("option",{value:S.name,children:S.name},S.id))]}),d.category&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.category})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.description")," *"]}),l.jsx("textarea",{rows:3,value:u.description,onChange:S=>c({...u,description:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none resize-none ${d.description?"border-red-500":"border-gray-300"}`,placeholder:"Description dtaille du produit..."}),d.description&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.description})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.price")," *"]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:u.price,onChange:S=>c({...u,price:parseFloat(S.target.value)||0}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),d.price&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.price})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.unit")," *"]}),l.jsx("input",{type:"text",value:u.unit,onChange:S=>c({...u,unit:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.unit?"border-red-500":"border-gray-300"}`,placeholder:"Ex: 1kg, 500ml, 1 pice"}),d.unit&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.unit})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a("form.image")," *"]}),l.jsx("input",{type:"url",value:u.image,onChange:S=>c({...u,image:S.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.image?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com/image.jpg"}),d.image&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.image}),u.image&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:u.image,alt:"Aperu",className:"w-20 h-20 object-cover rounded-lg",onError:S=>{const p=S.currentTarget;p.style.display="none"}})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"inStock",checked:u.inStock,onChange:S=>c({...u,inStock:S.target.checked}),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"inStock",className:"ml-2 text-sm text-gray-700",children:a("form.inStock")})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"visible",checked:u.visible,onChange:S=>c({...u,visible:S.target.checked}),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),l.jsx("label",{htmlFor:"visible",className:"ml-2 text-sm text-gray-700",children:a("form.visible")})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:a("form.cancel")}),l.jsxs("button",{type:"submit",disabled:g||o,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[l.jsx(Mh,{className:"w-4 h-4"}),l.jsx("span",{children:a(g||o?"form.saving":"form.save")})]})]})]})]})})})},iv=({category:t,onClose:e,onSuccess:r})=>{const{addCategory:n,updateCategory:s,loading:i}=Me(),{t:o}=ke(),[a,u]=R.useState({name:"",description:"",image:""}),[c,d]=R.useState({}),[h,g]=R.useState(!1);R.useEffect(()=>{t&&u({name:t.name,description:t.description,image:t.image})},[t]);const y=()=>{const k={};return a.name.trim()||(k.name=o("validation.required")),a.description.trim()||(k.description=o("validation.required")),a.image.trim()||(k.image=o("validation.required")),d(k),Object.keys(k).length===0},x=async k=>{if(k.preventDefault(),!!y()){g(!0);try{t?await s(t.id,a):await n(a),r(),e()}catch(S){console.error("Error saving category:",S),alert("Erreur lors de la sauvegarde de la catgorie")}finally{g(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-md w-full",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o(t?"form.editCategory":"form.addCategory")}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(_t,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o("form.categoryName")," *"]}),l.jsx("input",{type:"text",value:a.name,onChange:k=>u({...a,name:k.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${c.name?"border-red-500":"border-gray-300"}`,placeholder:"Ex: Epicerie"}),c.name&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.name})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o("form.description")," *"]}),l.jsx("textarea",{rows:3,value:a.description,onChange:k=>u({...a,description:k.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none resize-none ${c.description?"border-red-500":"border-gray-300"}`,placeholder:"Description de la catgorie..."}),c.description&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.description})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o("form.image")," *"]}),l.jsx("input",{type:"url",value:a.image,onChange:k=>u({...a,image:k.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${c.image?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com/image.jpg"}),c.image&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.image}),a.image&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:a.image,alt:"Aperu",className:"w-20 h-20 object-cover rounded-lg",onError:k=>{const S=k.currentTarget;S.style.display="none"}})})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:o("form.cancel")}),l.jsxs("button",{type:"submit",disabled:h||i,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[l.jsx(Mh,{className:"w-4 h-4"}),l.jsx("span",{children:o(h||i?"form.saving":"form.save")})]})]})]})]})})})},ov=()=>{const{fetchOrders:t,updateOrderStatus:e,loading:r}=Me(),{t:n}=ke(),[s,i]=R.useState([]),[o,a]=R.useState(null),[u,c]=R.useState(!1),[d,h]=R.useState("all");R.useEffect(()=>{g()},[]);const g=async()=>{try{const v=await t();i(v)}catch(v){console.error("Error loading orders:",v)}},y=async(v,b)=>{try{await e(v,b),await g()}catch(E){console.error("Error updating order status:",E)}},x=v=>{switch(v){case"pending":return l.jsx(yo,{className:"w-4 h-4 text-yellow-600"});case"confirmed":return l.jsx(Ls,{className:"w-4 h-4 text-blue-600"});case"preparing":return l.jsx(Qn,{className:"w-4 h-4 text-orange-600"});case"ready":return l.jsx(Ls,{className:"w-4 h-4 text-green-600"});case"delivered":return l.jsx(Q0,{className:"w-4 h-4 text-green-700"});case"cancelled":return l.jsx(_t,{className:"w-4 h-4 text-red-600"});default:return l.jsx(yo,{className:"w-4 h-4 text-gray-600"})}},k=v=>{switch(v){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"preparing":return"bg-orange-100 text-orange-800";case"ready":return"bg-green-100 text-green-800";case"delivered":return"bg-green-200 text-green-900";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=v=>`${v.toFixed(2)} ${n("currency.symbol")}`,p=v=>new Date(v).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=s.filter(v=>d==="all"||v.status===d),m=[{title:n("admin.totalOrders"),value:s.length,icon:Qn,color:"text-blue-600"},{title:n("admin.pendingOrders"),value:s.filter(v=>v.status==="pending").length,icon:yo,color:"text-yellow-600"},{title:n("admin.totalRevenue"),value:S(s.filter(v=>v.status==="delivered").reduce((v,b)=>v+b.totalAmount,0)),icon:Ls,color:"text-green-600"}];return r?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:n("common.loading")})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n("admin.orderManagement")})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:m.map((v,b)=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:v.title}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.value})]}),l.jsx(v.icon,{className:`w-8 h-8 ${v.color}`})]})},b))}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${d==="all"?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Toutes"}),["pending","confirmed","preparing","ready","delivered","cancelled"].map(v=>l.jsx("button",{onClick:()=>h(v),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${d===v?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n(`orderStatus.${v}`)},v))]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commande"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(v=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",v.id.slice(-8)]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[v.items.length," article(s)"]})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.clientName}),l.jsx("div",{className:"text-sm text-gray-500",children:v.clientPhone})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S(v.totalAmount)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(v.status)}`,children:[x(v.status),l.jsx("span",{className:"ml-1",children:n(`orderStatus.${v.status}`)})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p(v.createdAt)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>{a(v),c(!0)},className:"text-blue-600 hover:text-blue-900",title:"Voir les dtails",children:l.jsx(Vn,{className:"w-4 h-4"})}),l.jsxs("select",{value:v.status,onChange:b=>y(v.id,b.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[l.jsx("option",{value:"pending",children:n("orderStatus.pending")}),l.jsx("option",{value:"confirmed",children:n("orderStatus.confirmed")}),l.jsx("option",{value:"preparing",children:n("orderStatus.preparing")}),l.jsx("option",{value:"ready",children:n("orderStatus.ready")}),l.jsx("option",{value:"delivered",children:n("orderStatus.delivered")}),l.jsx("option",{value:"cancelled",children:n("orderStatus.cancelled")})]})]})})]},v.id))})]})})}),u&&o&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[n("admin.orderDetails")," #",o.id.slice(-8)]}),l.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(_t,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:n("admin.clientInfo")}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Hr,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{children:o.clientName})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ci,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{children:o.clientPhone})]}),o.clientEmail&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(kl,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{children:o.clientEmail})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:n("admin.orderItems")}),l.jsx("div",{className:"space-y-3",children:o.items.map(v=>l.jsxs("div",{className:"flex justify-between items-center p-3 border border-gray-200 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:v.productName}),l.jsxs("div",{className:"text-sm text-gray-500",children:[S(v.unitPrice)," x ",v.quantity]})]}),l.jsx("div",{className:"font-bold text-gray-900",children:S(v.totalPrice)})]},v.id))})]}),o.notes&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:n("admin.orderNotes")}),l.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:o.notes})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[l.jsxs("span",{children:[n("order.total"),":"]}),l.jsx("span",{className:"text-emerald-600",children:S(o.totalAmount)})]}),l.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Commande passe le ",p(o.createdAt)]})]})]})})})]})},Fh=({type:t,message:e,onClose:r,duration:n=3e3})=>(R.useEffect(()=>{if(n<=0)return;const s=setTimeout(()=>{r()},n);return()=>clearTimeout(s)},[r,n]),l.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-top-2 duration-300",children:l.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg shadow-lg ${t==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[t==="success"?l.jsx(Ls,{className:"w-5 h-5 text-green-600"}):l.jsx(K0,{className:"w-5 h-5 text-red-600"}),l.jsx("span",{className:"text-sm font-medium",children:e}),l.jsx("button",{onClick:r,className:"ml-2 text-gray-400 hover:text-gray-600",children:l.jsx(_t,{className:"w-4 h-4"})})]})})),av=()=>{const{products:t,categories:e,updateProduct:r,deleteProduct:n,deleteCategory:s,loading:i}=Me(),{t:o}=ke(),[a,u]=R.useState("products"),[c,d]=R.useState(!1),[h,g]=R.useState(!1),[y,x]=R.useState(),[k,S]=R.useState(),[p,f]=R.useState(null),m=I=>{r(I.id,{visible:!I.visible}).then(()=>{f({type:"success",message:I.visible?o("message.productHidden"):o("message.productShown")})}).catch(()=>{f({type:"error",message:"Erreur lors de la modification du produit"})})},v=I=>{window.confirm("tes-vous sr de vouloir supprimer ce produit ?")&&n(I).then(()=>{f({type:"success",message:o("message.productDeleted")})}).catch(()=>{f({type:"error",message:"Erreur lors de la suppression du produit"})})},b=I=>{window.confirm("tes-vous sr de vouloir supprimer cette catgorie ?")&&s(I).then(()=>{f({type:"success",message:o("message.categoryDeleted")})}).catch(()=>{f({type:"error",message:"Erreur lors de la suppression de la catgorie"})})},E=I=>{x(I),d(!0)},w=I=>{S(I),g(!0)},_=()=>{x(void 0),d(!0)},j=()=>{S(void 0),g(!0)},P=()=>{f({type:"success",message:o(y?"message.productUpdated":k?"message.categoryUpdated":c?"message.productAdded":"message.categoryAdded")}),setTimeout(()=>f(null),3e3)},K=()=>{d(!1),x(void 0)},ce=()=>{g(!1),S(void 0)},ie=[{title:o("admin.totalProducts"),value:t.length,icon:Qn,color:"text-blue-600"},{title:o("admin.visibleProducts"),value:t.filter(I=>I.visible).length,icon:Vn,color:"text-green-600"},{title:o("admin.categories"),value:e.length,icon:M0,color:"text-purple-600"},{title:o("admin.inStock"),value:t.filter(I=>I.inStock).length,icon:Qn,color:"text-emerald-600"}];return i?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:o("common.loading")})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o("admin.dashboard")}),l.jsx("div",{className:"flex space-x-3",children:a==="products"?l.jsxs("button",{onClick:_,className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[l.jsx(_a,{className:"w-4 h-4"}),l.jsx("span",{children:o("admin.addProduct")})]}):l.jsxs("button",{onClick:j,className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[l.jsx(_a,{className:"w-4 h-4"}),l.jsx("span",{children:o("admin.addCategory")})]})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ie.map((I,Zr)=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:I.title}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.value})]}),l.jsx(I.icon,{className:`w-8 h-8 ${I.color}`})]})},Zr))}),l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex space-x-8",children:[l.jsx("button",{onClick:()=>u("products"),className:`${a==="products"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm`,children:o("admin.products")}),l.jsx("button",{onClick:()=>u("categories"),className:`${a==="categories"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm`,children:o("admin.categories")}),l.jsx("button",{onClick:()=>u("orders"),className:`${a==="orders"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm`,children:o("admin.orders")})]})}),a==="orders"&&l.jsx(ov,{}),a==="products"&&l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.product")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.category")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.price")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.status")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.actions")})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:I.image,alt:I.name,className:"w-10 h-10 object-cover rounded-lg mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),l.jsx("div",{className:"text-sm text-gray-500",children:I.unit})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:I.category})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[I.price.toFixed(2)," ",o("currency.symbol")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${I.inStock?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:I.inStock?o("product.inStock"):o("product.onRequest")}),l.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${I.visible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:I.visible?o("admin.visible"):o("admin.hidden")})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>m(I),className:"text-gray-600 hover:text-gray-900",title:I.visible?o("admin.hide"):o("admin.show"),children:I.visible?l.jsx(wa,{className:"w-4 h-4"}):l.jsx(Vn,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>E(I),className:"text-blue-600 hover:text-blue-900",title:o("admin.edit"),children:l.jsx(Zu,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>v(I.id),className:"text-red-600 hover:text-red-900",title:o("admin.delete"),children:l.jsx(ka,{className:"w-4 h-4"})})]})})]},I.id))})]})})}),a==="categories"&&l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.category")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.products")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:o("admin.actions")})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("img",{src:I.image,alt:I.name,className:"w-10 h-10 object-cover rounded-lg mr-3"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),l.jsx("div",{className:"text-sm text-gray-500",children:I.description})]})]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[I.productCount," ",o("categories.products")]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("button",{onClick:()=>w(I),className:"text-blue-600 hover:text-blue-900",title:o("admin.edit"),children:l.jsx(Zu,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>b(I.id),className:"text-red-600 hover:text-red-900",title:o("admin.delete"),children:l.jsx(ka,{className:"w-4 h-4"})})]})})]},I.id))})]})})}),c&&l.jsx(sv,{product:y,onClose:K,onSuccess:P}),h&&l.jsx(iv,{category:k,onClose:ce,onSuccess:P}),p&&l.jsx(Fh,{type:p.type,message:p.message,onClose:()=>f(null)})]})},lv=({onClose:t,onCheckout:e})=>{const{cart:r,updateCartQuantity:n,removeFromCart:s,clearCart:i}=Me(),{t:o}=ke(),a=r.reduce((c,d)=>c+d.product.price*d.quantity,0),u=c=>`${c.toFixed(2)} ${o("currency.symbol")}`;return r.length===0?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o("order.cart")}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(_t,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ri,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:o("order.cartEmpty")})]}),l.jsx("button",{onClick:t,className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:o("order.continueShopping")})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o("order.cart")}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(_t,{className:"w-5 h-5 text-gray-500"})})]}),l.jsx("div",{className:"space-y-4 mb-6",children:r.map(c=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[l.jsx("img",{src:c.product.image,alt:c.product.name,className:"w-16 h-16 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:c.product.name}),l.jsx("p",{className:"text-sm text-gray-600",children:c.product.unit}),l.jsx("p",{className:"text-emerald-600 font-bold",children:u(c.product.price)})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>n(c.product.id,c.quantity-1),className:"p-1 hover:bg-gray-100 rounded",disabled:c.quantity<=1,"aria-label":"Decrease quantity",children:l.jsx(W0,{className:"w-4 h-4"})}),l.jsx("span",{className:"w-8 text-center font-medium",children:c.quantity}),l.jsx("button",{onClick:()=>n(c.product.id,c.quantity+1),className:"p-1 hover:bg-gray-100 rounded","aria-label":"Increase quantity",children:l.jsx(_a,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"font-bold text-gray-900",children:u(c.product.price*c.quantity)}),l.jsx("button",{onClick:()=>s(c.product.id),className:"text-red-600 hover:text-red-800 mt-1",children:l.jsx(ka,{className:"w-4 h-4"})})]})]},c.product.id))}),l.jsx("div",{className:"border-t pt-4 mb-6",children:l.jsxs("div",{className:"flex justify-between items-center text-xl font-bold",children:[l.jsxs("span",{children:[o("order.total"),":"]}),l.jsx("span",{className:"text-emerald-600",children:u(a)})]})}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:t,className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:o("order.continueShopping")}),l.jsx("button",{onClick:e,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors",children:o("order.checkout")})]})]})})})},uv=({onClose:t,onSuccess:e})=>{const{cart:r,createOrder:n,clearCart:s}=Me(),{t:i}=ke(),[o,a]=R.useState(!1),[u,c]=R.useState({clientName:"",clientPhone:"",clientEmail:"",notes:""}),[d,h]=R.useState({}),g=r.reduce((p,f)=>p+f.product.price*f.quantity,0),y=()=>{const p={};return u.clientName.trim()||(p.clientName=i("validation.required")),u.clientPhone.trim()||(p.clientPhone=i("validation.required")),u.clientEmail&&!/\S+@\S+\.\S+/.test(u.clientEmail)&&(p.clientEmail=i("validation.email")),h(p),Object.keys(p).length===0},x=async p=>{if(p.preventDefault(),!!y()){a(!0);try{await n({clientName:u.clientName,clientPhone:u.clientPhone,clientEmail:u.clientEmail||void 0,notes:u.notes||void 0,items:r}),s(),e(),t()}catch(f){console.error("Error creating order:",f),alert("Erreur lors de la cration de la commande")}finally{a(!1)}}},k=p=>`${p.toFixed(2)} ${i("currency.symbol")}`,S=()=>{const f=`Bonjour! Je souhaite passer une commande:

${r.map(v=>`${v.product.name} x${v.quantity} - ${k(v.product.price*v.quantity)}`).join(`
`)}

Total: ${k(g)}

Nom: ${u.clientName}
Tlphone: ${u.clientPhone}${u.notes?`
Notes: ${u.notes}`:""}`,m=`https://wa.me/1234567890?text=${encodeURIComponent(f)}`;window.open(m,"_blank")};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i("order.title")}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(_t,{className:"w-5 h-5 text-gray-500"})})]}),l.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:i("order.orderSummary")}),l.jsx("div",{className:"space-y-2",children:r.map(p=>l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsxs("span",{children:[p.product.name," x",p.quantity]}),l.jsx("span",{className:"font-medium",children:k(p.product.price*p.quantity)})]},p.product.id))}),l.jsxs("div",{className:"border-t mt-3 pt-3 flex justify-between items-center font-bold",children:[l.jsxs("span",{children:[i("order.total"),":"]}),l.jsx("span",{className:"text-emerald-600",children:k(g)})]})]}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i("order.clientName")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Hr,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",required:!0,value:u.clientName,onChange:p=>c({...u,clientName:p.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.clientName?"border-red-500":"border-gray-300"}`,placeholder:"Entrez votre nom complet"})]}),d.clientName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.clientName})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i("order.clientPhone")," *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(ci,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"tel",required:!0,value:u.clientPhone,onChange:p=>c({...u,clientPhone:p.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.clientPhone?"border-red-500":"border-gray-300"}`,placeholder:"Entrez votre numro de tlphone"})]}),d.clientPhone&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.clientPhone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("order.clientEmail")}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(kl,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"email",value:u.clientEmail,onChange:p=>c({...u,clientEmail:p.target.value}),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none ${d.clientEmail?"border-red-500":"border-gray-300"}`,placeholder:"Entrez votre email (optionnel)"})]}),d.clientEmail&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.clientEmail})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("order.notes")}),l.jsx("textarea",{rows:3,value:u.notes,onChange:p=>c({...u,notes:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none resize-none",placeholder:i("order.notesPlaceholder")})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsxs("button",{type:"submit",disabled:o,className:"flex-1 bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[l.jsx(Ri,{className:"w-4 h-4"}),l.jsx("span",{children:i(o?"form.saving":"order.placeOrder")})]}),l.jsxs("button",{type:"button",onClick:S,className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(ci,{className:"w-4 h-4"}),l.jsx("span",{children:"WhatsApp"})]})]})]})]})})})};function cv(){const[t,e]=R.useState("catalog"),[r,n]=R.useState(!1),[s,i]=R.useState(!1),[o,a]=R.useState(null),u=()=>{n(!0)},c=()=>{n(!1),i(!0)},d=()=>{i(!1),a({type:"success",message:"Commande passe avec succs!"}),setTimeout(()=>a(null),3e3)};R.useEffect(()=>{const g=()=>{window.location.hash==="#catalog"&&(e("catalog"),window.location.hash="")};return window.addEventListener("hashchange",g),()=>window.removeEventListener("hashchange",g)},[]);const h=()=>{switch(t){case"login":return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsx(nv,{onSuccess:()=>e("catalog")})});case"admin":return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsx(av,{})})});case"categories":return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catgories de Produits"}),l.jsx("p",{className:"text-gray-600",children:"Parcourez notre large gamme de catgories de produits"})]}),l.jsx(rv,{})]})});case"catalog":default:return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catalogue Produits"}),l.jsx("p",{className:"text-gray-600",children:"Dcouvrez nos produits frais et de qualit"})]}),l.jsx("div",{className:"mt-4 md:mt-0",children:l.jsx(Z0,{})})]}),l.jsx(Y0,{})]}),l.jsx(tv,{})]})})}};return l.jsx(R0,{children:l.jsxs(I0,{children:[!ne()&&l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:l.jsx("div",{className:"flex",children:l.jsx("div",{className:"ml-3",children:l.jsxs("p",{className:"text-sm text-yellow-700",children:[l.jsx("strong",{children:"Mode Dmonstration:"})," L'application fonctionne avec des donnes de test. Pour utiliser une vraie base de donnes, configurez Supabase dans le fichier .env"]})})})}),l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(J0,{currentView:t,setCurrentView:e,onCartClick:u}),h(),r&&l.jsx(lv,{onClose:()=>n(!1),onCheckout:c}),s&&l.jsx(uv,{onClose:()=>i(!1),onSuccess:d}),o&&l.jsx(Fh,{type:o.type,message:o.message,onClose:()=>a(null)})]})]})})}ch(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(cv,{})}));
